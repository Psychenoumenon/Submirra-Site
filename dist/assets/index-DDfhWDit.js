(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ac={exports:{}},Mi={},Oc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),Ef=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Tf=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),Af=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Rf=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),ru=Symbol.iterator;function Lf(e){return e===null||typeof e!="object"?null:(e=ru&&e[ru]||e["@@iterator"],typeof e=="function"?e:null)}var Dc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rc=Object.assign,$c={};function kn(e,t,r){this.props=e,this.context=t,this.refs=$c,this.updater=r||Dc}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lc(){}Lc.prototype=kn.prototype;function Jl(e,t,r){this.props=e,this.context=t,this.refs=$c,this.updater=r||Dc}var Xl=Jl.prototype=new Lc;Xl.constructor=Jl;Rc(Xl,kn.prototype);Xl.isPureReactComponent=!0;var nu=Array.isArray,Ic=Object.prototype.hasOwnProperty,Zl={current:null},Uc={key:!0,ref:!0,__self:!0,__source:!0};function Mc(e,t,r){var n,s={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ic.call(t,n)&&!Uc.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ks,type:e,key:i,ref:l,props:s,_owner:Zl.current}}function If(e,t){return{$$typeof:ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ks}function Uf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var su=/\/+/g;function ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uf(""+e.key):t.toString(36)}function Zs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ks:case Ef:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ha(l,0):n,nu(s)?(r="",e!=null&&(r=e.replace(su,"$&/")+"/"),Zs(s,t,r,"",function(c){return c})):s!=null&&(eo(s)&&(s=If(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(su,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",nu(e))for(var o=0;o<e.length;o++){i=e[o];var u=n+ha(i,o);l+=Zs(i,t,r,u,s)}else if(u=Lf(e),typeof u=="function")for(e=u.call(e),o=0;!(i=e.next()).done;)i=i.value,u=n+ha(i,o++),l+=Zs(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function As(e,t,r){if(e==null)return e;var n=[],s=0;return Zs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Mf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},ei={transition:null},Ff={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ei,ReactCurrentOwner:Zl};function Fc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:As,forEach:function(e,t,r){As(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return As(e,function(){t++}),t},toArray:function(e){return As(e,function(t){return t})||[]},only:function(e){if(!eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=kn;H.Fragment=Cf;H.Profiler=zf;H.PureComponent=Jl;H.StrictMode=Tf;H.Suspense=Df;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ff;H.act=Fc;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Rc({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Zl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)Ic.call(t,u)&&!Uc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ks,type:e.type,key:s,ref:i,props:n,_owner:l}};H.createContext=function(e){return e={$$typeof:Af,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pf,_context:e},e.Consumer=e};H.createElement=Mc;H.createFactory=function(e){var t=Mc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Of,render:e}};H.isValidElement=eo;H.lazy=function(e){return{$$typeof:$f,_payload:{_status:-1,_result:e},_init:Mf}};H.memo=function(e,t){return{$$typeof:Rf,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ei.transition;ei.transition={};try{e()}finally{ei.transition=t}};H.unstable_act=Fc;H.useCallback=function(e,t){return Ie.current.useCallback(e,t)};H.useContext=function(e){return Ie.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};H.useEffect=function(e,t){return Ie.current.useEffect(e,t)};H.useId=function(){return Ie.current.useId()};H.useImperativeHandle=function(e,t,r){return Ie.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Ie.current.useMemo(e,t)};H.useReducer=function(e,t,r){return Ie.current.useReducer(e,t,r)};H.useRef=function(e){return Ie.current.useRef(e)};H.useState=function(e){return Ie.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return Ie.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return Ie.current.useTransition()};H.version="18.3.1";Oc.exports=H;var S=Oc.exports;const Bf=Sf(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=S,Wf=Symbol.for("react.element"),Hf=Symbol.for("react.fragment"),Vf=Object.prototype.hasOwnProperty,Kf=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gf={key:!0,ref:!0,__self:!0,__source:!0};function Bc(e,t,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Vf.call(t,n)&&!Gf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Wf,type:e,key:i,ref:l,props:s,_owner:Kf.current}}Mi.Fragment=Hf;Mi.jsx=Bc;Mi.jsxs=Bc;Ac.exports=Mi;var a=Ac.exports,qc={exports:{}},Ze={},Wc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,j){var T=O.length;O.push(j);e:for(;0<T;){var I=T-1>>>1,q=O[I];if(0<s(q,j))O[I]=j,O[T]=q,T=I;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var j=O[0],T=O.pop();if(T!==j){O[0]=T;e:for(var I=0,q=O.length,ie=q>>>1;I<ie;){var X=2*(I+1)-1,st=O[X],Ge=X+1,Kt=O[Ge];if(0>s(st,T))Ge<q&&0>s(Kt,st)?(O[I]=Kt,O[Ge]=T,I=Ge):(O[I]=st,O[X]=T,I=X);else if(Ge<q&&0>s(Kt,T))O[I]=Kt,O[Ge]=T,I=Ge;else break e}}return j}function s(O,j){var T=O.sortIndex-j.sortIndex;return T!==0?T:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],c=[],d=1,h=null,p=3,v=!1,x=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(O){for(var j=r(c);j!==null;){if(j.callback===null)n(c);else if(j.startTime<=O)n(c),j.sortIndex=j.expirationTime,t(u,j);else break;j=r(c)}}function b(O){if(k=!1,f(O),!x)if(r(u)!==null)x=!0,kt(E);else{var j=r(c);j!==null&&_e(b,j.startTime-O)}}function E(O,j){x=!1,k&&(k=!1,g(_),_=-1),v=!0;var T=p;try{for(f(j),h=r(u);h!==null&&(!(h.expirationTime>j)||O&&!re());){var I=h.callback;if(typeof I=="function"){h.callback=null,p=h.priorityLevel;var q=I(h.expirationTime<=j);j=e.unstable_now(),typeof q=="function"?h.callback=q:h===r(u)&&n(u),f(j)}else n(u);h=r(u)}if(h!==null)var ie=!0;else{var X=r(c);X!==null&&_e(b,X.startTime-j),ie=!1}return ie}finally{h=null,p=T,v=!1}}var y=!1,N=null,_=-1,R=5,D=-1;function re(){return!(e.unstable_now()-D<R)}function Fe(){if(N!==null){var O=e.unstable_now();D=O;var j=!0;try{j=N(!0,O)}finally{j?Oe():(y=!1,N=null)}}else y=!1}var Oe;if(typeof m=="function")Oe=function(){m(Fe)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,ht=nt.port2;nt.port1.onmessage=Fe,Oe=function(){ht.postMessage(null)}}else Oe=function(){C(Fe,0)};function kt(O){N=O,y||(y=!0,Oe())}function _e(O,j){_=C(function(){O(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,kt(E))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var T=p;p=j;try{return O()}finally{p=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var T=p;p=O;try{return j()}finally{p=T}},e.unstable_scheduleCallback=function(O,j,T){var I=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?I+T:I):T=I,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=T+q,O={id:d++,callback:j,priorityLevel:O,startTime:T,expirationTime:q,sortIndex:-1},T>I?(O.sortIndex=T,t(c,O),r(u)===null&&O===r(c)&&(k?(g(_),_=-1):k=!0,_e(b,T-I))):(O.sortIndex=q,t(u,O),x||v||(x=!0,kt(E))),O},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(O){var j=p;return function(){var T=p;p=j;try{return O.apply(this,arguments)}finally{p=T}}}})(Hc);Wc.exports=Hc;var Qf=Wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=S,Xe=Qf;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vc=new Set,ns={};function $r(e,t){pn(e,t),pn(e+"Capture",t)}function pn(e,t){for(ns[e]=t,e=0;e<t.length;e++)Vc.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=Object.prototype.hasOwnProperty,Jf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iu={},au={};function Xf(e){return Va.call(au,e)?!0:Va.call(iu,e)?!1:Jf.test(e)?au[e]=!0:(iu[e]=!0,!1)}function Zf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ep(e,t,r,n){if(t===null||typeof t>"u"||Zf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,r,n,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;function ro(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,ro);Ee[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,ro);Ee[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,ro);Ee[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function no(e,t,r,n){var s=Ee.hasOwnProperty(t)?Ee[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ep(t,r,s,n)&&(r=null),n||s===null?Xf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vt=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),Gc=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Qa=Symbol.for("react.suspense_list"),ao=Symbol.for("react.memo"),Jt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),lu=Symbol.iterator;function Pn(e){return e===null||typeof e!="object"?null:(e=lu&&e[lu]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,fa;function Mn(e){if(fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fa=t&&t[1]||""}return`
`+fa+e}var pa=!1;function ma(e,t){if(!e||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Mn(e):""}function tp(e){switch(e.tag){case 5:return Mn(e.type);case 16:return Mn("Lazy");case 13:return Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 2:case 15:return e=ma(e.type,!1),e;case 11:return e=ma(e.type.render,!1),e;case 1:return e=ma(e.type,!0),e;default:return""}}function Ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case Qr:return"Portal";case Ka:return"Profiler";case so:return"StrictMode";case Ga:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gc:return(e.displayName||"Context")+".Consumer";case Kc:return(e._context.displayName||"Context")+".Provider";case io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ao:return t=e.displayName||null,t!==null?t:Ya(e.type)||"Memo";case Jt:t=e._payload,e=e._init;try{return Ya(e(t))}catch{}}return null}function rp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ya(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function np(e){var t=Yc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ds(e){e._valueTracker||(e._valueTracker=np(e))}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ja(e,t){var r=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ou(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xc(e,t){t=t.checked,t!=null&&no(e,"checked",t,!1)}function Xa(e,t){Xc(e,t);var r=pr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Za(e,t.type,r):t.hasOwnProperty("defaultValue")&&Za(e,t.type,pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Za(e,t,r){(t!=="number"||hi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fn=Array.isArray;function on(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function el(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(P(92));if(Fn(r)){if(1<r.length)throw Error(P(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pr(r)}}function Zc(e,t){var r=pr(t.value),n=pr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function du(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ed(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ed(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,td=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ss(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sp=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){sp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]})});function rd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function nd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=rd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ip=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(e,t){if(t){if(ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function nl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,un=null,cn=null;function hu(e){if(e=Ss(e)){if(typeof il!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Hi(t),il(e.stateNode,e.type,t))}}function sd(e){un?cn?cn.push(e):cn=[e]:un=e}function id(){if(un){var e=un,t=cn;if(cn=un=null,hu(e),t)for(e=0;e<t.length;e++)hu(t[e])}}function ad(e,t){return e(t)}function ld(){}var ga=!1;function od(e,t,r){if(ga)return e(t,r);ga=!0;try{return ad(e,t,r)}finally{ga=!1,(un!==null||cn!==null)&&(ld(),id())}}function is(e,t){var r=e.stateNode;if(r===null)return null;var n=Hi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(P(231,t,typeof r));return r}var al=!1;if(Ft)try{var An={};Object.defineProperty(An,"passive",{get:function(){al=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{al=!1}function ap(e,t,r,n,s,i,l,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Vn=!1,fi=null,pi=!1,ll=null,lp={onError:function(e){Vn=!0,fi=e}};function op(e,t,r,n,s,i,l,o,u){Vn=!1,fi=null,ap.apply(lp,arguments)}function up(e,t,r,n,s,i,l,o,u){if(op.apply(this,arguments),Vn){if(Vn){var c=fi;Vn=!1,fi=null}else throw Error(P(198));pi||(pi=!0,ll=c)}}function Lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ud(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(Lr(e)!==e)throw Error(P(188))}function cp(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return fu(s),e;if(i===n)return fu(s),t;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?e:t}function cd(e){return e=cp(e),e!==null?dd(e):null}function dd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dd(e);if(t!==null)return t;e=e.sibling}return null}var hd=Xe.unstable_scheduleCallback,pu=Xe.unstable_cancelCallback,dp=Xe.unstable_shouldYield,hp=Xe.unstable_requestPaint,fe=Xe.unstable_now,fp=Xe.unstable_getCurrentPriorityLevel,oo=Xe.unstable_ImmediatePriority,fd=Xe.unstable_UserBlockingPriority,mi=Xe.unstable_NormalPriority,pp=Xe.unstable_LowPriority,pd=Xe.unstable_IdlePriority,Fi=null,Tt=null;function mp(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Fi,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:yp,gp=Math.log,vp=Math.LN2;function yp(e){return e>>>=0,e===0?32:31-(gp(e)/vp|0)|0}var $s=64,Ls=4194304;function Bn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Bn(o):(i&=l,i!==0&&(n=Bn(i)))}else l=r&~s,l!==0?n=Bn(l):i!==0&&(n=Bn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xt(t),s=1<<r,n|=e[r],t&=~s;return n}function xp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-xt(i),o=1<<l,u=s[l];u===-1?(!(o&r)||o&n)&&(s[l]=xp(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function md(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function va(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=r}function bp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-xt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function uo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Q=0;function gd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vd,co,yd,xd,wd,ul=!1,Is=[],sr=null,ir=null,ar=null,as=new Map,ls=new Map,Zt=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function On(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ss(t),t!==null&&co(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _p(e,t,r,n,s){switch(t){case"focusin":return sr=On(sr,e,t,r,n,s),!0;case"dragenter":return ir=On(ir,e,t,r,n,s),!0;case"mouseover":return ar=On(ar,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,On(as.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ls.set(i,On(ls.get(i)||null,e,t,r,n,s)),!0}return!1}function bd(e){var t=Nr(e.target);if(t!==null){var r=Lr(t);if(r!==null){if(t=r.tag,t===13){if(t=ud(r),t!==null){e.blockedOn=t,wd(e.priority,function(){yd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ti(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);sl=n,r.target.dispatchEvent(n),sl=null}else return t=Ss(r),t!==null&&co(t),e.blockedOn=r,!1;t.shift()}return!0}function gu(e,t,r){ti(e)&&r.delete(t)}function jp(){ul=!1,sr!==null&&ti(sr)&&(sr=null),ir!==null&&ti(ir)&&(ir=null),ar!==null&&ti(ar)&&(ar=null),as.forEach(gu),ls.forEach(gu)}function Dn(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,jp)))}function os(e){function t(s){return Dn(s,e)}if(0<Is.length){Dn(Is[0],e);for(var r=1;r<Is.length;r++){var n=Is[r];n.blockedOn===e&&(n.blockedOn=null)}}for(sr!==null&&Dn(sr,e),ir!==null&&Dn(ir,e),ar!==null&&Dn(ar,e),as.forEach(t),ls.forEach(t),r=0;r<Zt.length;r++)n=Zt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zt.length&&(r=Zt[0],r.blockedOn===null);)bd(r),r.blockedOn===null&&Zt.shift()}var dn=Vt.ReactCurrentBatchConfig,vi=!0;function Sp(e,t,r,n){var s=Q,i=dn.transition;dn.transition=null;try{Q=1,ho(e,t,r,n)}finally{Q=s,dn.transition=i}}function Np(e,t,r,n){var s=Q,i=dn.transition;dn.transition=null;try{Q=4,ho(e,t,r,n)}finally{Q=s,dn.transition=i}}function ho(e,t,r,n){if(vi){var s=cl(e,t,r,n);if(s===null)Ea(e,t,n,yi,r),mu(e,n);else if(_p(s,e,t,r,n))n.stopPropagation();else if(mu(e,n),t&4&&-1<kp.indexOf(e)){for(;s!==null;){var i=Ss(s);if(i!==null&&vd(i),i=cl(e,t,r,n),i===null&&Ea(e,t,n,yi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ea(e,t,n,null,r)}}var yi=null;function cl(e,t,r,n){if(yi=null,e=lo(n),e=Nr(e),e!==null)if(t=Lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ud(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yi=e,null}function kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fp()){case oo:return 1;case fd:return 4;case mi:case pp:return 16;case pd:return 536870912;default:return 16}default:return 16}}var rr=null,fo=null,ri=null;function _d(){if(ri)return ri;var e,t=fo,r=t.length,n,s="value"in rr?rr.value:rr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[i-n];n++);return ri=s.slice(e,1<n?1-n:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Us(){return!0}function vu(){return!1}function et(e){function t(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Us:vu,this.isPropagationStopped=vu,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),t}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=et(_n),js=de({},_n,{view:0,detail:0}),Ep=et(js),ya,xa,Rn,Bi=de({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(ya=e.screenX-Rn.screenX,xa=e.screenY-Rn.screenY):xa=ya=0,Rn=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),yu=et(Bi),Cp=de({},Bi,{dataTransfer:0}),Tp=et(Cp),zp=de({},js,{relatedTarget:0}),wa=et(zp),Pp=de({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=et(Pp),Op=de({},_n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=et(Op),Rp=de({},_n,{data:0}),xu=et(Rp),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ip[e])?!!t[e]:!1}function mo(){return Up}var Mp=de({},js,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fp=et(Mp),Bp=de({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=et(Bp),qp=de({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Wp=et(qp),Hp=de({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vp=et(Hp),Kp=de({},Bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gp=et(Kp),Qp=[9,13,27,32],go=Ft&&"CompositionEvent"in window,Kn=null;Ft&&"documentMode"in document&&(Kn=document.documentMode);var Yp=Ft&&"TextEvent"in window&&!Kn,jd=Ft&&(!go||Kn&&8<Kn&&11>=Kn),bu=" ",ku=!1;function Sd(e,t){switch(e){case"keyup":return Qp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Jp(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(ku=!0,bu);case"textInput":return e=t.data,e===bu&&ku?null:e;default:return null}}function Xp(e,t){if(Jr)return e==="compositionend"||!go&&Sd(e,t)?(e=_d(),ri=fo=rr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var Zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zp[e.type]:t==="textarea"}function Ed(e,t,r,n){sd(n),t=xi(t,"onChange"),0<t.length&&(r=new po("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gn=null,us=null;function em(e){Id(e,0)}function qi(e){var t=en(e);if(Jc(t))return e}function tm(e,t){if(e==="change")return t}var Cd=!1;if(Ft){var ba;if(Ft){var ka="oninput"in document;if(!ka){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),ka=typeof ju.oninput=="function"}ba=ka}else ba=!1;Cd=ba&&(!document.documentMode||9<document.documentMode)}function Su(){Gn&&(Gn.detachEvent("onpropertychange",Td),us=Gn=null)}function Td(e){if(e.propertyName==="value"&&qi(us)){var t=[];Ed(t,us,e,lo(e)),od(em,t)}}function rm(e,t,r){e==="focusin"?(Su(),Gn=t,us=r,Gn.attachEvent("onpropertychange",Td)):e==="focusout"&&Su()}function nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qi(us)}function sm(e,t){if(e==="click")return qi(t)}function im(e,t){if(e==="input"||e==="change")return qi(t)}function am(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:am;function cs(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Va.call(t,s)||!bt(e[s],t[s]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eu(e,t){var r=Nu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nu(r)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hi(e.document)}return t}function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lm(e){var t=Pd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zd(r.ownerDocument.documentElement,r)){if(n!==null&&vo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Eu(r,i);var l=Eu(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var om=Ft&&"documentMode"in document&&11>=document.documentMode,Xr=null,dl=null,Qn=null,hl=!1;function Cu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hl||Xr==null||Xr!==hi(n)||(n=Xr,"selectionStart"in n&&vo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qn&&cs(Qn,n)||(Qn=n,n=xi(dl,"onSelect"),0<n.length&&(t=new po("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xr)))}function Ms(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},_a={},Ad={};Ft&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Wi(e){if(_a[e])return _a[e];if(!Zr[e])return e;var t=Zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ad)return _a[e]=t[r];return e}var Od=Wi("animationend"),Dd=Wi("animationiteration"),Rd=Wi("animationstart"),$d=Wi("transitionend"),Ld=new Map,Tu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Ld.set(e,t),$r(t,[e])}for(var ja=0;ja<Tu.length;ja++){var Sa=Tu[ja],um=Sa.toLowerCase(),cm=Sa[0].toUpperCase()+Sa.slice(1);gr(um,"on"+cm)}gr(Od,"onAnimationEnd");gr(Dd,"onAnimationIteration");gr(Rd,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr($d,"onTransitionEnd");pn("onMouseEnter",["mouseout","mouseover"]);pn("onMouseLeave",["mouseout","mouseover"]);pn("onPointerEnter",["pointerout","pointerover"]);pn("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dm=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function zu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,up(n,t,void 0,e),e.currentTarget=null}function Id(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==i&&s.isPropagationStopped())break e;zu(s,o,c),i=u}else for(l=0;l<n.length;l++){if(o=n[l],u=o.instance,c=o.currentTarget,o=o.listener,u!==i&&s.isPropagationStopped())break e;zu(s,o,c),i=u}}}if(pi)throw e=ll,pi=!1,ll=null,e}function ne(e,t){var r=t[vl];r===void 0&&(r=t[vl]=new Set);var n=e+"__bubble";r.has(n)||(Ud(t,e,2,!1),r.add(n))}function Na(e,t,r){var n=0;t&&(n|=4),Ud(r,e,n,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[Fs]){e[Fs]=!0,Vc.forEach(function(r){r!=="selectionchange"&&(dm.has(r)||Na(r,!1,e),Na(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,Na("selectionchange",!1,t))}}function Ud(e,t,r,n){switch(kd(t)){case 1:var s=Sp;break;case 4:s=Np;break;default:s=ho}r=s.bind(null,t,r,e),s=void 0,!al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ea(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Nr(o),l===null)return;if(u=l.tag,u===5||u===6){n=i=l;continue e}o=o.parentNode}}n=n.return}od(function(){var c=i,d=lo(r),h=[];e:{var p=Ld.get(e);if(p!==void 0){var v=po,x=e;switch(e){case"keypress":if(ni(r)===0)break e;case"keydown":case"keyup":v=Fp;break;case"focusin":x="focus",v=wa;break;case"focusout":x="blur",v=wa;break;case"beforeblur":case"afterblur":v=wa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wp;break;case Od:case Dd:case Rd:v=Ap;break;case $d:v=Vp;break;case"scroll":v=Ep;break;case"wheel":v=Gp;break;case"copy":case"cut":case"paste":v=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=wu}var k=(t&4)!==0,C=!k&&e==="scroll",g=k?p!==null?p+"Capture":null:p;k=[];for(var m=c,f;m!==null;){f=m;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,g!==null&&(b=is(m,g),b!=null&&k.push(hs(m,b,f)))),C)break;m=m.return}0<k.length&&(p=new v(p,x,null,r,d),h.push({event:p,listeners:k}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==sl&&(x=r.relatedTarget||r.fromElement)&&(Nr(x)||x[Bt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?Nr(x):null,x!==null&&(C=Lr(x),x!==C||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(k=yu,b="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(k=wu,b="onPointerLeave",g="onPointerEnter",m="pointer"),C=v==null?p:en(v),f=x==null?p:en(x),p=new k(b,m+"leave",v,r,d),p.target=C,p.relatedTarget=f,b=null,Nr(d)===c&&(k=new k(g,m+"enter",x,r,d),k.target=f,k.relatedTarget=C,b=k),C=b,v&&x)t:{for(k=v,g=x,m=0,f=k;f;f=Fr(f))m++;for(f=0,b=g;b;b=Fr(b))f++;for(;0<m-f;)k=Fr(k),m--;for(;0<f-m;)g=Fr(g),f--;for(;m--;){if(k===g||g!==null&&k===g.alternate)break t;k=Fr(k),g=Fr(g)}k=null}else k=null;v!==null&&Pu(h,p,v,k,!1),x!==null&&C!==null&&Pu(h,C,x,k,!0)}}e:{if(p=c?en(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var E=tm;else if(_u(p))if(Cd)E=im;else{E=nm;var y=rm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=sm);if(E&&(E=E(e,c))){Ed(h,E,r,d);break e}y&&y(e,p,c),e==="focusout"&&(y=p._wrapperState)&&y.controlled&&p.type==="number"&&Za(p,"number",p.value)}switch(y=c?en(c):window,e){case"focusin":(_u(y)||y.contentEditable==="true")&&(Xr=y,dl=c,Qn=null);break;case"focusout":Qn=dl=Xr=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Cu(h,r,d);break;case"selectionchange":if(om)break;case"keydown":case"keyup":Cu(h,r,d)}var N;if(go)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Jr?Sd(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(jd&&r.locale!=="ko"&&(Jr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Jr&&(N=_d()):(rr=d,fo="value"in rr?rr.value:rr.textContent,Jr=!0)),y=xi(c,_),0<y.length&&(_=new xu(_,e,null,r,d),h.push({event:_,listeners:y}),N?_.data=N:(N=Nd(r),N!==null&&(_.data=N)))),(N=Yp?Jp(e,r):Xp(e,r))&&(c=xi(c,"onBeforeInput"),0<c.length&&(d=new xu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}Id(h,t)})}function hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=is(e,r),i!=null&&n.unshift(hs(e,i,s)),i=is(e,t),i!=null&&n.push(hs(e,i,s))),e=e.return}return n}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pu(e,t,r,n,s){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,s?(u=is(r,i),u!=null&&l.unshift(hs(r,u,o))):s||(u=is(r,i),u!=null&&l.push(hs(r,u,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var hm=/\r\n?/g,fm=/\u0000|\uFFFD/g;function Au(e){return(typeof e=="string"?e:""+e).replace(hm,`
`).replace(fm,"")}function Bs(e,t,r){if(t=Au(t),Au(e)!==t&&r)throw Error(P(425))}function wi(){}var fl=null,pl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,pm=typeof clearTimeout=="function"?clearTimeout:void 0,Ou=typeof Promise=="function"?Promise:void 0,mm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ou<"u"?function(e){return Ou.resolve(null).then(e).catch(gm)}:gl;function gm(e){setTimeout(function(){throw e})}function Ca(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),os(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);os(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+jn,fs="__reactProps$"+jn,Bt="__reactContainer$"+jn,vl="__reactEvents$"+jn,vm="__reactListeners$"+jn,ym="__reactHandles$"+jn;function Nr(e){var t=e[Ct];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bt]||r[Ct]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Du(e);e!==null;){if(r=e[Ct])return r;e=Du(e)}return t}e=r,r=e.parentNode}return null}function Ss(e){return e=e[Ct]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Hi(e){return e[fs]||null}var yl=[],tn=-1;function vr(e){return{current:e}}function se(e){0>tn||(e.current=yl[tn],yl[tn]=null,tn--)}function te(e,t){tn++,yl[tn]=e.current,e.current=t}var mr={},Ae=vr(mr),He=vr(!1),Pr=mr;function mn(e,t){var r=e.type.contextTypes;if(!r)return mr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function bi(){se(He),se(Ae)}function Ru(e,t,r){if(Ae.current!==mr)throw Error(P(168));te(Ae,t),te(He,r)}function Md(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(P(108,rp(e)||"Unknown",s));return de({},r,n)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mr,Pr=Ae.current,te(Ae,e),te(He,He.current),!0}function $u(e,t,r){var n=e.stateNode;if(!n)throw Error(P(169));r?(e=Md(e,t,Pr),n.__reactInternalMemoizedMergedChildContext=e,se(He),se(Ae),te(Ae,e)):se(He),te(He,r)}var Lt=null,Vi=!1,Ta=!1;function Fd(e){Lt===null?Lt=[e]:Lt.push(e)}function xm(e){Vi=!0,Fd(e)}function yr(){if(!Ta&&Lt!==null){Ta=!0;var e=0,t=Q;try{var r=Lt;for(Q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Lt=null,Vi=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(e+1)),hd(oo,yr),s}finally{Q=t,Ta=!1}}return null}var rn=[],nn=0,_i=null,ji=0,it=[],at=0,Ar=null,It=1,Ut="";function kr(e,t){rn[nn++]=ji,rn[nn++]=_i,_i=e,ji=t}function Bd(e,t,r){it[at++]=It,it[at++]=Ut,it[at++]=Ar,Ar=e;var n=It;e=Ut;var s=32-xt(n)-1;n&=~(1<<s),r+=1;var i=32-xt(t)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,It=1<<32-xt(t)+s|r<<s|n,Ut=i+e}else It=1<<i|r<<s|n,Ut=e}function yo(e){e.return!==null&&(kr(e,1),Bd(e,1,0))}function xo(e){for(;e===_i;)_i=rn[--nn],rn[nn]=null,ji=rn[--nn],rn[nn]=null;for(;e===Ar;)Ar=it[--at],it[at]=null,Ut=it[--at],it[at]=null,It=it[--at],it[at]=null}var Je=null,Ye=null,ae=!1,yt=null;function qd(e,t){var r=lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ye=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ar!==null?{id:It,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Ye=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wl(e){if(ae){var t=Ye;if(t){var r=t;if(!Lu(e,t)){if(xl(e))throw Error(P(418));t=lr(r.nextSibling);var n=Je;t&&Lu(e,t)?qd(n,r):(e.flags=e.flags&-4097|2,ae=!1,Je=e)}}else{if(xl(e))throw Error(P(418));e.flags=e.flags&-4097|2,ae=!1,Je=e}}}function Iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function qs(e){if(e!==Je)return!1;if(!ae)return Iu(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Ye)){if(xl(e))throw Wd(),Error(P(418));for(;t;)qd(e,t),t=lr(t.nextSibling)}if(Iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ye=lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Je?lr(e.stateNode.nextSibling):null;return!0}function Wd(){for(var e=Ye;e;)e=lr(e.nextSibling)}function gn(){Ye=Je=null,ae=!1}function wo(e){yt===null?yt=[e]:yt.push(e)}var wm=Vt.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uu(e){var t=e._init;return t(e._payload)}function Hd(e){function t(g,m){if(e){var f=g.deletions;f===null?(g.deletions=[m],g.flags|=16):f.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=dr(g,m),g.index=0,g.sibling=null,g}function i(g,m,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<m?(g.flags|=2,m):f):(g.flags|=2,m)):(g.flags|=1048576,m)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,f,b){return m===null||m.tag!==6?(m=$a(f,g.mode,b),m.return=g,m):(m=s(m,f),m.return=g,m)}function u(g,m,f,b){var E=f.type;return E===Yr?d(g,m,f.props.children,b,f.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jt&&Uu(E)===m.type)?(b=s(m,f.props),b.ref=$n(g,m,f),b.return=g,b):(b=ci(f.type,f.key,f.props,null,g.mode,b),b.ref=$n(g,m,f),b.return=g,b)}function c(g,m,f,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=La(f,g.mode,b),m.return=g,m):(m=s(m,f.children||[]),m.return=g,m)}function d(g,m,f,b,E){return m===null||m.tag!==7?(m=zr(f,g.mode,b,E),m.return=g,m):(m=s(m,f),m.return=g,m)}function h(g,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$a(""+m,g.mode,f),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return f=ci(m.type,m.key,m.props,null,g.mode,f),f.ref=$n(g,null,m),f.return=g,f;case Qr:return m=La(m,g.mode,f),m.return=g,m;case Jt:var b=m._init;return h(g,b(m._payload),f)}if(Fn(m)||Pn(m))return m=zr(m,g.mode,f,null),m.return=g,m;Ws(g,m)}return null}function p(g,m,f,b){var E=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return E!==null?null:o(g,m,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Os:return f.key===E?u(g,m,f,b):null;case Qr:return f.key===E?c(g,m,f,b):null;case Jt:return E=f._init,p(g,m,E(f._payload),b)}if(Fn(f)||Pn(f))return E!==null?null:d(g,m,f,b,null);Ws(g,f)}return null}function v(g,m,f,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(f)||null,o(m,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Os:return g=g.get(b.key===null?f:b.key)||null,u(m,g,b,E);case Qr:return g=g.get(b.key===null?f:b.key)||null,c(m,g,b,E);case Jt:var y=b._init;return v(g,m,f,y(b._payload),E)}if(Fn(b)||Pn(b))return g=g.get(f)||null,d(m,g,b,E,null);Ws(m,b)}return null}function x(g,m,f,b){for(var E=null,y=null,N=m,_=m=0,R=null;N!==null&&_<f.length;_++){N.index>_?(R=N,N=null):R=N.sibling;var D=p(g,N,f[_],b);if(D===null){N===null&&(N=R);break}e&&N&&D.alternate===null&&t(g,N),m=i(D,m,_),y===null?E=D:y.sibling=D,y=D,N=R}if(_===f.length)return r(g,N),ae&&kr(g,_),E;if(N===null){for(;_<f.length;_++)N=h(g,f[_],b),N!==null&&(m=i(N,m,_),y===null?E=N:y.sibling=N,y=N);return ae&&kr(g,_),E}for(N=n(g,N);_<f.length;_++)R=v(N,g,_,f[_],b),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?_:R.key),m=i(R,m,_),y===null?E=R:y.sibling=R,y=R);return e&&N.forEach(function(re){return t(g,re)}),ae&&kr(g,_),E}function k(g,m,f,b){var E=Pn(f);if(typeof E!="function")throw Error(P(150));if(f=E.call(f),f==null)throw Error(P(151));for(var y=E=null,N=m,_=m=0,R=null,D=f.next();N!==null&&!D.done;_++,D=f.next()){N.index>_?(R=N,N=null):R=N.sibling;var re=p(g,N,D.value,b);if(re===null){N===null&&(N=R);break}e&&N&&re.alternate===null&&t(g,N),m=i(re,m,_),y===null?E=re:y.sibling=re,y=re,N=R}if(D.done)return r(g,N),ae&&kr(g,_),E;if(N===null){for(;!D.done;_++,D=f.next())D=h(g,D.value,b),D!==null&&(m=i(D,m,_),y===null?E=D:y.sibling=D,y=D);return ae&&kr(g,_),E}for(N=n(g,N);!D.done;_++,D=f.next())D=v(N,g,_,D.value,b),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?_:D.key),m=i(D,m,_),y===null?E=D:y.sibling=D,y=D);return e&&N.forEach(function(Fe){return t(g,Fe)}),ae&&kr(g,_),E}function C(g,m,f,b){if(typeof f=="object"&&f!==null&&f.type===Yr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Os:e:{for(var E=f.key,y=m;y!==null;){if(y.key===E){if(E=f.type,E===Yr){if(y.tag===7){r(g,y.sibling),m=s(y,f.props.children),m.return=g,g=m;break e}}else if(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Jt&&Uu(E)===y.type){r(g,y.sibling),m=s(y,f.props),m.ref=$n(g,y,f),m.return=g,g=m;break e}r(g,y);break}else t(g,y);y=y.sibling}f.type===Yr?(m=zr(f.props.children,g.mode,b,f.key),m.return=g,g=m):(b=ci(f.type,f.key,f.props,null,g.mode,b),b.ref=$n(g,m,f),b.return=g,g=b)}return l(g);case Qr:e:{for(y=f.key;m!==null;){if(m.key===y)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){r(g,m.sibling),m=s(m,f.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=La(f,g.mode,b),m.return=g,g=m}return l(g);case Jt:return y=f._init,C(g,m,y(f._payload),b)}if(Fn(f))return x(g,m,f,b);if(Pn(f))return k(g,m,f,b);Ws(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,f),m.return=g,g=m):(r(g,m),m=$a(f,g.mode,b),m.return=g,g=m),l(g)):r(g,m)}return C}var vn=Hd(!0),Vd=Hd(!1),Si=vr(null),Ni=null,sn=null,bo=null;function ko(){bo=sn=Ni=null}function _o(e){var t=Si.current;se(Si),e._currentValue=t}function bl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function hn(e,t){Ni=e,bo=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(Ni===null)throw Error(P(308));sn=e,Ni.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var Er=null;function jo(e){Er===null?Er=[e]:Er.push(e)}function Kd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,jo(t)):(r.next=s.next,s.next=r),t.interleaved=r,qt(e,n)}function qt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xt=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qt(e,r)}return s=n.interleaved,s===null?(t.next=t,jo(n)):(t.next=s.next,s.next=t),n.interleaved=t,qt(e,r)}function si(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uo(e,r)}}function Mu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ei(e,t,r,n){var s=e.updateQueue;Xt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,l===null?i=c:l.next=c,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;l=0,d=c=u=null,o=i;do{var p=o.lane,v=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,k=o;switch(p=t,v=r,k.tag){case 1:if(x=k.payload,typeof x=="function"){h=x.call(v,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,p=typeof x=="function"?x.call(v,h,p):x,p==null)break e;h=de({},h,p);break e;case 2:Xt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,l|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dr|=l,e.lanes=l,e.memoizedState=h}}function Fu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var Ns={},zt=vr(Ns),ps=vr(Ns),ms=vr(Ns);function Cr(e){if(e===Ns)throw Error(P(174));return e}function No(e,t){switch(te(ms,t),te(ps,e),te(zt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tl(t,e)}se(zt),te(zt,t)}function yn(){se(zt),se(ps),se(ms)}function Qd(e){Cr(ms.current);var t=Cr(zt.current),r=tl(t,e.type);t!==r&&(te(ps,e),te(zt,r))}function Eo(e){ps.current===e&&(se(zt),se(ps))}var ue=vr(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=[];function Co(){for(var e=0;e<za.length;e++)za[e]._workInProgressVersionPrimary=null;za.length=0}var ii=Vt.ReactCurrentDispatcher,Pa=Vt.ReactCurrentBatchConfig,Or=0,ce=null,ye=null,be=null,Ti=!1,Yn=!1,gs=0,bm=0;function Te(){throw Error(P(321))}function To(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bt(e[r],t[r]))return!1;return!0}function zo(e,t,r,n,s,i){if(Or=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ii.current=e===null||e.memoizedState===null?Sm:Nm,e=r(n,s),Yn){i=0;do{if(Yn=!1,gs=0,25<=i)throw Error(P(301));i+=1,be=ye=null,t.updateQueue=null,ii.current=Em,e=r(n,s)}while(Yn)}if(ii.current=zi,t=ye!==null&&ye.next!==null,Or=0,be=ye=ce=null,Ti=!1,t)throw Error(P(300));return e}function Po(){var e=gs!==0;return gs=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=e:be=be.next=e,be}function dt(){if(ye===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=be===null?ce.memoizedState:be.next;if(t!==null)be=t,ye=e;else{if(e===null)throw Error(P(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},be===null?ce.memoizedState=be=e:be=be.next=e}return be}function vs(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=dt(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,u=null,c=i;do{var d=c.lane;if((Or&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,l=n):u=u.next=h,ce.lanes|=d,Dr|=d}c=c.next}while(c!==null&&c!==i);u===null?l=n:u.next=o,bt(n,t.memoizedState)||(We=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,Dr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oa(e){var t=dt(),r=t.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);bt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Yd(){}function Jd(e,t){var r=ce,n=dt(),s=t(),i=!bt(n.memoizedState,s);if(i&&(n.memoizedState=s,We=!0),n=n.queue,Ao(eh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(r.flags|=2048,ys(9,Zd.bind(null,r,n,s,t),void 0,null),ke===null)throw Error(P(349));Or&30||Xd(r,t,s)}return s}function Xd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Zd(e,t,r,n){t.value=r,t.getSnapshot=n,th(t)&&rh(e)}function eh(e,t,r){return r(function(){th(t)&&rh(e)})}function th(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bt(e,r)}catch{return!0}}function rh(e){var t=qt(e,1);t!==null&&wt(t,e,1,-1)}function Bu(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=jm.bind(null,ce,e),[t.memoizedState,e]}function ys(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nh(){return dt().memoizedState}function ai(e,t,r,n){var s=Nt();ce.flags|=e,s.memoizedState=ys(1|t,r,void 0,n===void 0?null:n)}function Ki(e,t,r,n){var s=dt();n=n===void 0?null:n;var i=void 0;if(ye!==null){var l=ye.memoizedState;if(i=l.destroy,n!==null&&To(n,l.deps)){s.memoizedState=ys(t,r,i,n);return}}ce.flags|=e,s.memoizedState=ys(1|t,r,i,n)}function qu(e,t){return ai(8390656,8,e,t)}function Ao(e,t){return Ki(2048,8,e,t)}function sh(e,t){return Ki(4,2,e,t)}function ih(e,t){return Ki(4,4,e,t)}function ah(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lh(e,t,r){return r=r!=null?r.concat([e]):null,Ki(4,4,ah.bind(null,t,e),r)}function Oo(){}function oh(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&To(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uh(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&To(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ch(e,t,r){return Or&21?(bt(r,t)||(r=md(),ce.lanes|=r,Dr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function km(e,t){var r=Q;Q=r!==0&&4>r?r:4,e(!0);var n=Pa.transition;Pa.transition={};try{e(!1),t()}finally{Q=r,Pa.transition=n}}function dh(){return dt().memoizedState}function _m(e,t,r){var n=cr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hh(e))fh(t,r);else if(r=Kd(e,t,r,n),r!==null){var s=Le();wt(r,e,n,s),ph(r,t,n)}}function jm(e,t,r){var n=cr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hh(e))fh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,bt(o,l)){var u=t.interleaved;u===null?(s.next=s,jo(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Kd(e,t,s,n),r!==null&&(s=Le(),wt(r,e,n,s),ph(r,t,n))}}function hh(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function fh(e,t){Yn=Ti=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ph(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uo(e,r)}}var zi={readContext:ct,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},Sm={readContext:ct,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:qu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ai(4194308,4,ah.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_m.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Bu,useDebugValue:Oo,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Bu(!1),t=e[0];return e=km.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ce,s=Nt();if(ae){if(r===void 0)throw Error(P(407));r=r()}else{if(r=t(),ke===null)throw Error(P(349));Or&30||Xd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qu(eh.bind(null,n,i,e),[e]),n.flags|=2048,ys(9,Zd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Nt(),t=ke.identifierPrefix;if(ae){var r=Ut,n=It;r=(n&~(1<<32-xt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nm={readContext:ct,useCallback:oh,useContext:ct,useEffect:Ao,useImperativeHandle:lh,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:uh,useReducer:Aa,useRef:nh,useState:function(){return Aa(vs)},useDebugValue:Oo,useDeferredValue:function(e){var t=dt();return ch(t,ye.memoizedState,e)},useTransition:function(){var e=Aa(vs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Jd,useId:dh,unstable_isNewReconciler:!1},Em={readContext:ct,useCallback:oh,useContext:ct,useEffect:Ao,useImperativeHandle:lh,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:uh,useReducer:Oa,useRef:nh,useState:function(){return Oa(vs)},useDebugValue:Oo,useDeferredValue:function(e){var t=dt();return ye===null?t.memoizedState=e:ch(t,ye.memoizedState,e)},useTransition:function(){var e=Oa(vs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Jd,useId:dh,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:de({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gi={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Le(),s=cr(e),i=Mt(n,s);i.payload=t,r!=null&&(i.callback=r),t=or(e,i,s),t!==null&&(wt(t,e,s,n),si(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Le(),s=cr(e),i=Mt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=or(e,i,s),t!==null&&(wt(t,e,s,n),si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Le(),n=cr(e),s=Mt(r,n);s.tag=2,t!=null&&(s.callback=t),t=or(e,s,n),t!==null&&(wt(t,e,n,r),si(t,e,n))}};function Wu(e,t,r,n,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!cs(r,n)||!cs(s,i):!0}function mh(e,t,r){var n=!1,s=mr,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Ve(t)?Pr:Ae.current,n=t.contextTypes,i=(n=n!=null)?mn(e,s):mr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function _l(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},So(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Ve(t)?Pr:Ae.current,s.context=mn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(kl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gi.enqueueReplaceState(s,s.state,null),Ei(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xn(e,t){try{var r="",n=t;do r+=tp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Da(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Cm=typeof WeakMap=="function"?WeakMap:Map;function gh(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ai||(Ai=!0,Dl=n),jl(e,t)},r}function vh(e,t,r){r=Mt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jl(e,t),typeof n!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Vu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Cm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Bm.bind(null,e,t,r),t.then(e,e))}function Ku(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,or(r,t,1))),r.lanes|=1),e)}var Tm=Vt.ReactCurrentOwner,We=!1;function Re(e,t,r,n){t.child=e===null?Vd(t,null,r,n):vn(t,e.child,r,n)}function Qu(e,t,r,n,s){r=r.render;var i=t.ref;return hn(t,s),n=zo(e,t,r,n,i,s),r=Po(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wt(e,t,s)):(ae&&r&&yo(t),t.flags|=1,Re(e,t,n,s),t.child)}function Yu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Fo(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,yh(e,t,i,n,s)):(e=ci(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(l,n)&&e.ref===t.ref)return Wt(e,t,s)}return t.flags|=1,e=dr(i,n),e.ref=t.ref,e.return=t,t.child=e}function yh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(cs(i,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Wt(e,t,s)}return Sl(e,t,r,n,s)}function xh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(ln,Qe),Qe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(ln,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,te(ln,Qe),Qe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,te(ln,Qe),Qe|=n;return Re(e,t,s,r),t.child}function wh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,r,n,s){var i=Ve(r)?Pr:Ae.current;return i=mn(t,i),hn(t,s),r=zo(e,t,r,n,i,s),n=Po(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wt(e,t,s)):(ae&&n&&yo(t),t.flags|=1,Re(e,t,r,s),t.child)}function Ju(e,t,r,n,s){if(Ve(r)){var i=!0;ki(t)}else i=!1;if(hn(t,s),t.stateNode===null)li(e,t),mh(t,r,n),_l(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,c=r.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=Ve(r)?Pr:Ae.current,c=mn(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||u!==c)&&Hu(t,l,n,c),Xt=!1;var p=t.memoizedState;l.state=p,Ei(t,n,l,s),u=t.memoizedState,o!==n||p!==u||He.current||Xt?(typeof d=="function"&&(kl(t,r,d,n),u=t.memoizedState),(o=Xt||Wu(t,r,o,n,p,u,c))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=c,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Gd(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:mt(t.type,o),l.props=c,h=t.pendingProps,p=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=ct(u):(u=Ve(r)?Pr:Ae.current,u=mn(t,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||p!==u)&&Hu(t,l,n,u),Xt=!1,p=t.memoizedState,l.state=p,Ei(t,n,l,s);var x=t.memoizedState;o!==h||p!==x||He.current||Xt?(typeof v=="function"&&(kl(t,r,v,n),x=t.memoizedState),(c=Xt||Wu(t,r,c,n,p,x,u)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=u,n=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Nl(e,t,r,n,i,s)}function Nl(e,t,r,n,s,i){wh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&$u(t,r,!1),Wt(e,t,i);n=t.stateNode,Tm.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=vn(t,e.child,null,i),t.child=vn(t,null,o,i)):Re(e,t,o,i),t.memoizedState=n.state,s&&$u(t,r,!0),t.child}function bh(e){var t=e.stateNode;t.pendingContext?Ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ru(e,t.context,!1),No(e,t.containerInfo)}function Xu(e,t,r,n,s){return gn(),wo(s),t.flags|=256,Re(e,t,r,n),t.child}var El={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kh(e,t,r){var n=t.pendingProps,s=ue.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(ue,s&1),e===null)return wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ji(l,n,0,null),e=zr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cl(r),t.memoizedState=El,e):Do(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return zm(e,t,l,n,o,s,r);if(i){i=n.fallback,l=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=dr(s,u),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=dr(o,i):(i=zr(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?Cl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=El,n}return i=e.child,e=i.sibling,n=dr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Do(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,r,n){return n!==null&&wo(n),vn(t,e.child,null,r),e=Do(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zm(e,t,r,n,s,i,l){if(r)return t.flags&256?(t.flags&=-257,n=Da(Error(P(422))),Hs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ji({mode:"visible",children:n.children},s,0,null),i=zr(i,s,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vn(t,e.child,null,l),t.child.memoizedState=Cl(l),t.memoizedState=El,i);if(!(t.mode&1))return Hs(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(P(419)),n=Da(i,n,void 0),Hs(e,t,l,n)}if(o=(l&e.childLanes)!==0,We||o){if(n=ke,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qt(e,s),wt(n,e,s,-1))}return Mo(),n=Da(Error(P(421))),Hs(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ye=lr(s.nextSibling),Je=t,ae=!0,yt=null,e!==null&&(it[at++]=It,it[at++]=Ut,it[at++]=Ar,It=e.id,Ut=e.overflow,Ar=t),t=Do(t,n.children),t.flags|=4096,t)}function Zu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bl(e.return,t,r)}function Ra(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function _h(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Re(e,t,n.children,r),n=ue.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zu(e,r,t);else if(e.tag===19)Zu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(te(ue,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ra(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ra(t,!0,r,null,i);break;case"together":Ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function li(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,r=dr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Pm(e,t,r){switch(t.tag){case 3:bh(t),gn();break;case 5:Qd(t);break;case 1:Ve(t.type)&&ki(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;te(Si,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(te(ue,ue.current&1),t.flags|=128,null):r&t.child.childLanes?kh(e,t,r):(te(ue,ue.current&1),e=Wt(e,t,r),e!==null?e.sibling:null);te(ue,ue.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _h(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(ue,ue.current),n)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,r)}return Wt(e,t,r)}var jh,Tl,Sh,Nh;jh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tl=function(){};Sh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cr(zt.current);var i=null;switch(r){case"input":s=Ja(e,s),n=Ja(e,n),i=[];break;case"select":s=de({},s,{value:void 0}),n=de({},n,{value:void 0}),i=[];break;case"textarea":s=el(e,s),n=el(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wi)}rl(r,n);var l;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ns.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ns.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ne("scroll",e),i||o===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Nh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ln(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Am(e,t,r){var n=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ve(t.type)&&bi(),ze(t),null;case 3:return n=t.stateNode,yn(),se(He),se(Ae),Co(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(Ll(yt),yt=null))),Tl(e,t),ze(t),null;case 5:Eo(t);var s=Cr(ms.current);if(r=t.type,e!==null&&t.stateNode!=null)Sh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(P(166));return ze(t),null}if(e=Cr(zt.current),qs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ct]=t,n[fs]=i,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(s=0;s<qn.length;s++)ne(qn[s],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":ou(n,i),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ne("invalid",n);break;case"textarea":cu(n,i),ne("invalid",n)}rl(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Bs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Bs(n.textContent,o,e),s=["children",""+o]):ns.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ne("scroll",n)}switch(r){case"input":Ds(n),uu(n,i,!0);break;case"textarea":Ds(n),du(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ed(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Ct]=t,e[fs]=n,jh(e,t,!1,!1),t.stateNode=e;e:{switch(l=nl(r,n),r){case"dialog":ne("cancel",e),ne("close",e),s=n;break;case"iframe":case"object":case"embed":ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<qn.length;s++)ne(qn[s],e);s=n;break;case"source":ne("error",e),s=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=n;break;case"details":ne("toggle",e),s=n;break;case"input":ou(e,n),s=Ja(e,n),ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=de({},n,{value:void 0}),ne("invalid",e);break;case"textarea":cu(e,n),s=el(e,n),ne("invalid",e);break;default:s=n}rl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="style"?nd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&td(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ss(e,u):typeof u=="number"&&ss(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ne("scroll",e):u!=null&&no(e,i,u,l))}switch(r){case"input":Ds(e),uu(e,n,!1);break;case"textarea":Ds(e),du(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?on(e,!!n.multiple,i,!1):n.defaultValue!=null&&on(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Nh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(P(166));if(r=Cr(ms.current),Cr(zt.current),qs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ct]=t,(i=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:Bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ct]=t,t.stateNode=n}return ze(t),null;case 13:if(se(ue),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ye!==null&&t.mode&1&&!(t.flags&128))Wd(),gn(),t.flags|=98560,i=!1;else if(i=qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Ct]=t}else gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else yt!==null&&(Ll(yt),yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?xe===0&&(xe=3):Mo())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return yn(),Tl(e,t),e===null&&ds(t.stateNode.containerInfo),ze(t),null;case 10:return _o(t.type._context),ze(t),null;case 17:return Ve(t.type)&&bi(),ze(t),null;case 19:if(se(ue),i=t.memoizedState,i===null)return ze(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)Ln(i,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ci(e),l!==null){for(t.flags|=128,Ln(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&fe()>wn&&(t.flags|=128,n=!0,Ln(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ci(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ae)return ze(t),null}else 2*fe()-i.renderingStartTime>wn&&r!==1073741824&&(t.flags|=128,n=!0,Ln(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=fe(),t.sibling=null,r=ue.current,te(ue,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return Uo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Qe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Om(e,t){switch(xo(t),t.tag){case 1:return Ve(t.type)&&bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),se(He),se(Ae),Co(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(se(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ue),null;case 4:return yn(),null;case 10:return _o(t.type._context),null;case 22:case 23:return Uo(),null;case 24:return null;default:return null}}var Vs=!1,Pe=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,$=null;function an(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){he(e,t,n)}else r.current=null}function zl(e,t,r){try{r()}catch(n){he(e,t,n)}}var ec=!1;function Rm(e,t){if(fl=vi,e=Pd(),vo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,u=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(o=l+s),h!==i||n!==0&&h.nodeType!==3||(u=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===r&&++c===s&&(o=l),p===i&&++d===n&&(u=l),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(pl={focusedElem:e,selectionRange:r},vi=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,C=x.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:mt(t.type,k),C);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){he(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return x=ec,ec=!1,x}function Jn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&zl(t,r,i)}s=s.next}while(s!==n)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Eh(e){var t=e.alternate;t!==null&&(e.alternate=null,Eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[fs],delete t[vl],delete t[vm],delete t[ym])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ch(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Al(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wi));else if(n!==4&&(e=e.child,e!==null))for(Al(e,t,r),e=e.sibling;e!==null;)Al(e,t,r),e=e.sibling}function Ol(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ol(e,t,r),e=e.sibling;e!==null;)Ol(e,t,r),e=e.sibling}var je=null,gt=!1;function Gt(e,t,r){for(r=r.child;r!==null;)Th(e,t,r),r=r.sibling}function Th(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Fi,r)}catch{}switch(r.tag){case 5:Pe||an(r,t);case 6:var n=je,s=gt;je=null,Gt(e,t,r),je=n,gt=s,je!==null&&(gt?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(gt?(e=je,r=r.stateNode,e.nodeType===8?Ca(e.parentNode,r):e.nodeType===1&&Ca(e,r),os(e)):Ca(je,r.stateNode));break;case 4:n=je,s=gt,je=r.stateNode.containerInfo,gt=!0,Gt(e,t,r),je=n,gt=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&zl(r,t,l),s=s.next}while(s!==n)}Gt(e,t,r);break;case 1:if(!Pe&&(an(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){he(r,t,o)}Gt(e,t,r);break;case 21:Gt(e,t,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,Gt(e,t,r),Pe=n):Gt(e,t,r);break;default:Gt(e,t,r)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dm),t.forEach(function(n){var s=Wm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:je=o.stateNode,gt=!1;break e;case 3:je=o.stateNode.containerInfo,gt=!0;break e;case 4:je=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(je===null)throw Error(P(160));Th(i,l,s),je=null,gt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){he(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zh(t,e),t=t.sibling}function zh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),St(e),n&4){try{Jn(3,e,e.return),Qi(3,e)}catch(k){he(e,e.return,k)}try{Jn(5,e,e.return)}catch(k){he(e,e.return,k)}}break;case 1:ft(t,e),St(e),n&512&&r!==null&&an(r,r.return);break;case 5:if(ft(t,e),St(e),n&512&&r!==null&&an(r,r.return),e.flags&32){var s=e.stateNode;try{ss(s,"")}catch(k){he(e,e.return,k)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Xc(s,i),nl(o,l);var c=nl(o,i);for(l=0;l<u.length;l+=2){var d=u[l],h=u[l+1];d==="style"?nd(s,h):d==="dangerouslySetInnerHTML"?td(s,h):d==="children"?ss(s,h):no(s,d,h,c)}switch(o){case"input":Xa(s,i);break;case"textarea":Zc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?on(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?on(s,!!i.multiple,i.defaultValue,!0):on(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(k){he(e,e.return,k)}}break;case 6:if(ft(t,e),St(e),n&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){he(e,e.return,k)}}break;case 3:if(ft(t,e),St(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(k){he(e,e.return,k)}break;case 4:ft(t,e),St(e);break;case 13:ft(t,e),St(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lo=fe())),n&4&&rc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(c=Pe)||d,ft(t,e),Pe=c):ft(t,e),St(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(h=$=d;$!==null;){switch(p=$,v=p.child,p.tag){case 0:case 11:case 14:case 15:Jn(4,p,p.return);break;case 1:an(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(k){he(n,r,k)}}break;case 5:an(p,p.return);break;case 22:if(p.memoizedState!==null){sc(h);continue}}v!==null?(v.return=p,$=v):sc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,u=h.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=rd("display",l))}catch(k){he(e,e.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){he(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ft(t,e),St(e),n&4&&rc(e);break;case 21:break;default:ft(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ch(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ss(s,""),n.flags&=-33);var i=tc(e);Ol(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=tc(e);Al(e,o,l);break;default:throw Error(P(161))}}catch(u){he(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e,t,r){$=e,Ph(e)}function Ph(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Vs;if(!l){var o=s.alternate,u=o!==null&&o.memoizedState!==null||Pe;o=Vs;var c=Pe;if(Vs=l,(Pe=u)&&!c)for($=s;$!==null;)l=$,u=l.child,l.tag===22&&l.memoizedState!==null?ic(s):u!==null?(u.return=l,$=u):ic(s);for(;i!==null;)$=i,Ph(i),i=i.sibling;$=s,Vs=o,Pe=c}nc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):nc(e)}}function nc(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Qi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:mt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fu(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fu(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Pe||t.flags&512&&Pl(t)}catch(p){he(t,t.return,p)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function sc(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function ic(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qi(4,t)}catch(u){he(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){he(t,s,u)}}var i=t.return;try{Pl(t)}catch(u){he(t,i,u)}break;case 5:var l=t.return;try{Pl(t)}catch(u){he(t,l,u)}}}catch(u){he(t,t.return,u)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Lm=Math.ceil,Pi=Vt.ReactCurrentDispatcher,Ro=Vt.ReactCurrentOwner,ot=Vt.ReactCurrentBatchConfig,V=0,ke=null,me=null,Ne=0,Qe=0,ln=vr(0),xe=0,xs=null,Dr=0,Yi=0,$o=0,Xn=null,Be=null,Lo=0,wn=1/0,Rt=null,Ai=!1,Dl=null,ur=null,Ks=!1,nr=null,Oi=0,Zn=0,Rl=null,oi=-1,ui=0;function Le(){return V&6?fe():oi!==-1?oi:oi=fe()}function cr(e){return e.mode&1?V&2&&Ne!==0?Ne&-Ne:wm.transition!==null?(ui===0&&(ui=md()),ui):(e=Q,e!==0||(e=window.event,e=e===void 0?16:kd(e.type)),e):1}function wt(e,t,r,n){if(50<Zn)throw Zn=0,Rl=null,Error(P(185));_s(e,r,n),(!(V&2)||e!==ke)&&(e===ke&&(!(V&2)&&(Yi|=r),xe===4&&er(e,Ne)),Ke(e,n),r===1&&V===0&&!(t.mode&1)&&(wn=fe()+500,Vi&&yr()))}function Ke(e,t){var r=e.callbackNode;wp(e,t);var n=gi(e,e===ke?Ne:0);if(n===0)r!==null&&pu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pu(r),t===1)e.tag===0?xm(ac.bind(null,e)):Fd(ac.bind(null,e)),mm(function(){!(V&6)&&yr()}),r=null;else{switch(gd(n)){case 1:r=oo;break;case 4:r=fd;break;case 16:r=mi;break;case 536870912:r=pd;break;default:r=mi}r=Uh(r,Ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ah(e,t){if(oi=-1,ui=0,V&6)throw Error(P(327));var r=e.callbackNode;if(fn()&&e.callbackNode!==r)return null;var n=gi(e,e===ke?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Di(e,n);else{t=n;var s=V;V|=2;var i=Dh();(ke!==e||Ne!==t)&&(Rt=null,wn=fe()+500,Tr(e,t));do try{Mm();break}catch(o){Oh(e,o)}while(!0);ko(),Pi.current=i,V=s,me!==null?t=0:(ke=null,Ne=0,t=xe)}if(t!==0){if(t===2&&(s=ol(e),s!==0&&(n=s,t=$l(e,s))),t===1)throw r=xs,Tr(e,0),er(e,n),Ke(e,fe()),r;if(t===6)er(e,n);else{if(s=e.current.alternate,!(n&30)&&!Im(s)&&(t=Di(e,n),t===2&&(i=ol(e),i!==0&&(n=i,t=$l(e,i))),t===1))throw r=xs,Tr(e,0),er(e,n),Ke(e,fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(P(345));case 2:_r(e,Be,Rt);break;case 3:if(er(e,n),(n&130023424)===n&&(t=Lo+500-fe(),10<t)){if(gi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gl(_r.bind(null,e,Be,Rt),t);break}_r(e,Be,Rt);break;case 4:if(er(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-xt(n);i=1<<l,l=t[l],l>s&&(s=l),n&=~i}if(n=s,n=fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lm(n/1960))-n,10<n){e.timeoutHandle=gl(_r.bind(null,e,Be,Rt),n);break}_r(e,Be,Rt);break;case 5:_r(e,Be,Rt);break;default:throw Error(P(329))}}}return Ke(e,fe()),e.callbackNode===r?Ah.bind(null,e):null}function $l(e,t){var r=Xn;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=Di(e,t),e!==2&&(t=Be,Be=r,t!==null&&Ll(t)),e}function Ll(e){Be===null?Be=e:Be.push.apply(Be,e)}function Im(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~$o,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xt(t),n=1<<r;e[r]=-1,t&=~n}}function ac(e){if(V&6)throw Error(P(327));fn();var t=gi(e,0);if(!(t&1))return Ke(e,fe()),null;var r=Di(e,t);if(e.tag!==0&&r===2){var n=ol(e);n!==0&&(t=n,r=$l(e,n))}if(r===1)throw r=xs,Tr(e,0),er(e,t),Ke(e,fe()),r;if(r===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,Be,Rt),Ke(e,fe()),null}function Io(e,t){var r=V;V|=1;try{return e(t)}finally{V=r,V===0&&(wn=fe()+500,Vi&&yr())}}function Rr(e){nr!==null&&nr.tag===0&&!(V&6)&&fn();var t=V;V|=1;var r=ot.transition,n=Q;try{if(ot.transition=null,Q=1,e)return e()}finally{Q=n,ot.transition=r,V=t,!(V&6)&&yr()}}function Uo(){Qe=ln.current,se(ln)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pm(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(xo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bi();break;case 3:yn(),se(He),se(Ae),Co();break;case 5:Eo(n);break;case 4:yn();break;case 13:se(ue);break;case 19:se(ue);break;case 10:_o(n.type._context);break;case 22:case 23:Uo()}r=r.return}if(ke=e,me=e=dr(e.current,null),Ne=Qe=t,xe=0,xs=null,$o=Yi=Dr=0,Be=Xn=null,Er!==null){for(t=0;t<Er.length;t++)if(r=Er[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}Er=null}return e}function Oh(e,t){do{var r=me;try{if(ko(),ii.current=zi,Ti){for(var n=ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ti=!1}if(Or=0,be=ye=ce=null,Yn=!1,gs=0,Ro.current=null,r===null||r.return===null){xe=1,xs=t,me=null;break}e:{var i=e,l=r.return,o=r,u=t;if(t=Ne,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ku(l);if(v!==null){v.flags&=-257,Gu(v,l,o,i,t),v.mode&1&&Vu(i,c,t),t=v,u=c;var x=t.updateQueue;if(x===null){var k=new Set;k.add(u),t.updateQueue=k}else x.add(u);break e}else{if(!(t&1)){Vu(i,c,t),Mo();break e}u=Error(P(426))}}else if(ae&&o.mode&1){var C=Ku(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Gu(C,l,o,i,t),wo(xn(u,o));break e}}i=u=xn(u,o),xe!==4&&(xe=2),Xn===null?Xn=[i]:Xn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=gh(i,u,t);Mu(i,g);break e;case 1:o=u;var m=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=vh(i,o,t);Mu(i,b);break e}}i=i.return}while(i!==null)}$h(r)}catch(E){t=E,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function Dh(){var e=Pi.current;return Pi.current=zi,e===null?zi:e}function Mo(){(xe===0||xe===3||xe===2)&&(xe=4),ke===null||!(Dr&268435455)&&!(Yi&268435455)||er(ke,Ne)}function Di(e,t){var r=V;V|=2;var n=Dh();(ke!==e||Ne!==t)&&(Rt=null,Tr(e,t));do try{Um();break}catch(s){Oh(e,s)}while(!0);if(ko(),V=r,Pi.current=n,me!==null)throw Error(P(261));return ke=null,Ne=0,xe}function Um(){for(;me!==null;)Rh(me)}function Mm(){for(;me!==null&&!dp();)Rh(me)}function Rh(e){var t=Ih(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?$h(e):me=t,Ro.current=null}function $h(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Om(r,t),r!==null){r.flags&=32767,me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,me=null;return}}else if(r=Am(r,t,Qe),r!==null){me=r;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);xe===0&&(xe=5)}function _r(e,t,r){var n=Q,s=ot.transition;try{ot.transition=null,Q=1,Fm(e,t,r,n)}finally{ot.transition=s,Q=n}return null}function Fm(e,t,r,n){do fn();while(nr!==null);if(V&6)throw Error(P(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(bp(e,i),e===ke&&(me=ke=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ks||(Ks=!0,Uh(mi,function(){return fn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ot.transition,ot.transition=null;var l=Q;Q=1;var o=V;V|=4,Ro.current=null,Rm(e,r),zh(r,e),lm(pl),vi=!!fl,pl=fl=null,e.current=r,$m(r),hp(),V=o,Q=l,ot.transition=i}else e.current=r;if(Ks&&(Ks=!1,nr=e,Oi=s),i=e.pendingLanes,i===0&&(ur=null),mp(r.stateNode),Ke(e,fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ai)throw Ai=!1,e=Dl,Dl=null,e;return Oi&1&&e.tag!==0&&fn(),i=e.pendingLanes,i&1?e===Rl?Zn++:(Zn=0,Rl=e):Zn=0,yr(),null}function fn(){if(nr!==null){var e=gd(Oi),t=ot.transition,r=Q;try{if(ot.transition=null,Q=16>e?16:e,nr===null)var n=!1;else{if(e=nr,nr=null,Oi=0,V&6)throw Error(P(331));var s=V;for(V|=4,$=e.current;$!==null;){var i=$,l=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Jn(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var p=d.sibling,v=d.return;if(Eh(d),d===c){$=null;break}if(p!==null){p.return=v,$=p;break}$=v}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(k!==null)}}$=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,$=l;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var m=e.current;for($=m;$!==null;){l=$;var f=l.child;if(l.subtreeFlags&2064&&f!==null)f.return=l,$=f;else e:for(l=m;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qi(9,o)}}catch(E){he(o,o.return,E)}if(o===l){$=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,$=b;break e}$=o.return}}if(V=s,yr(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Fi,e)}catch{}n=!0}return n}finally{Q=r,ot.transition=t}}return!1}function lc(e,t,r){t=xn(r,t),t=gh(e,t,1),e=or(e,t,1),t=Le(),e!==null&&(_s(e,1,t),Ke(e,t))}function he(e,t,r){if(e.tag===3)lc(e,e,r);else for(;t!==null;){if(t.tag===3){lc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ur===null||!ur.has(n))){e=xn(r,e),e=vh(t,e,1),t=or(t,e,1),e=Le(),t!==null&&(_s(t,1,e),Ke(t,e));break}}t=t.return}}function Bm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&r,ke===e&&(Ne&r)===r&&(xe===4||xe===3&&(Ne&130023424)===Ne&&500>fe()-Lo?Tr(e,0):$o|=r),Ke(e,t)}function Lh(e,t){t===0&&(e.mode&1?(t=Ls,Ls<<=1,!(Ls&130023424)&&(Ls=4194304)):t=1);var r=Le();e=qt(e,t),e!==null&&(_s(e,t,r),Ke(e,r))}function qm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lh(e,r)}function Wm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(t),Lh(e,r)}var Ih;Ih=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,Pm(e,t,r);We=!!(e.flags&131072)}else We=!1,ae&&t.flags&1048576&&Bd(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;li(e,t),e=t.pendingProps;var s=mn(t,Ae.current);hn(t,r),s=zo(null,t,n,e,s,r);var i=Po();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(n)?(i=!0,ki(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,So(t),s.updater=Gi,t.stateNode=s,s._reactInternals=t,_l(t,n,e,r),t=Nl(null,t,n,!0,i,r)):(t.tag=0,ae&&i&&yo(t),Re(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(li(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Vm(n),e=mt(n,e),s){case 0:t=Sl(null,t,n,e,r);break e;case 1:t=Ju(null,t,n,e,r);break e;case 11:t=Qu(null,t,n,e,r);break e;case 14:t=Yu(null,t,n,mt(n.type,e),r);break e}throw Error(P(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),Sl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),Ju(e,t,n,s,r);case 3:e:{if(bh(t),e===null)throw Error(P(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Gd(e,t),Ei(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xn(Error(P(423)),t),t=Xu(e,t,n,r,s);break e}else if(n!==s){s=xn(Error(P(424)),t),t=Xu(e,t,n,r,s);break e}else for(Ye=lr(t.stateNode.containerInfo.firstChild),Je=t,ae=!0,yt=null,r=Vd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gn(),n===s){t=Wt(e,t,r);break e}Re(e,t,n,r)}t=t.child}return t;case 5:return Qd(t),e===null&&wl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,ml(n,s)?l=null:i!==null&&ml(n,i)&&(t.flags|=32),wh(e,t),Re(e,t,l,r),t.child;case 6:return e===null&&wl(t),null;case 13:return kh(e,t,r);case 4:return No(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vn(t,null,n,r):Re(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),Qu(e,t,n,s,r);case 7:return Re(e,t,t.pendingProps,r),t.child;case 8:return Re(e,t,t.pendingProps.children,r),t.child;case 12:return Re(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,te(Si,n._currentValue),n._currentValue=l,i!==null)if(bt(i.value,l)){if(i.children===s.children&&!He.current){t=Wt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Mt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),bl(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),bl(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Re(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,hn(t,r),s=ct(s),n=n(s),t.flags|=1,Re(e,t,n,r),t.child;case 14:return n=t.type,s=mt(n,t.pendingProps),s=mt(n.type,s),Yu(e,t,n,s,r);case 15:return yh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mt(n,s),li(e,t),t.tag=1,Ve(n)?(e=!0,ki(t)):e=!1,hn(t,r),mh(t,n,s),_l(t,n,s,r),Nl(null,t,n,!0,e,r);case 19:return _h(e,t,r);case 22:return xh(e,t,r)}throw Error(P(156,t.tag))};function Uh(e,t){return hd(e,t)}function Hm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,r,n){return new Hm(e,t,r,n)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vm(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===io)return 11;if(e===ao)return 14}return 2}function dr(e,t){var r=e.alternate;return r===null?(r=lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ci(e,t,r,n,s,i){var l=2;if(n=e,typeof e=="function")Fo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Yr:return zr(r.children,s,i,t);case so:l=8,s|=8;break;case Ka:return e=lt(12,r,t,s|2),e.elementType=Ka,e.lanes=i,e;case Ga:return e=lt(13,r,t,s),e.elementType=Ga,e.lanes=i,e;case Qa:return e=lt(19,r,t,s),e.elementType=Qa,e.lanes=i,e;case Qc:return Ji(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kc:l=10;break e;case Gc:l=9;break e;case io:l=11;break e;case ao:l=14;break e;case Jt:l=16,n=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=lt(l,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function zr(e,t,r,n){return e=lt(7,e,n,t),e.lanes=r,e}function Ji(e,t,r,n){return e=lt(22,e,n,t),e.elementType=Qc,e.lanes=r,e.stateNode={isHidden:!1},e}function $a(e,t,r){return e=lt(6,e,null,t),e.lanes=r,e}function La(e,t,r){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Km(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bo(e,t,r,n,s,i,l,o,u){return e=new Km(e,t,r,o,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(i),e}function Gm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Mh(e){if(!e)return mr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var r=e.type;if(Ve(r))return Md(e,r,t)}return t}function Fh(e,t,r,n,s,i,l,o,u){return e=Bo(r,n,!0,e,s,i,l,o,u),e.context=Mh(null),r=e.current,n=Le(),s=cr(r),i=Mt(n,s),i.callback=t??null,or(r,i,s),e.current.lanes=s,_s(e,s,n),Ke(e,n),e}function Xi(e,t,r,n){var s=t.current,i=Le(),l=cr(s);return r=Mh(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=or(s,t,l),e!==null&&(wt(e,s,l,i),si(e,s,l)),l}function Ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qo(e,t){oc(e,t),(e=e.alternate)&&oc(e,t)}function Qm(){return null}var Bh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wo(e){this._internalRoot=e}Zi.prototype.render=Wo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Xi(e,t,null,null)};Zi.prototype.unmount=Wo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Xi(null,e,null,null)}),t[Bt]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zt.length&&t!==0&&t<Zt[r].priority;r++);Zt.splice(r,0,e),r===0&&bd(e)}};function Ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uc(){}function Ym(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ri(l);i.call(c)}}var l=Fh(t,n,e,0,null,!1,!1,"",uc);return e._reactRootContainer=l,e[Bt]=l.current,ds(e.nodeType===8?e.parentNode:e),Rr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Ri(u);o.call(c)}}var u=Bo(e,0,!1,null,null,!1,!1,"",uc);return e._reactRootContainer=u,e[Bt]=u.current,ds(e.nodeType===8?e.parentNode:e),Rr(function(){Xi(t,u,r,n)}),u}function ta(e,t,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var u=Ri(l);o.call(u)}}Xi(t,l,e,s)}else l=Ym(r,t,e,s,n);return Ri(l)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bn(t.pendingLanes);r!==0&&(uo(t,r|1),Ke(t,fe()),!(V&6)&&(wn=fe()+500,yr()))}break;case 13:Rr(function(){var n=qt(e,1);if(n!==null){var s=Le();wt(n,e,1,s)}}),qo(e,1)}};co=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var r=Le();wt(t,e,134217728,r)}qo(e,134217728)}};yd=function(e){if(e.tag===13){var t=cr(e),r=qt(e,t);if(r!==null){var n=Le();wt(r,e,t,n)}qo(e,t)}};xd=function(){return Q};wd=function(e,t){var r=Q;try{return Q=e,t()}finally{Q=r}};il=function(e,t,r){switch(t){case"input":if(Xa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hi(n);if(!s)throw Error(P(90));Jc(n),Xa(n,s)}}}break;case"textarea":Zc(e,r);break;case"select":t=r.value,t!=null&&on(e,!!r.multiple,t,!1)}};ad=Io;ld=Rr;var Jm={usingClientEntryPoint:!1,Events:[Ss,en,Hi,sd,id,Io]},In={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xm={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cd(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||Qm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Fi=Gs.inject(Xm),Tt=Gs}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jm;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ho(t))throw Error(P(200));return Gm(e,t,null,r)};Ze.createRoot=function(e,t){if(!Ho(e))throw Error(P(299));var r=!1,n="",s=Bh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bo(e,1,!1,null,null,r,!1,n,s),e[Bt]=t.current,ds(e.nodeType===8?e.parentNode:e),new Wo(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=cd(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Rr(e)};Ze.hydrate=function(e,t,r){if(!ea(t))throw Error(P(200));return ta(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!Ho(e))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Bh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Fh(t,null,e,1,r??null,s,!1,i,l),e[Bt]=t.current,ds(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Zi(t)};Ze.render=function(e,t,r){if(!ea(t))throw Error(P(200));return ta(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!ea(e))throw Error(P(40));return e._reactRootContainer?(Rr(function(){ta(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Io;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ea(r))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return ta(e,t,r,!1,n)};Ze.version="18.3.1-next-f1338f8080-20240426";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),qc.exports=Ze;var Zm=qc.exports,Wh,cc=Zm;Wh=cc.createRoot,cc.hydrateRoot;const e0="modulepreload",t0=function(e){return"/"+e},dc={},Es=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=t0(u),u in dc)return;dc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":e0,c||(h.as="script"),h.crossOrigin="",h.href=u,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},r0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Es(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Vo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class n0 extends Vo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hc extends Vo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fc extends Vo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Il;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Il||(Il={}));var s0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class i0{constructor(t,{headers:r={},customFetch:n,region:s=Il.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=r0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return s0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=l):typeof l=="string"?(o["Content-Type"]="text/plain",d=l):typeof FormData<"u"&&l instanceof FormData?d=l:(o["Content-Type"]="application/json",d=JSON.stringify(l)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(k=>{throw new n0(k)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new hc(h);if(!h.ok)throw new fc(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield h.json():v==="application/octet-stream"?x=yield h.blob():v==="text/event-stream"?x=h:v==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof fc||s instanceof hc?s.context:void 0}}})}}var qe={},Ko={},ra={},Cs={},na={},sa={},a0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bn=a0();const l0=bn.fetch,Hh=bn.fetch.bind(bn),Vh=bn.Headers,o0=bn.Request,u0=bn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vh,Request:o0,Response:u0,default:Hh,fetch:l0},Symbol.toStringTag,{value:"Module"})),c0=Nf(Sn);var ia={};Object.defineProperty(ia,"__esModule",{value:!0});let d0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ia.default=d0;var Kh=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sa,"__esModule",{value:!0});const h0=Kh(c0),f0=Kh(ia);let p0=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=h0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,u,c;let d=null,h=null,p=null,v=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const C=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");C&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const C=await i.text();try{d=JSON.parse(C),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,x="OK")}catch{i.status===404&&C===""?(v=204,x="No Content"):d={message:C}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,x="OK"),d&&this.shouldThrowOnError)throw new f0.default(d)}return{error:d,data:h,count:p,status:v,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,u;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};sa.default=p0;var m0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(na,"__esModule",{value:!0});const g0=m0(sa);let v0=class extends g0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${c}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};na.default=v0;var y0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cs,"__esModule",{value:!0});const x0=y0(na);let w0=class extends x0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Cs.default=w0;var b0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});const Un=b0(Cs);let k0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new Un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(l.length>0){const o=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Un.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Un.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ra.default=k0;var Gh=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});const _0=Gh(ra),j0=Gh(Cs);let S0=class Qh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new _0.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Qh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var l;let o;const u=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{u.searchParams.append(h,p)})):(o="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new j0.default({method:o,url:u,headers:d,schema:this.schemaName,body:c,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Ko.default=S0;var Nn=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qe,"__esModule",{value:!0});qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const Yh=Nn(Ko);qe.PostgrestClient=Yh.default;const Jh=Nn(ra);qe.PostgrestQueryBuilder=Jh.default;const Xh=Nn(Cs);qe.PostgrestFilterBuilder=Xh.default;const Zh=Nn(na);qe.PostgrestTransformBuilder=Zh.default;const ef=Nn(sa);qe.PostgrestBuilder=ef.default;const tf=Nn(ia);qe.PostgrestError=tf.default;var N0=qe.default={PostgrestClient:Yh.default,PostgrestQueryBuilder:Jh.default,PostgrestFilterBuilder:Xh.default,PostgrestTransformBuilder:Zh.default,PostgrestBuilder:ef.default,PostgrestError:tf.default};const{PostgrestClient:E0,PostgrestQueryBuilder:gy,PostgrestFilterBuilder:vy,PostgrestTransformBuilder:yy,PostgrestBuilder:xy,PostgrestError:wy}=N0;class C0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const T0="2.15.5",z0=`realtime-js/${T0}`,P0="1.0.0",Ul=1e4,A0=1e3,O0=100;var es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(es||(es={}));var ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ge||(ge={}));var vt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vt||(vt={}));var Ml;(function(e){e.websocket="websocket"})(Ml||(Ml={}));var Sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sr||(Sr={}));class D0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+i));l=l+i;const c=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class rf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const pc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,l)=>(i[l]=R0(l,e,t,s),i),{})},R0=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,l=r[e];return i&&!n.includes(i)?nf(i,l):Fl(l)},nf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return U0(t,r)}switch(e){case ee.bool:return $0(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return L0(t);case ee.json:case ee.jsonb:return I0(t);case ee.timestamp:return M0(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Fl(t);default:return Fl(t)}},Fl=e=>e,$0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},I0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},U0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>nf(t,o))}return e},M0=e=>typeof e=="string"?e.replace(" ","T"):e,sf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ia{constructor(t,r,n={},s=Ul){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mc||(mc={}));class ts{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,s,i,l),this.pendingDiffs.forEach(u=>{this.state=ts.syncDiff(this.state,u,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ts.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),l=this.transformState(r),o={},u={};return this.map(i,(c,d)=>{l[c]||(u[c]=d)}),this.map(l,(c,d)=>{const h=i[c];if(h){const p=d.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),x=d.filter(C=>v.indexOf(C.presence_ref)<0),k=h.filter(C=>p.indexOf(C.presence_ref)<0);x.length>0&&(o[c]=x),k.length>0&&(u[c]=k)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const h=t[o].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);t[o].unshift(...p)}n(o,d,u)}),this.map(l,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gc||(gc={}));var rs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rs||(rs={}));var $t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class Go{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ia(this,vt.join,this.params,this.timeout),this.rejoinTimer=new rf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ts(this),this.broadcastEndpointURL=sf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:l,presence:o,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[rs.PRESENCE]&&this.bindings[rs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t($t.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t($t.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){t==null||t($t.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,C=(x=k==null?void 0:k.length)!==null&&x!==void 0?x:0,g=[];for(let m=0;m<C;m++){const f=k[m],{filter:{event:b,schema:E,table:y,filter:N}}=f,_=v&&v[m];if(_&&_.event===b&&_.schema===E&&_.table===y&&_.filter===N)g.push(Object.assign(Object.assign({},f),{id:_.id}));else{this.unsubscribe(),this.state=ge.errored,t==null||t($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t($t.SUBSCRIBED);return}}).receive("error",v=>{this.state=ge.errored,t==null||t($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ge.joined&&t===rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ia(this,vt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ia(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>O0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const l=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=vt;if(n&&[o,u,c,d].indexOf(l)>=0&&n!==this._joinRef())return;let p=this._onMessage(l,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,k,C;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((C=(k=v.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(v=>v.callback(p,n)):(i=this.bindings[l])===null||i===void 0||i.filter(v=>{var x,k,C,g,m,f;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const b=v.id,E=(x=v.filter)===null||x===void 0?void 0:x.event;return b&&((k=r.ids)===null||k===void 0?void 0:k.includes(b))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const b=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:k,table:C,commit_timestamp:g,type:m,errors:f}=x;p=Object.assign(Object.assign({},{schema:k,table:C,commit_timestamp:g,eventType:m,new:{},old:{},errors:f}),this._getPayloadRecords(x))}v.callback(p,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Go.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vt.close,{},t)}_onError(t){this._on(vt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pc(t.columns,t.old_record)),r}}const Ua=()=>{},Qs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F0=[1e3,2e3,5e3,1e4],B0=1e4,q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W0{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ul,this.transport=null,this.heartbeatIntervalMs=Qs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ua,this.ref=0,this.reconnectTimer=null,this.logger=Ua,this.conn=null,this.sendBuffer=[],this.serializer=new D0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>Es(async()=>{const{default:o}=await Promise.resolve().then(()=>Sn);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ml.websocket}`,this.httpEndpoint=sf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:P0}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case es.connecting:return Sr.Connecting;case es.open:return Sr.Open;case es.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Go(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,l=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(A0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:l}=r,o=l?`(${l})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([q0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:z0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(vt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,l,o,u,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ul,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Qs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ua,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:h=>F0[h-1]||B0,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Qo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class H0 extends Qo{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bl extends Qo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var V0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const af=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Es(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},K0=()=>V0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Es(()=>Promise.resolve().then(()=>Sn),void 0)).Response:Response}),ql=e=>{if(Array.isArray(e))return e.map(r=>ql(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ql(n)}),t},G0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ir=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Ma=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q0=(e,t,r)=>Ir(void 0,void 0,void 0,function*(){const n=yield K0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,l=(s==null?void 0:s.statusCode)||i+"";t(new H0(Ma(s),i,l))}).catch(s=>{t(new Bl(Ma(s),s))}):t(new Bl(Ma(e),e))}),Y0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(G0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ts(e,t,r,n,s,i){return Ir(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Y0(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>Q0(u,o,n))})})}function $i(e,t,r,n){return Ir(this,void 0,void 0,function*(){return Ts(e,"GET",t,r,n)})}function Et(e,t,r,n,s){return Ir(this,void 0,void 0,function*(){return Ts(e,"POST",t,n,s,r)})}function Wl(e,t,r,n,s){return Ir(this,void 0,void 0,function*(){return Ts(e,"PUT",t,n,s,r)})}function J0(e,t,r,n){return Ir(this,void 0,void 0,function*(){return Ts(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lf(e,t,r,n,s){return Ir(this,void 0,void 0,function*(){return Ts(e,"DELETE",t,n,s,r)})}var De=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const X0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z0{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=af(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return De(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},vc),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Wl:Et)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}})}upload(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return De(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:vc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Wl(this.fetch,o.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ve(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return De(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Qo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}update(t,r,n){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}copy(t,r,n){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return De(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return De(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}download(t,r){return De(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield $i(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ve(o))return{data:null,error:o};throw o}})}info(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ql(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}exists(t){return De(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield J0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n)&&n instanceof Bl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}list(t,r,n){return De(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},X0),r),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}})}listV2(t,r){return De(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Et(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const eg="2.12.1",tg={"X-Client-Info":`storage-js/${eg}`};var Br=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class rg{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},tg),r),this.fetch=af(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Br(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}})}getBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Br(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Br(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield lf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}})}}class ng extends rg{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Z0(this.url,this.headers,t,this.fetch)}}const sg="2.57.4";let Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";const ig={"X-Client-Info":`supabase-js-${Wn}/${sg}`},ag={headers:ig},lg={schema:"public"},og={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ug={};var cg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const dg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Hh:t=fetch,(...r)=>t(...r)},hg=()=>typeof Headers>"u"?Vh:Headers,fg=(e,t,r)=>{const n=dg(r),s=hg();return(i,l)=>cg(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(l==null?void 0:l.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},l),{headers:c}))})};var pg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function mg(e){return e.endsWith("/")?e:e+"/"}function gg(e,t){var r,n;const{db:s,auth:i,realtime:l,global:o}=e,{db:u,auth:c,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pg(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function vg(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mg(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const of="2.71.1",Kr=30*1e3,Hl=3,Fa=Hl*Kr,yg="http://localhost:9999",xg="supabase.auth.token",wg={"X-Client-Info":`gotrue-js/${of}`},Vl="X-Supabase-Api-Version",uf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kg=10*60*1e3;class Yo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _g extends Yo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jg(e){return B(e)&&e.name==="AuthApiError"}class cf extends Yo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xr extends Yo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Yt extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sg(e){return B(e)&&e.name==="AuthSessionMissingError"}class Ys extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Js extends xr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends xr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ng(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class yc extends xr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kl extends xr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ba(e){return B(e)&&e.name==="AuthRetryableFetchError"}class xc extends xr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Gl extends xr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wc=` 	
\r=`.split(""),Eg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wc.length;t+=1)e[wc[t].charCodeAt(0)]=-2;for(let t=0;t<Li.length;t+=1)e[Li[t].charCodeAt(0)]=t;return e})();function bc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}}function df(e,t,r){const n=Eg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kc(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{zg(l,n,r)};for(let l=0;l<e.length;l+=1)df(e.charCodeAt(l),s,i);return t.join("")}function Cg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Tg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Cg(n,t)}}function zg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Pg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)df(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ag(e){const t=[];return Tg(e,r=>t.push(r)),new Uint8Array(t)}function Og(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bc(s,r,n)),bc(null,r,n),t.join("")}function Dg(e){return Math.round(Date.now()/1e3)+e}function Rg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const pt=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},hf=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function $g(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Es(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Lg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},br=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qt=async(e,t)=>{await e.removeItem(t)};class aa{constructor(){this.promise=new aa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}aa.promiseConstructor=Promise;function qa(e){const t=e.split(".");if(t.length!==3)throw new Gl("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!bg.test(t[n]))throw new Gl("JWT not in base64url format");return{header:JSON.parse(kc(t[0])),payload:JSON.parse(kc(t[1])),signature:Pg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ig(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ug(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){s(l);return}}})()})}function Mg(e){return("0"+e.toString(16)).substr(-2)}function Fg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Mg).join("")}async function Bg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function qg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Bg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(e,t,r=!1){const n=Fg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Gr(e,`${t}-code-verifier`,s);const i=await qg(n);return[i,n===i?"plain":"s256"]}const Wg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hg(e){const t=e.headers.get(Vl);if(!t||!t.match(Wg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Kg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wr(e){if(!Gg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wa(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _c(e){return JSON.parse(JSON.stringify(e))}var Qg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yg=[502,503,504];async function jc(e){var t;if(!Lg(e))throw new Kl(jr(e),0);if(Yg.includes(e.status))throw new Kl(jr(e),e.status);let r;try{r=await e.json()}catch(i){throw new cf(jr(i),i)}let n;const s=Hg(e);if(s&&s.getTime()>=uf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xc(jr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new xc(jr(r),e.status,r.weak_password.reasons);throw new _g(jr(r),e.status||500,n)}const Jg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function W(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Vl]||(i[Vl]=uf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await Xg(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Xg(e,t,r,n,s,i){const l=Jg(t,n,s,i);let o;try{o=await e(r,Object.assign({},l))}catch(u){throw console.error(u),new Kl(jr(u),0)}if(o.ok||await jc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await jc(u)}}function Dt(e){var t;let r=null;rv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Dg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sc(e){const t=Dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function tr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Zg(e){return{data:e,error:null}}function ev(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,l=Qg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},l);return{data:{properties:o,user:u},error:null}}function tv(e){return e}function rv(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ha=["global","local","others"];var nv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class sv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=ff(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ha[0]){if(Ha.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ha.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:tr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=nv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ev,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(B(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:tr})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,l,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:tv});if(d.error)throw d.error;const h=await d.json(),p=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(x.split(";")[1].split("=")[1]);c[`${C}Page`]=k}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(B(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Wr(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:tr})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wr(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:tr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wr(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:tr})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wr(t.userId);try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wr(t.userId),Wr(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}function Nc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function iv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hr={debug:!!(globalThis&&hf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class av extends pf{}async function lv(e,t,r){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new av(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}iv();const ov={url:yg,storageKey:xg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ec(e,t,r){return await r()}const Vr={};class ws{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ov),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ff(s.fetch),this.lock=s.lock||Ec,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=lv:this.lock=Ec,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Vr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${of}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=$g(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),pt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ng(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return B(r)?{error:r}:{error:new cf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dt}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await qr(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},xform:Dt})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Dt})}else throw new Js("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sc})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sc})}else throw new Js("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,l,o,u,c,d,h,p,v;let x,k;if("message"in t)x=t.message,k=t.signature;else{const{chain:C,wallet:g,statement:m,options:f}=t;let b;if(pt())if(typeof g=="object")b=g;else{const y=window;if("solana"in y&&typeof y.solana=="object"&&("signIn"in y.solana&&typeof y.solana.signIn=="function"||"signMessage"in y.solana&&typeof y.solana.signMessage=="function"))b=y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const E=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const y=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let N;if(Array.isArray(y)&&y[0]&&typeof y[0]=="object")N=y[0];else if(y&&typeof y=="object"&&"signedMessage"in y&&"signature"in y)N=y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),k=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const y=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!y||!(y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=y}}try{const{data:C,error:g}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Og(k)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Dt});if(g)throw g;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ys}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:g})}catch(C){if(B(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const r=await br(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Dt});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=t,o=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dt}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ys}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,l;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qr(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Js("You must provide either an email or phone number.")}catch(o){if(B(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,c=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await qr(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:Zg})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:l}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:l,error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Js("You must provide either an email or phone number and a type")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await br(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Wa()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!l&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:tr}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:tr})})}catch(r){if(B(r))return Sg(r)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Yt;const l=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await qr(this.storage,this.storageKey));const{data:c,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:l.access_token,xform:tr});if(d)throw d;return l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=qa(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(B(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!pt())throw new Xs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yc("No code detected.");const{data:m,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:u,token_type:c}=t;if(!i||!o||!l||!c)throw new Xs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;u&&(p=parseInt(u));const v=p-d;v*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=p-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:k,error:C}=await this._getUser(i);if(C)throw C;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:l,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(jg(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Rg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qr(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,u,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ug(async s=>(s>0&&await Ig(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dt})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Ba(i)&&Date.now()+l-n<Kr})}catch(n){if(this._debug(r,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),pt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await br(this.storage,this.storageKey);if(s&&this.userStorage){let l=await br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Gr(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Wa()}else if(s&&!s.user&&!s.user){const l=await br(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Qt(this.storage,this.storageKey+"-user"),await Gr(this.storage,this.storageKey,s)):s.user=Wa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Fa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Ba(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new aa;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Yt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),B(i)){const l={session:null,error:i};return Ba(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=_c(s);await Gr(this.storage,this.storageKey,i)}else{const s=_c(r);await Gr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kr}ms, refresh threshold is ${Hl} ticks`),s<=Hl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await qr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(B(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=qa(s.access_token);let o=null;l.aal&&(o=l.aal);let u=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+kg>s)return n;const{data:i,error:l}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return{data:null,error:x};n=v.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:u}}=qa(n);r!=null&&r.allowExpired||Vg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:l},error:null}}const d=Kg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,l,Ag(`${o}.${u}`)))throw new Gl("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}ws.nextInstanceID=0;const uv=ws;class cv extends uv{constructor(t){super(t)}}var dv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{c(n.next(d))}catch(h){l(h)}}function u(d){try{c(n.throw(d))}catch(h){l(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class hv{constructor(t,r,n){var s,i,l;this.supabaseUrl=t,this.supabaseKey=r;const o=vg(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:lg,realtime:ug,auth:Object.assign(Object.assign({},og),{storageKey:u}),global:ag},d=gg(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=fg(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new E0(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ng(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new i0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:l,flowType:o,lock:u,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cv({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new W0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fv=(e,t,r)=>new hv(e,t,r);function pv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}pv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mv="https://soewlqmskqmpycaevhoc.supabase.co",gv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNvZXdscW1za3FtcHljYWV2aG9jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNDExODksImV4cCI6MjA3ODYxNzE4OX0.0CAOUF-SVUIx5udgzNBkrggovWaafHWYFN1j-HzYTFU",A=fv(mv,gv,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),mf=S.createContext(void 0);function vv({children:e}){const[t,r]=S.useState(null),[n,s]=S.useState(!0);S.useEffect(()=>{A.auth.getSession().then(({data:{session:c}})=>{r((c==null?void 0:c.user)??null),s(!1)}).catch(()=>{s(!1)});const{data:{subscription:u}}=A.auth.onAuthStateChange((c,d)=>{r((d==null?void 0:d.user)??null),s(!1)});return()=>u.unsubscribe()},[]);const i=async(u,c)=>{try{const{error:d}=await A.auth.signInWithPassword({email:u,password:c});return d?{error:new Error(d.message.includes("Invalid login credentials")||d.message.includes("Email not confirmed")?"Geersiz e-posta veya ifre. Ltfen tekrar deneyin.":d.message.includes("Email not confirmed")?"E-posta adresiniz henz onaylanmam. Ltfen e-postanz kontrol edin.":"Giri yaplamad. Bilgilerinizi kontrol edip tekrar deneyin.")}:{error:null}}catch{return{error:new Error("Giri yaplamad. Ltfen daha sonra tekrar deneyin.")}}},l=async(u,c,d,h)=>{try{const{data:p,error:v}=await A.from("profiles").select("username").eq("username",h.toLowerCase()).single();if(p)return{error:new Error("Bu kullanc ad zaten alnm. Ltfen farkl bir tane sein.")};v&&v.code!=="PGRST116"&&console.error("Username check error:",v);const{data:x,error:k}=await A.auth.signUp({email:u,password:c,options:{emailRedirectTo:`${window.location.origin}`,data:{full_name:d,username:h.toLowerCase()}}});if(k)throw new Error(k.message.includes("already registered")||k.message.includes("already exists")||k.message.includes("User already registered")?"Bu e-posta adresi zaten kaytl. Ltfen giri yapn veya farkl bir e-posta kullann.":k.message.includes("Password should be at least")?"ifre en az 6 karakter olmaldr.":"Hesap oluturulamad. Ltfen tekrar deneyin.");if(x.user)try{const{error:C}=await A.from("profiles").upsert({id:x.user.id,email:x.user.email,full_name:d,username:h.toLowerCase()},{onConflict:"id"})}catch{}return x.user&&!x.session?{error:null}:{error:null}}catch(p){return{error:p instanceof Error?p:new Error("Hesap oluturulamad. Ltfen tekrar deneyin.")}}},o=async()=>{await A.auth.signOut()};return a.jsx(mf.Provider,{value:{user:t,loading:n,signIn:i,signUp:l,signOut:o},children:e})}function tt(){const e=S.useContext(mf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const yv={en:{nav:{home:"Home",about:"About",social:"Social",analyze:"Analyze",library:"Library",contact:"Contact",dashboard:"Dashboard",buy:"Buy",freeTrial:"3-Day Free Trial",signIn:"Sign In",signOut:"Sign Out"},home:{title:"Submirra",subtitle:"Unlock the Secrets of Your Subconscious",description:"Experience the power of advanced dream analysis. Submirra combines sophisticated subconscious interpretation with stunning visual generation to help you understand the hidden meanings behind your dreams.",cta:"Analyze Your Dream",getStarted:"Get Started",learnMore:"Learn More",feature1Title:"Deep Analysis",feature1Desc:"Advanced analysis techniques reveal hidden meanings in your dreams through sophisticated subconscious interpretation.",feature2Title:"Visual Generation",feature2Desc:"Transform your dreams into stunning surreal visualizations that capture their essence and emotion.",feature3Title:"Personal Library",feature3Desc:"Build your personal dream journal with all your analyses and visualizations in one place."},about:{title:"About Submirra",subtitle:"Bridging the conscious and subconscious",missionTitle:"Our Mission",missionDesc:"Submirra is dedicated to helping you understand the hidden messages within your dreams. Using advanced analysis technology, we analyze your dreams to reveal insights about your subconscious mind, emotional state, and inner desires.",howItWorksTitle:"How It Works",howItWorksDesc:"Our platform combines the power of advanced analysis with artistic visualization:",step1:"Share your dream in up to 5000 characters",step2:"Our system processes your dream through advanced analysis",step3:"Receive a detailed subconscious analysis",step4:"Get a unique surreal visualization of your dream",step5:"Build your personal dream library over time",privacyTitle:"Privacy & Security",privacyDesc:"Your dreams are deeply personal, and we treat them with the utmost respect. All dream entries are encrypted and stored securely. Only you can access your dream library, and we never share your data with third parties. Your subconscious secrets are safe with us.",quote:'"Dreams are the royal road to the unconscious" - Sigmund Freud'},analyze:{title:"Analyze Your Dream",subtitle:"Describe your dream in detail and discover its hidden meanings",label:"Tell us about your dream",placeholder:"I was walking through a forest filled with glowing trees...",characters:"characters",submit:"Analyze Dream",saving:"Saving...",analysisTitle:"Analysis",visualizationTitle:"Dream Visualization",analyzeAnother:"Analyze Another Dream",confirmationMessage:"Your dream has been saved and will be analyzed shortly.",savedMessage:"Your dream has been saved and will be analyzed shortly.",trialBadge:"3-Day Free Trial",privacyLabel:"Privacy",privacyPublic:"Public",privacyPrivate:"Private",privacyPublicDesc:"Share with the community",privacyPrivateDesc:"Only visible to you"},library:{title:"Your Dream Library",subtitle:"Explore your collection of analyzed dreams and visualizations",empty:"Your library is empty",analyzeFirst:"Analyze Your First Dream",yourDream:"Your Dream",analysis:"Analysis",pending:"Pending Analysis",processingMessage:"Analysis is being processed"},social:{title:"Social Feed",subtitle:"Explore public dream analyses from the community",searchDreams:"Search Dreams",searchUsers:"Search Users",searchDreamsPlaceholder:"Search dreams...",searchUsersPlaceholder:"Search users by name or username...",all:"All",following:"Following",recent:"Recent",popular:"Popular",trending:"Trending",pending:"Pending",noDreams:"No public dreams yet",shareFirst:"Share Your First Dream",likes:"likes",like:"like",comments:"comments",comment:"comment",viewAll:"View all",noComments:"No comments yet",writeComment:"Write a comment...",signInToComment:"Sign in to comment",signIn:"Sign In",justNow:"Just now",minutesAgo:"m ago",hoursAgo:"h ago",daysAgo:"d ago",noUsersFound:"No users found",anonymous:"Anonymous",checkOutDream:"Check out this dream",linkCopied:"Link copied to clipboard",deleteDream:"Delete your dream",deleteConfirm:"Are you sure you want to delete this dream? This will also delete all likes and comments.",dreamDeleted:"Dream deleted successfully",deleteFailed:"Failed to delete dream. You can only delete your own dreams.",commentAdded:"Comment added",commentFailed:"Failed to add comment",commentDeleted:"Comment deleted",commentDeleteFailed:"Failed to delete comment",deleteComment:"Delete comment",endOfFeed:"You've reached the end of the feed",loadingMore:"Loading more..."},profile:{title:"Profile",manageAccount:"Manage your account settings",userProfile:"User Profile",changeAvatar:"Change avatar",uploading:"Uploading...",publicDreams:"Public Dreams",likesReceived:"Likes Received",comments:"Comments",followers:"Followers",following:"Following",email:"Email",memberSince:"Member Since",editProfile:"Edit Profile",saveChanges:"Save Changes",cancel:"Cancel",follow:"Follow",followingButton:"Following",publicDreamsTitle:"Public Dreams",noPublicDreams:"No public dreams yet",profileSaved:"Profile saved successfully",profileSaveFailed:"Failed to save profile",avatarUploaded:"Avatar uploaded successfully",avatarUploadFailed:"Failed to upload avatar",followSuccess:"Now following this user",unfollowSuccess:"Unfollowed this user",followFailed:"Failed to update follow status",bioPlaceholder:"Write a bio..."},dashboard:{title:"Dashboard",subtitle:"Overview of your dream analysis journey",totalDreams:"Total Dreams",completedAnalyses:"Completed Analyses",pendingAnalyses:"Pending Analyses",analyzeNewDream:"Analyze New Dream",analyzeNewDreamDesc:"Start analyzing a new dream to discover its hidden meanings",viewLibrary:"View Library",viewLibraryDesc:"Browse your complete collection of analyzed dreams",recentDreams:"Recent Dreams",viewAll:"View All",noDreams:"No dreams yet",analyzeFirstDream:"Analyze Your First Dream"},contact:{title:"Contact Us",subtitle:"Have questions? We'd love to hear from you",emailSupport:"Email Support",liveChat:"Live Chat",available:"Available 24/7 for assistance",sendMessage:"Send us a Message",name:"Name",email:"Email",subject:"Subject",message:"Message",send:"Send Message",thankYou:"Thank you for your message! We'll get back to you soon.",namePlaceholder:"Your name",emailPlaceholder:"your@email.com",subjectPlaceholder:"What's this about?",messagePlaceholder:"Tell us more..."},auth:{welcomeBack:"Welcome Back",createAccount:"Create Account",continueExploring:"Continue exploring your dreams",startJourney:"Start your journey into the subconscious",signIn:"Sign In",signUp:"Sign Up",fullName:"Full Name",email:"Email",password:"Password",orContinueWith:"Or continue with",googleSignIn:"Sign in with Google",enterFullName:"Enter your full name",enterEmail:"your@email.com",enterPassword:"Enter your password",creatingAccount:"Creating account...",signingIn:"Signing in...",checkEmail:"Check your email",confirmationSent:"We sent you a confirmation link. Please check your email to verify your account.",validationRequired:"Please fill out this field",validationEmail:"Please enter a valid email address",emailAlreadyExists:"This email is already registered. Please sign in or use a different email.",invalidCredentials:"Invalid email or password. Please try again."},settings:{title:"Settings",blockedUsers:"Blocked Users",privacy:"Privacy",notifications:"Notifications",blockedUsersDesc:"Users you've blocked won't be able to send you messages or interact with your content.",noBlockedUsers:"No blocked users",unblock:"Unblock",unblockConfirm:"Are you sure you want to unblock",unblockSuccess:"has been unblocked",privacyDesc:"Control who can see your content and interact with you.",profileVisibility:"Profile Visibility",allowMessagesFrom:"Allow Messages From",public:"Public",private:"Private",everyone:"Everyone",followingOnly:"Following Only",notificationsDesc:"Choose what notifications you want to receive.",likesOnDreams:"Likes on Dreams",comments:"Comments",newFollowers:"New Followers",directMessages:"Direct Messages"},pricing:{title:"Simple, Transparent Pricing",subtitle:"Choose the perfect plan for your dream analysis journey",freeTrial:{title:"Free Trial",price:"Free",description:"Perfect for exploring what Submirra can do",feature1:"3 days of access",feature2:"3 dream analyses total",feature3:"",cta:"Start Free Trial",signUp:"Sign Up Free"},standard:{title:"Standard",price:"$15",period:"month",description:"Great for regular dream journaling and insights",feature1:"5 dream analyses per day",feature2:"1 visualization per analysis",feature3:"Save up to 10 analyses monthly",feature4:"Advanced analysis",feature5:"Storage refreshes each month",cta:"Get Standard"},premium:{badge:"Most Popular",title:"Premium",price:"$30",period:"month",description:"Unlock your subconscious completely with unlimited library and multiple visualizations",feature1:"10 dream analyses per day",feature2:"3 visualizations per analysis",feature3:"Unlimited library storage",feature4:"Priority analysis",feature5:"Never lose your dream history",cta:"Go Premium"},whySubmirra:{title:"Why Choose Submirra?",description:"Submirra uses cutting-edge analysis technology to decode your dreams, revealing hidden meanings about your subconscious mind, emotional state, and inner desires. Each analysis comes with unique surreal visualizations that capture the essence of your dream."}},trial:{activateTitle:"Activate Your 3-Day Free Trial",activateDesc:"Experience the full power of Submirra with unlimited access for 3 days",activateNow:"Activate Free Trial",activating:"Activating...",activated:"Trial Activated!",activatedDesc:"Your 3-day free trial has been successfully activated.",enjoy3Days:"Enjoy 3 days of unlimited dream analysis and insights!",alreadyUsed:"Trial Already Used",alreadyUsedDesc:"You have already used your free trial. Upgrade to a paid plan to continue enjoying Submirra.",viewPlans:"View Plans",whatsIncluded:"What's Included:",feature1:"3 days of full access to all features",feature2:"3 dream analyses with AI-powered insights",feature3:"Beautiful visualizations for your dreams",duration:"Duration",threeDays:"3 Days",analyses:"Analyses",threeAnalyses:"3 Dreams",features:"Features",fullAccess:"Full Access",startAnalyzing:"Start Analyzing Dreams",trialExpired:"Trial Expired",trialExpiredDesc:"Your 3-day free trial has expired. Upgrade to continue."}},tr:{nav:{home:"Ana Sayfa",about:"Hakknda",social:"Sosyal",analyze:"Analiz Et",library:"Ktphane",contact:"letiim",dashboard:"Dashboard",buy:"Satn Al",freeTrial:"3 Gnlk Deneme",signIn:"Giri Yap",signOut:"k Yap"},home:{title:"Submirra",subtitle:"Bilinaltnzn Srlarn Kefedin",description:"Gelimi rya analizi gcn deneyimleyin. Submirra, sofistike bilinalt yorumlama ve etkileyici grsel retimi birletirerek ryalarnzn gizli anlamlarn anlamanza yardmc olur.",cta:"Ryan Analiz Et",getStarted:"Balayn",learnMore:"Daha Fazla Bilgi",feature1Title:"Derin Analiz",feature1Desc:"Gelimi analiz teknikleri, sofistike bilinalt yorumlama yoluyla ryalarnzdaki gizli anlamlar ortaya karr.",feature2Title:"Grsel retimi",feature2Desc:"Ryalarnz, zn ve duygusunu yakalayan muhteem srreal grselletirmelere dntrn.",feature3Title:"Kiisel Ktphane",feature3Desc:"Tm analizleriniz ve grselletirmelerinizle kiisel rya gnlnz tek bir yerde oluturun."},about:{title:"Submirra Hakknda",subtitle:"Bilin ve bilinalt arasnda kpr",missionTitle:"Misyonumuz",missionDesc:"Submirra, ryalarnzdaki gizli mesajlar anlamanza yardmc olmaya adanmtr. Gelimi analiz teknolojisi kullanarak, bilinalt zihniniz, duygusal durumunuz ve i arzularnz hakknda igrler ortaya karmak iin ryalarnz analiz ediyoruz.",howItWorksTitle:"Nasl alr",howItWorksDesc:"Platformumuz, gelimi analiz gcn sanatsal grselletirme ile birletirir:",step1:"Ryanz 5000 karaktere kadar paylan",step2:"Sistemimiz ryanz gelimi analiz yntemleriyle iler",step3:"Detayl bir bilinalt analizi aln",step4:"Ryanzn benzersiz srreal bir grselletirmesini elde edin",step5:"Zamanla kiisel rya ktphanenizi oluturun",privacyTitle:"Gizlilik ve Gvenlik",privacyDesc:"Ryalarnz son derece kiiseldir ve onlara byk bir saygyla yaklayoruz. Tm rya girileri ifrelenir ve gvenli bir ekilde saklanr. Yalnzca siz rya ktphanenize eriebilirsiniz ve verilerinizi asla nc taraflarla paylamayz. Bilinalt srlarnz bizimle gvendedir.",quote:'"Ryalar bilindna alan kraliyet yoludur" - Sigmund Freud'},analyze:{title:"Ryanz Analiz Edin",subtitle:"Ryanz detayl bir ekilde anlatn ve gizli anlamlarn kefedin",label:"Ryanz hakknda bize bilgi verin",placeholder:"Parlayan aalarla dolu bir ormanda yryordum...",characters:"karakter",submit:"Ryay Analiz Et",saving:"Kaydediliyor...",analysisTitle:"Analiz",visualizationTitle:"Rya Grselletirmesi",analyzeAnother:"Baka Bir Rya Analiz Et",confirmationMessage:"Ryanz kaydedildi ve ksa sre iinde analiz edilecek.",savedMessage:"Ryanz kaydedildi ve ksa sre iinde analiz edilecek.",trialBadge:"3 Gnlk cretsiz Deneme",privacyLabel:"Gizlilik",privacyPublic:"Herkese Ak",privacyPrivate:"zel",privacyPublicDesc:"Toplulukla payla",privacyPrivateDesc:"Sadece size zel"},library:{title:"Rya Ktphaneniz",subtitle:"Analiz edilmi ryalarnz ve grselletirmelerinizi kefedin",empty:"Ktphaneniz bo",analyzeFirst:"lk Ryanz Analiz Edin",yourDream:"Ryanz",analysis:"Analiz",pending:"Analiz Bekleniyor",processingMessage:"Analiz ileniyor"},social:{title:"Sosyal Ak",subtitle:"Topluluktan herkese ak rya analizlerini kefedin",searchDreams:"Ryalar Ara",searchUsers:"Kullanclar Ara",searchDreamsPlaceholder:"Ryalar ara...",searchUsersPlaceholder:"sim veya kullanc adna gre kullanc ara...",all:"Tm",following:"Takip Edilenler",recent:"Yeni",popular:"Popler",trending:"Trend",pending:"Beklemede",noDreams:"Henz herkese ak rya yok",shareFirst:"lk Ryanz Paylan",likes:"beeni",like:"beeni",comments:"yorum",comment:"yorum",viewAll:"Tmn gr",noComments:"Henz yorum yok",writeComment:"Yorum yaz...",signInToComment:"Yorum yapmak iin giri yapn",signIn:"Giri Yap",justNow:"Az nce",minutesAgo:" dk nce",hoursAgo:" sa nce",daysAgo:" gn nce",noUsersFound:"Kullanc bulunamad",anonymous:"Anonim",checkOutDream:"Bu ryaya gz at",linkCopied:"Link panoya kopyaland",deleteDream:"Ryanz silin",deleteConfirm:"Bu ryay silmek istediinizden emin misiniz? Bu ilem tm beenileri ve yorumlar da silecektir.",dreamDeleted:"Rya baaryla silindi",deleteFailed:"Rya silinemedi. Sadece kendi ryalarnz silebilirsiniz.",commentAdded:"Yorum eklendi",commentFailed:"Yorum eklenemedi",commentDeleted:"Yorum silindi",commentDeleteFailed:"Yorum silinemedi",deleteComment:"Yorumu sil",endOfFeed:"Akn sonuna ulatnz",loadingMore:"Daha fazla ykleniyor..."},profile:{title:"Profil",manageAccount:"Hesap ayarlarnz ynetin",userProfile:"Kullanc Profili",changeAvatar:"Avatar deitir",uploading:"Ykleniyor...",publicDreams:"Herkese Ak Ryalar",likesReceived:"Alnan Beeniler",comments:"Yorumlar",followers:"Takipiler",following:"Takip Edilenler",email:"E-posta",memberSince:"yelik Tarihi",editProfile:"Profili Dzenle",saveChanges:"Deiiklikleri Kaydet",cancel:"ptal",follow:"Takip Et",followingButton:"Takip Ediliyor",publicDreamsTitle:"Herkese Ak Ryalar",noPublicDreams:"Henz herkese ak rya yok",profileSaved:"Profil baaryla kaydedildi",profileSaveFailed:"Profil kaydedilemedi",avatarUploaded:"Avatar baaryla yklendi",avatarUploadFailed:"Avatar yklenemedi",followSuccess:"Bu kullancy takip ediyorsunuz",unfollowSuccess:"Bu kullancy takipten ktnz",followFailed:"Takip durumu gncellenemedi",bioPlaceholder:"Bir biyografi yazn..."},dashboard:{title:"Dashboard",subtitle:"Rya analizi yolculuunuzun genel bak",totalDreams:"Toplam Rya",completedAnalyses:"Tamamlanan Analizler",pendingAnalyses:"Bekleyen Analizler",analyzeNewDream:"Yeni Rya Analiz Et",analyzeNewDreamDesc:"Gizli anlamlarn kefetmek iin yeni bir rya analiz etmeye balayn",viewLibrary:"Ktphaneyi Grntle",viewLibraryDesc:"Analiz edilmi ryalarnzn tam koleksiyonunu gzden geirin",recentDreams:"Son Ryalar",viewAll:"Tmn Gr",noDreams:"Henz rya yok",analyzeFirstDream:"lk Ryanz Analiz Edin"},contact:{title:"letiim",subtitle:"Sorularnz m var? Sizden haber almak isteriz",emailSupport:"E-posta Destei",liveChat:"Canl Sohbet",available:"Yardm iin 7/24 ulalabilir",sendMessage:"Bize Mesaj Gnderin",name:"sim",email:"E-posta",subject:"Konu",message:"Mesaj",send:"Mesaj Gnder",thankYou:"Mesajnz iin teekkr ederiz! En ksa srede size geri dneceiz.",namePlaceholder:"sminiz",emailPlaceholder:"eposta@ornek.com",subjectPlaceholder:"Bu ne hakknda?",messagePlaceholder:"Bize daha fazla bilgi verin..."},auth:{welcomeBack:"Tekrar Ho Geldiniz",createAccount:"Hesap Olutur",continueExploring:"Ryalarnz kefetmeye devam edin",startJourney:"Bilinaltna yolculuunuza balayn",signIn:"Giri Yap",signUp:"Kaydol",fullName:"Ad Soyad",email:"E-posta",password:"ifre",orContinueWith:"Veya ununla devam et",googleSignIn:"Google ile giri yap",enterFullName:"Ad soyadnz girin",enterEmail:"eposta@ornek.com",enterPassword:"ifrenizi girin",creatingAccount:"Hesap oluturuluyor...",signingIn:"Giri yaplyor...",checkEmail:"E-postanz kontrol edin",confirmationSent:"Size bir onay linki gnderdik. Hesabnz dorulamak iin ltfen e-postanz kontrol edin.",validationRequired:"Ltfen bu alan doldurun",validationEmail:"Ltfen geerli bir e-posta adresi girin",emailAlreadyExists:"Bu e-posta adresi zaten kaytl. Ltfen giri yapn veya farkl bir e-posta kullann.",invalidCredentials:"Geersiz e-posta veya ifre. Ltfen tekrar deneyin."},settings:{title:"Ayarlar",blockedUsers:"Engellenen Kullanclar",privacy:"Gizlilik",notifications:"Bildirimler",blockedUsersDesc:"Engellediiniz kullanclar size mesaj gnderemez veya ieriinizle etkileime geemez.",noBlockedUsers:"Engellenen kullanc yok",unblock:"Engeli Kaldr",unblockConfirm:"Engelini kaldrmak istediinizden emin misiniz",unblockSuccess:"engelinden karld",privacyDesc:"eriinizi kimlerin grebileceini ve sizinle etkileime girebileceini kontrol edin.",profileVisibility:"Profil Grnrl",allowMessagesFrom:"Mesaj Gnderebilecekler",public:"Herkese Ak",private:"zel",everyone:"Herkes",followingOnly:"Sadece Takip Ettiklerim",notificationsDesc:"Almak istediiniz bildirimleri sein.",likesOnDreams:"Rya Beenileri",comments:"Yorumlar",newFollowers:"Yeni Takipiler",directMessages:"Dorudan Mesajlar"},pricing:{title:"Basit ve effaf Fiyatlandrma",subtitle:"Rya analizi yolculuunuz iin mkemmel plan sein",freeTrial:{title:"cretsiz Deneme",price:"cretsiz",description:"Submirra'nn neler yapabileceini kefetmek iin mkemmel",feature1:"3 gn eriim",feature2:"Toplam 3 rya analizi",feature3:"",cta:"cretsiz Deneyin",signUp:"cretsiz Kaydol"},standard:{title:"Standart",price:"450",period:"ay",description:"Dzenli rya gnl ve igrler iin harika",feature1:"Gnde 5 rya analizi",feature2:"Analiz bana 1 grselletirme",feature3:"Aylk 10 analiz kaydetme",feature4:"Gelimi analiz",feature5:"Her ay yeni depolama alan",cta:"Standart Al"},premium:{badge:"En Popler",title:"Premium",price:"900",period:"ay",description:"Snrsz ktphane ve oklu grselletirmelerle bilinaltnzn kilidini tamamen an",feature1:"Gnde 10 rya analizi",feature2:"Analiz bana 3 grselletirme",feature3:"Snrsz ktphane depolama",feature4:"ncelikli analiz",feature5:"Rya gemiinizi asla kaybetmeyin",cta:"Premium Ol"},whySubmirra:{title:"Neden Submirra?",description:"Submirra, bilinalt zihniniz, duygusal durumunuz ve i arzularnz hakknda gizli anlamlar ortaya karmak iin son teknoloji analiz teknolojisini kullanr. Her analiz, ryanzn zn yakalayan benzersiz srreal grselletirmeler ile gelir."}},trial:{activateTitle:"3 Gnlk cretsiz Denemenizi Etkinletirin",activateDesc:"Submirra'nn tm gcn 3 gn boyunca snrsz eriimle deneyimleyin",activateNow:"cretsiz Denemeyi Balat",activating:"Etkinletiriliyor...",activated:"Deneme Etkinletirildi!",activatedDesc:"3 gnlk cretsiz denemeniz baaryla etkinletirildi.",enjoy3Days:"3 gn boyunca snrsz rya analizi ve igrlerin tadn karn!",alreadyUsed:"Deneme Zaten Kullanld",alreadyUsedDesc:"cretsiz denemenizi zaten kullandnz. Submirra'nn keyfini karmaya devam etmek iin cretli bir plana ykseltin.",viewPlans:"Planlar Grntle",whatsIncluded:"Neler Dahil:",feature1:"Tm zelliklere 3 gn tam eriim",feature2:"Yapay zeka destekli 3 rya analizi",feature3:"Ryalarnz iin gzel grselletirmeler",duration:"Sre",threeDays:"3 Gn",analyses:"Analizler",threeAnalyses:"3 Rya",features:"zellikler",fullAccess:"Tam Eriim",startAnalyzing:"Rya Analizine Bala",trialExpired:"Deneme Sresi Doldu",trialExpiredDesc:"3 gnlk cretsiz denemeniz sona erdi. Devam etmek iin ykseltin."}}},gf=S.createContext(void 0);function xv({children:e}){const[t,r]=S.useState("en");return a.jsx(gf.Provider,{value:{language:t,setLanguage:r,t:yv[t]},children:e})}function Me(){const e=S.useContext(gf);if(!e)throw new Error("useLanguage must be used within LanguageProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:u,...c},d)=>S.createElement("svg",{ref:d,...wv,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bv(e)}`,o].join(" "),...c},[...t.map(([h,p])=>S.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=F("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=F("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=F("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=F("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=F("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=F("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=F("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=F("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=F("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=F("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=F("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=F("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=F("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=F("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),kf=S.createContext(void 0);function Hv({children:e}){const[t,r]=S.useState([]),n=(o,u="info",c=4e3)=>{const d=Math.random().toString(36).substring(7),h={id:d,message:o,type:u,duration:c};r(p=>[...p,h]),c>0&&setTimeout(()=>{s(d)},c)},s=o=>{r(u=>u.filter(c=>c.id!==o))},i=o=>{switch(o){case"success":return a.jsx(Nv,{className:"text-green-400",size:20});case"error":return a.jsx(kv,{className:"text-red-400",size:20});case"warning":return a.jsx(_v,{className:"text-yellow-400",size:20});default:return a.jsx(Av,{className:"text-blue-400",size:20})}},l=o=>{switch(o){case"success":return"bg-green-500/10 border-green-500/30 text-green-400";case"error":return"bg-red-500/10 border-red-500/30 text-red-400";case"warning":return"bg-yellow-500/10 border-yellow-500/30 text-yellow-400";default:return"bg-blue-500/10 border-blue-500/30 text-blue-400"}};return a.jsxs(kf.Provider,{value:{showToast:n},children:[e,a.jsx("div",{className:"fixed top-20 right-4 z-[100] flex flex-col gap-2 max-w-md w-full",children:t.map(o=>a.jsxs("div",{className:`${l(o.type)} border rounded-lg p-4 backdrop-blur-sm shadow-lg animate-slide-in-right flex items-start gap-3`,children:[i(o.type),a.jsx("p",{className:"flex-1 text-sm font-medium",children:o.message}),a.jsx("button",{onClick:()=>s(o.id),className:"text-slate-400 hover:text-slate-200 transition-colors",children:a.jsx(Pt,{size:16})})]},o.id))})]})}function En(){const e=S.useContext(kf);if(!e)throw new Error("useToast must be used within ToastProvider");return e}const Zo=S.createContext(void 0);function Vv({children:e}){const[t,r]=S.useState("/");S.useEffect(()=>{const i=()=>{const o=window.location.pathname,u=o.split("/")[1];u===""||u===void 0?r("/"):o.startsWith("/profile/")?r("/profile"):r(`/${u}`),window.scrollTo(0,0)};i();const l=()=>{i()};return window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}},[]);const n=i=>{if(i.startsWith("/profile/"))window.history.pushState({},"",i),r("/profile");else if(i.includes("?")){const l=i.split("?")[0];window.history.pushState({},"",i),r(l)}else window.history.pushState({},"",i),r(i);window.scrollTo(0,0)},s=i=>{const l=window.location.pathname;return i==="userId"&&l.startsWith("/profile/")&&l.split("/")[2]||null};return a.jsx(Zo.Provider,{value:{currentPage:t,navigate:n,getUrlParam:s},children:e})}function rt(){const e=S.useContext(Zo);if(!e)throw new Error("useNavigate must be used within RouterProvider");return e.navigate}function eu(){const e=S.useContext(Zo);if(!e)throw new Error("useCurrentPage must be used within RouterProvider");return e.currentPage}function Kv(){const e=rt();return a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-1 hover:opacity-80 transition-opacity cursor-pointer",children:[a.jsx("div",{className:"relative w-10 h-10 overflow-visible flex items-center justify-center",children:a.jsx("img",{src:"/br.png",alt:"Submirra Logo",className:"w-16 h-16 object-contain scale-150"})}),a.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"Submirra"})]})}function Tc(){const{language:e,setLanguage:t}=Me();return a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-900/50 border border-purple-500/20",children:[a.jsx(Tv,{size:16,className:"text-slate-400"}),a.jsx("button",{onClick:()=>t("en"),className:`px-2 py-1 rounded text-xs font-medium transition-all duration-200 ${e==="en"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:"EN"}),a.jsx("button",{onClick:()=>t("tr"),className:`px-2 py-1 rounded text-xs font-medium transition-all duration-200 ${e==="tr"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:"TR"})]})}function Gv(){const{user:e}=tt(),t=rt(),{showToast:r}=En(),[n,s]=S.useState([]),[i,l]=S.useState(0),[o,u]=S.useState(!1),[c,d]=S.useState(!1);S.useEffect(()=>{if(!e)return;h();const f=A.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{h()}).subscribe();return()=>{A.removeChannel(f)}},[e]);const h=async()=>{if(e)try{d(!0);const{data:f,error:b}=await A.from("notifications").select(`
          *,
          actor_profile:actor_id (
            full_name,
            avatar_url,
            username
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(b)throw b;const E=(f||[]).map(y=>({...y,actor_profile:y.actor_profile||{full_name:"Anonymous",avatar_url:null,username:null}}));s(E),l(E.filter(y=>!y.read_at).length)}catch(f){console.error("Error loading notifications:",f)}finally{d(!1)}},p=async f=>{if(e)try{const{error:b}=await A.from("notifications").update({read_at:new Date().toISOString()}).eq("id",f);if(b)throw b;s(E=>E.map(y=>y.id===f?{...y,read_at:new Date().toISOString()}:y)),l(E=>Math.max(0,E-1))}catch(b){console.error("Error marking notification as read:",b)}},v=async(f,b)=>{if(b.stopPropagation(),!!e)try{const{error:E}=await A.from("notifications").delete().eq("id",f);if(E)throw E;const y=n.find(N=>N.id===f);s(N=>N.filter(_=>_.id!==f)),y&&!y.read_at&&l(N=>Math.max(0,N-1))}catch(E){console.error("Error deleting notification:",E),r("Failed to delete notification","error")}},x=async()=>{if(e)try{const{error:f}=await A.from("notifications").update({read_at:new Date().toISOString()}).eq("user_id",e.id).is("read_at",null);if(f)throw f;s(b=>b.map(E=>({...E,read_at:E.read_at||new Date().toISOString()}))),l(0),r("All notifications marked as read","success")}catch(f){console.error("Error marking all as read:",f),r("Failed to mark all as read","error")}},k=f=>{p(f.id),u(!1),f.dream_id?t("/social"):f.type==="follow"&&t(`/profile/${f.actor_id}`)},C=f=>{switch(f){case"like":return a.jsx(hr,{className:"text-pink-400",size:18});case"comment":return a.jsx(fr,{className:"text-purple-400",size:18});case"follow":return a.jsx(Xo,{className:"text-cyan-400",size:18});default:return a.jsx(di,{className:"text-slate-400",size:18})}},g=f=>{const b=f.actor_profile.full_name||f.actor_profile.username||"Someone";switch(f.type){case"like":return`${b} liked your dream`;case"comment":return`${b} commented on your dream`;case"follow":return`${b} started following you`;default:return"New notification"}},m=f=>{const b=new Date(f),E=new Date,y=E.getTime()-b.getTime(),N=Math.floor(y/6e4),_=Math.floor(N/60),R=Math.floor(_/24);return N<1?"Just now":N<60?`${N}m ago`:_<24?`${_}h ago`:R<7?`${R}d ago`:b.toLocaleDateString("en-US",{month:"short",day:"numeric",year:b.getFullYear()!==E.getFullYear()?"numeric":void 0})};return e?a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>u(!o),className:"relative p-2 text-slate-400 hover:text-purple-400 transition-colors",children:[a.jsx(di,{size:20}),i>0&&a.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-pink-500 rounded-full text-white text-xs flex items-center justify-center font-bold",children:i>9?"9+":i})]}),o&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),a.jsxs("div",{className:"absolute right-0 top-12 w-96 max-h-[600px] bg-slate-900 border border-purple-500/30 rounded-2xl shadow-2xl z-50 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-purple-500/20 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"}),a.jsxs("div",{className:"flex gap-2",children:[i>0&&a.jsx("button",{onClick:x,className:"text-xs text-purple-400 hover:text-purple-300 transition-colors",children:"Mark all read"}),a.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Pt,{size:18})})]})]}),a.jsx("div",{className:"overflow-y-auto flex-1",children:c?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:24})}):n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(di,{className:"mx-auto mb-4 text-slate-600",size:48}),a.jsx("p",{className:"text-slate-400",children:"No notifications yet"})]}):a.jsx("div",{className:"divide-y divide-purple-500/10",children:n.map(f=>a.jsxs("div",{className:`relative group ${f.read_at?"":"bg-purple-500/5"}`,children:[a.jsx("button",{onClick:()=>k(f),className:"w-full p-4 text-left hover:bg-slate-950/50 transition-colors",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:C(f.type)}),a.jsxs("div",{className:"flex-1 min-w-0 pr-6",children:[a.jsx("p",{className:"text-white text-sm mb-1",children:g(f)}),a.jsx("p",{className:"text-slate-400 text-xs",children:m(f.created_at)})]}),!f.read_at&&a.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full flex-shrink-0 mt-2"})]})}),a.jsx("button",{onClick:b=>v(f.id,b),className:"absolute top-2 right-2 p-1.5 text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",title:"Delete notification",children:a.jsx(Pt,{size:14})})]},f.id))})})]})]})]}):null}function Qv(){const{user:e}=tt(),{showToast:t}=En(),{t:r}=Me(),[n,s]=S.useState(!1),[i,l]=S.useState("blocked"),[o,u]=S.useState([]),[c,d]=S.useState(!1);S.useEffect(()=>{n&&e&&h()},[n,e]);const h=async()=>{if(e){d(!0);try{const{data:v,error:x}=await A.from("user_blocks").select(`
          id,
          blocked_id,
          blocked_user:blocked_id (
            id,
            full_name,
            username,
            avatar_url
          )
        `).eq("blocker_id",e.id);if(x)throw x;const k=(v||[]).map(C=>({id:C.id,blocked_id:C.blocked_id,blocked_user:Array.isArray(C.blocked_user)?C.blocked_user[0]:C.blocked_user})).filter(C=>C.blocked_user);u(k)}catch(v){console.error("Error loading blocked users:",v)}finally{d(!1)}}},p=async(v,x)=>{if(e&&confirm(`${r.settings.unblockConfirm} ${x}?`))try{const{error:k}=await A.from("user_blocks").delete().eq("id",v);if(k)throw k;u(C=>C.filter(g=>g.id!==v)),t(`${x} ${r.settings.unblockSuccess}`,"success")}catch(k){console.error("Error unblocking user:",k),t("Failed to unblock user","error")}};return e?a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>s(!n),className:"relative p-2 text-slate-400 hover:text-purple-400 transition-colors",title:r.settings.title,children:a.jsx(Mv,{size:20})}),n&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)}),a.jsxs("div",{className:"absolute right-0 top-12 w-[600px] h-[calc(90vh-3rem)] bg-slate-900 border border-purple-500/30 rounded-2xl shadow-2xl z-50 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-6 py-3 border-b border-purple-500/20 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:r.settings.title}),a.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Pt,{size:18})})]}),a.jsxs("div",{className:"flex border-b border-purple-500/20",children:[a.jsxs("button",{onClick:()=>l("blocked"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${i==="blocked"?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-white"}`,children:[a.jsx(Ql,{size:14,className:"inline mr-1.5"}),r.settings.blockedUsers]}),a.jsxs("button",{onClick:()=>l("privacy"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${i==="privacy"?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-white"}`,children:[a.jsx(Ov,{size:14,className:"inline mr-1.5"}),r.settings.privacy]}),a.jsxs("button",{onClick:()=>l("notifications"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${i==="notifications"?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-white"}`,children:[a.jsx(di,{size:14,className:"inline mr-1.5"}),r.settings.notifications]})]}),a.jsxs("div",{className:"flex-1 px-6 py-3 overflow-hidden",children:[i==="blocked"&&a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-xs mb-3",children:r.settings.blockedUsersDesc}),c?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:24})}):o.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ql,{className:"mx-auto mb-3 text-slate-600",size:40}),a.jsx("p",{className:"text-slate-400",children:r.settings.noBlockedUsers})]}):a.jsx("div",{className:"space-y-2 max-h-[calc(90vh-20rem)] overflow-y-auto",children:o.map(v=>a.jsxs("div",{className:"flex items-center gap-3 p-2.5 bg-slate-950/30 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center overflow-hidden",children:v.blocked_user.avatar_url?a.jsx("img",{src:v.blocked_user.avatar_url,alt:"",className:"w-full h-full object-cover"}):a.jsx($e,{size:20,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium text-sm",children:v.blocked_user.full_name}),v.blocked_user.username&&a.jsxs("p",{className:"text-slate-400 text-xs",children:["@",v.blocked_user.username]})]}),a.jsx("button",{onClick:()=>p(v.id,v.blocked_user.full_name),className:"px-3 py-1.5 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm transition-colors",children:r.settings.unblock})]},v.id))})]}),i==="privacy"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-slate-400 text-xs mb-3",children:r.settings.privacyDesc}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-2.5 bg-slate-950/30 rounded-lg",children:a.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[a.jsx("span",{className:"text-white text-sm",children:r.settings.profileVisibility}),a.jsxs("select",{className:"bg-slate-800 border border-purple-500/30 rounded px-3 py-1.5 text-white text-sm",children:[a.jsx("option",{children:r.settings.public}),a.jsx("option",{children:r.settings.private})]})]})}),a.jsx("div",{className:"p-2.5 bg-slate-950/30 rounded-lg",children:a.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[a.jsx("span",{className:"text-white text-sm",children:r.settings.allowMessagesFrom}),a.jsxs("select",{className:"bg-slate-800 border border-purple-500/30 rounded px-3 py-1.5 text-white text-sm",children:[a.jsx("option",{children:r.settings.everyone}),a.jsx("option",{children:r.settings.followingOnly})]})]})})]})]}),i==="notifications"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-slate-400 text-xs mb-3",children:r.settings.notificationsDesc}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-2.5 bg-slate-950/30 rounded-lg cursor-pointer",children:[a.jsx("span",{className:"text-white text-sm",children:r.settings.likesOnDreams}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]}),a.jsxs("label",{className:"flex items-center justify-between p-2.5 bg-slate-950/30 rounded-lg cursor-pointer",children:[a.jsx("span",{className:"text-white text-sm",children:r.settings.comments}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]}),a.jsxs("label",{className:"flex items-center justify-between p-2.5 bg-slate-950/30 rounded-lg cursor-pointer",children:[a.jsx("span",{className:"text-white text-sm",children:r.settings.newFollowers}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]}),a.jsxs("label",{className:"flex items-center justify-between p-2.5 bg-slate-950/30 rounded-lg cursor-pointer",children:[a.jsx("span",{className:"text-white text-sm",children:r.settings.directMessages}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]})]})]})]})]})]})]}):null}function Yv(){const e=rt(),t=eu(),{user:r,signOut:n}=tt(),{t:s}=Me(),[i,l]=S.useState(!1),o=[{label:s.nav.home,path:"/"},{label:s.nav.about,path:"/about"},{label:s.nav.social,path:"/social"},{label:s.nav.analyze,path:"/analyze"},{label:s.nav.library,path:"/library"}],u=r?[{label:s.nav.dashboard,path:"/dashboard"},{label:s.nav.contact,path:"/contact"}]:[{label:s.nav.contact,path:"/contact"}],c=d=>{e(d),l(!1)};return a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-950/90 backdrop-blur-xl border-b border-pink-500/20 shadow-lg shadow-pink-500/5",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-1 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("div",{className:"flex items-center flex-shrink-0",children:a.jsx(Kv,{})}),a.jsxs("div",{className:"hidden lg:flex items-center gap-4 flex-shrink-0 whitespace-nowrap ml-12",children:[o.map(d=>a.jsxs("button",{onClick:()=>e(d.path),className:`text-sm font-medium transition-all duration-300 hover:text-pink-400 relative group ${t===d.path?"text-pink-400 drop-shadow-[0_0_8px_rgba(236,72,153,0.6)]":"text-slate-300"}`,children:[d.label,a.jsx("span",{className:`absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full ${t===d.path?"w-full":""}`})]},d.path)),u.map(d=>a.jsxs("button",{onClick:()=>e(d.path),className:`text-sm font-medium transition-all duration-300 hover:text-pink-400 relative group ${t===d.path?"text-pink-400 drop-shadow-[0_0_8px_rgba(236,72,153,0.6)]":"text-slate-300"}`,children:[d.label,a.jsx("span",{className:`absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full ${t===d.path?"w-full":""}`})]},d.path)),a.jsx("button",{onClick:()=>e("/pricing"),className:`px-4 py-2 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-medium hover:from-pink-500 hover:to-purple-500 transition-all duration-300 hover:shadow-lg hover:shadow-pink-500/30 hover:scale-105 ${t==="/pricing"?"ring-2 ring-pink-400":""}`,children:s.nav.buy}),a.jsx(Tc,{}),r?a.jsxs(a.Fragment,{children:[a.jsx(Qv,{}),a.jsx(Gv,{}),a.jsx("button",{onClick:()=>e("/messages"),className:"relative p-2 text-slate-400 hover:text-purple-400 transition-colors",title:"Messages",children:a.jsx($v,{size:20})}),a.jsx("button",{onClick:()=>e("/profile"),className:"px-4 py-2 rounded-lg bg-slate-800/50 text-slate-300 hover:text-pink-400 transition-all duration-200",children:"Profile"}),a.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-pink-600/20 to-purple-600/20 border border-pink-500/30 text-pink-300 hover:border-pink-400/50 hover:text-pink-200 transition-all duration-200",children:[a.jsx(Cc,{size:16}),s.nav.signOut]})]}):a.jsx("button",{onClick:()=>e("/signin"),className:`px-6 py-2 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-medium hover:from-pink-500 hover:to-purple-500 transition-all duration-200 hover:shadow-lg hover:shadow-pink-500/30 ${t==="/signin"?"ring-2 ring-pink-400":""}`,children:s.nav.signIn})]}),a.jsxs("div",{className:"flex lg:hidden items-center gap-3",children:[a.jsx(Tc,{}),a.jsx("button",{onClick:()=>l(!i),className:"text-slate-300 hover:text-pink-400 transition-colors p-2","aria-label":"Toggle menu",children:i?a.jsx(Pt,{size:24}):a.jsx(Rv,{size:24})})]})]}),i&&a.jsx("div",{className:"lg:hidden mt-4 pb-4 border-t border-pink-500/20 pt-4",children:a.jsxs("div",{className:"flex flex-col gap-3",children:[o.map(d=>a.jsx("button",{onClick:()=>c(d.path),className:`text-left px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===d.path?"bg-pink-500/10 text-pink-400":"text-slate-300 hover:bg-slate-800/50 hover:text-pink-400"}`,children:d.label},d.path)),u.map(d=>a.jsx("button",{onClick:()=>c(d.path),className:`text-left px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t===d.path?"bg-pink-500/10 text-pink-400":"text-slate-300 hover:bg-slate-800/50 hover:text-pink-400"}`,children:d.label},d.path)),a.jsx("button",{onClick:()=>{e("/pricing"),l(!1)},className:`text-left px-4 py-2 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-medium hover:from-pink-500 hover:to-purple-500 transition-all duration-200 ${t==="/pricing"?"ring-2 ring-pink-400":""}`,children:s.nav.buy}),r?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{e("/profile"),l(!1)},className:"text-left px-4 py-2 rounded-lg bg-slate-800/50 text-slate-300 hover:bg-slate-800/70 hover:text-pink-400 transition-all duration-200",children:"Profile"}),a.jsxs("button",{onClick:()=>{n(),l(!1)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-pink-600/20 to-purple-600/20 border border-pink-500/30 text-pink-300 hover:border-pink-400/50 hover:text-pink-200 transition-all duration-200",children:[a.jsx(Cc,{size:16}),s.nav.signOut]})]}):a.jsx("button",{onClick:()=>{e("/signin"),l(!1)},className:`text-left px-4 py-2 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-medium hover:from-pink-500 hover:to-purple-500 transition-all duration-200 ${t==="/signin"?"ring-2 ring-pink-400":""}`,children:s.nav.signIn})]})})]})})}function Jv(){const e=S.useRef(null);return S.useEffect(()=>{const t=e.current;if(!t)return;const r=t.getContext("2d");if(!r)return;let n,s=[];const i=()=>{t.width=window.innerWidth,t.height=window.innerHeight,l()},l=()=>{s=[];const d=Math.floor(t.width*t.height/3e3);for(let h=0;h<d;h++)s.push({x:Math.random()*t.width,y:Math.random()*t.height,z:Math.random()*3,size:Math.random()*1.5+.5,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3})},o=()=>{s.forEach(d=>{d.x+=d.vx,d.y+=d.vy,d.x<0&&(d.x=t.width),d.x>t.width&&(d.x=0),d.y<0&&(d.y=t.height),d.y>t.height&&(d.y=0)})},u=()=>{r.clearRect(0,0,t.width,t.height),s.forEach(d=>{const h=.3+d.z/3*.7;r.fillStyle=`rgba(255, 255, 255, ${h})`,r.beginPath(),r.arc(d.x,d.y,d.size,0,Math.PI*2),r.fill(),Math.random()>.998&&(r.shadowBlur=10,r.shadowColor=d.z>2?"#ec4899":d.z>1?"#a855f7":"#06b6d4",r.fill(),r.shadowBlur=0)})},c=()=>{o(),u(),n=requestAnimationFrame(c)};return i(),c(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(n)}},[]),a.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:.4}})}function zc(){const e=rt(),{user:t}=tt(),{t:r}=Me();return a.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-pink-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-20 left-1/3 w-80 h-80 bg-cyan-500/5 rounded-full blur-3xl"})]}),a.jsx("div",{className:"relative pt-24 md:pt-32 pb-16 md:pb-20 px-4 md:px-6 z-10",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsxs("div",{className:"mb-6 md:mb-8 inline-block animate-fade-in",children:[a.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight px-2",children:r.home.title}),a.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-slate-300 font-light tracking-wide px-2",children:r.home.subtitle})]}),a.jsx("p",{className:"text-base md:text-lg text-slate-400 max-w-3xl mx-auto mb-8 md:mb-12 leading-relaxed px-4",children:r.home.description}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[a.jsxs("button",{onClick:()=>e(t?"/analyze":"/signin"),className:"group px-8 md:px-10 py-4 md:py-5 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold text-base md:text-lg hover:from-pink-500 hover:to-purple-500 transition-all duration-300 flex items-center gap-2",children:[t?r.home.cta:r.home.getStarted,a.jsx(vf,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),a.jsx("button",{onClick:()=>e("/about"),className:"px-8 md:px-10 py-4 md:py-5 rounded-lg bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 text-slate-300 font-semibold text-base md:text-lg hover:border-purple-500/50 hover:text-white transition-all duration-300",children:r.home.learnMore})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 mt-12 md:mt-24 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"group bg-slate-900/70 backdrop-blur-sm border-2 border-pink-500/30 rounded-2xl p-6 md:p-8 hover:border-pink-500/60 hover:shadow-lg hover:shadow-pink-500/20 transition-all duration-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 md:mb-6 rounded-full bg-gradient-to-br from-pink-500/30 to-pink-600/20 flex items-center justify-center border-2 border-pink-500/40 transition-transform duration-300 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-pink-500/30",children:a.jsx(yf,{className:"w-8 h-8 md:w-10 md:h-10 text-pink-400"})}),a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:r.home.feature1Title}),a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed",children:r.home.feature1Desc})]})]}),a.jsxs("div",{className:"group bg-slate-900/70 backdrop-blur-sm border-2 border-purple-500/30 rounded-2xl p-6 md:p-8 hover:border-purple-500/60 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 md:mb-6 rounded-full bg-gradient-to-br from-purple-500/30 to-purple-600/20 flex items-center justify-center border-2 border-purple-500/40 transition-transform duration-300 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-purple-500/30",children:a.jsx(Pv,{className:"w-8 h-8 md:w-10 md:h-10 text-purple-400"})}),a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:r.home.feature2Title}),a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed",children:r.home.feature2Desc})]})]}),a.jsxs("div",{className:"group bg-slate-900/70 backdrop-blur-sm border-2 border-cyan-500/30 rounded-2xl p-6 md:p-8 hover:border-cyan-500/60 hover:shadow-lg hover:shadow-cyan-500/20 transition-all duration-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 md:mb-6 rounded-full bg-gradient-to-br from-cyan-500/30 to-cyan-600/20 flex items-center justify-center border-2 border-cyan-500/40 transition-transform duration-300 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-cyan-500/30",children:a.jsx(Ht,{className:"w-8 h-8 md:w-10 md:h-10 text-cyan-400"})}),a.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 md:mb-4",children:r.home.feature3Title}),a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed",children:r.home.feature3Desc})]})]})]})]})})]})}function Xv(){const{t:e}=Me();return a.jsxs("div",{className:"min-h-screen relative pt-20 md:pt-24 pb-12 md:pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-40 left-20 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-[400px] h-[400px] bg-pink-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-4xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight px-2",children:e.about.title}),a.jsx("p",{className:"text-slate-400 text-base md:text-lg px-2",children:e.about.subtitle})]}),a.jsxs("div",{className:"space-y-6 md:space-y-12",children:[a.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-pink-500/20 rounded-2xl p-5 md:p-8 hover:border-pink-500/30 transition-all duration-500 hover:shadow-xl hover:shadow-pink-500/10 hover:-translate-y-1 animate-fade-in-delay",children:a.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-pink-500/20 to-pink-600/20 flex items-center justify-center border border-pink-500/30 flex-shrink-0",children:a.jsx(yf,{className:"text-pink-400",size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-2 md:mb-3",children:e.about.missionTitle}),a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed",children:e.about.missionDesc})]})]})}),a.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-5 md:p-8 hover:border-purple-500/30 transition-all duration-500 hover:shadow-xl hover:shadow-purple-500/10 hover:-translate-y-1 animate-fade-in-delay-2",children:a.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-purple-500/20 to-purple-600/20 flex items-center justify-center border border-purple-500/30 flex-shrink-0",children:a.jsx(Ht,{className:"text-purple-400",size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-2 md:mb-3",children:e.about.howItWorksTitle}),a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed mb-3 md:mb-4",children:e.about.howItWorksDesc}),a.jsxs("ul",{className:"space-y-2 text-sm md:text-base text-slate-300",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-purple-400 flex-shrink-0",children:""}),a.jsx("span",{children:e.about.step1})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-purple-400 flex-shrink-0",children:""}),a.jsx("span",{children:e.about.step2})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-purple-400 flex-shrink-0",children:""}),a.jsx("span",{children:e.about.step3})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-purple-400 flex-shrink-0",children:""}),a.jsx("span",{children:e.about.step4})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx("span",{className:"text-purple-400 flex-shrink-0",children:""}),a.jsx("span",{children:e.about.step5})]})]})]})]})}),a.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/20 rounded-2xl p-5 md:p-8 hover:border-cyan-500/30 transition-all duration-500 hover:shadow-xl hover:shadow-cyan-500/10 hover:-translate-y-1 animate-fade-in-delay-3",children:a.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 flex items-center justify-center border border-cyan-500/30 flex-shrink-0",children:a.jsx(Ql,{className:"text-cyan-400",size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-2 md:mb-3",children:e.about.privacyTitle}),a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed",children:e.about.privacyDesc})]})]})}),a.jsx("div",{className:"text-center pt-6 md:pt-8",children:a.jsx("p",{className:"text-sm md:text-base text-slate-400 italic px-4",children:e.about.quote})})]})]})]})}function Zv(){const{t:e}=Me(),[t,r]=S.useState({name:"",email:"",subject:"",message:""}),[n,s]=S.useState(!1),i=l=>{l.preventDefault(),s(!0),r({name:"",email:"",subject:"",message:""}),setTimeout(()=>s(!1),5e3)};return a.jsxs("div",{className:"min-h-screen relative pt-20 md:pt-24 pb-12 md:pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 left-20 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-[400px] h-[400px] bg-cyan-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-4xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-8 md:mb-12 animate-fade-in",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight px-2",children:e.contact.title}),a.jsx("p",{className:"text-slate-400 text-base md:text-lg px-2",children:e.contact.subtitle})]}),a.jsx("div",{className:"flex justify-center mb-8 md:mb-12 animate-fade-in-delay",children:a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-pink-500/20 rounded-2xl p-6 md:p-8 hover:border-pink-500/40 transition-all duration-500 md:hover:-translate-y-2 hover:shadow-xl hover:shadow-pink-500/10 max-w-md w-full",children:[a.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-pink-500/20 to-pink-600/20 flex items-center justify-center border border-pink-500/30 mb-3 md:mb-4 mx-auto",children:a.jsx(xf,{className:"text-pink-400",size:24})}),a.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-2 md:mb-3 text-center",children:e.contact.emailSupport}),a.jsx("p",{className:"text-slate-300 text-center text-base md:text-lg break-all",children:"submirra.ai@gmail.com"})]})}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/20 rounded-2xl p-5 md:p-8 hover:border-cyan-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-cyan-500/10 animate-fade-in-delay-2",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-5 md:mb-6",children:e.contact.sendMessage}),n&&a.jsx("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/30 rounded-lg text-green-400",children:e.contact.thankYou}),a.jsxs("form",{onSubmit:i,className:"space-y-5 md:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 md:gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:e.contact.name}),a.jsx("input",{type:"text",value:t.name,onChange:l=>r({...t,name:l.target.value}),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:e.contact.namePlaceholder,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:e.contact.email}),a.jsx("input",{type:"email",value:t.email,onChange:l=>r({...t,email:l.target.value}),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:e.contact.emailPlaceholder,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:e.contact.subject}),a.jsx("input",{type:"text",value:t.subject,onChange:l=>r({...t,subject:l.target.value}),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:e.contact.subjectPlaceholder,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:e.contact.message}),a.jsx("textarea",{value:t.message,onChange:l=>r({...t,message:l.target.value}),className:"w-full h-32 px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all resize-none text-sm md:text-base",placeholder:e.contact.messagePlaceholder,required:!0})]}),a.jsxs("button",{type:"submit",className:"w-full px-5 md:px-6 py-3 md:py-4 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/30 flex items-center justify-center gap-2 text-sm md:text-base",children:[a.jsx(Jo,{size:18}),e.contact.send]})]})]})]})]})}function ey(){const{user:e}=tt(),t=rt(),{t:r}=Me(),{showToast:n}=En(),[s,i]=S.useState(""),[l,o]=S.useState(!1),[u,c]=S.useState(null),[d,h]=S.useState(null),[p,v]=S.useState(null),[x,k]=S.useState(!1);S.useEffect(()=>{e||t("/signin")},[e,t]);async function C(b,E){try{const N=await(await fetch("https://borablt.app.n8n.cloud/webhook/dream-webhook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:E,dream_text:b})})).json();return console.log("N8N response:",N),N}catch(y){throw console.error("N8N webhook error:",y),y}}const g=async b=>{var E;if(b.preventDefault(),!(!s.trim()||!e)){o(!0),v(null);try{const y={user_id:e.id,dream_text:s,status:"pending",is_public:x},{data:N,error:_}=await A.from("dreams").insert(y).select().single();if(_)if((E=_.message)!=null&&E.includes("is_public")||_.code==="42703"||_.code==="PGRST116"){console.warn("is_public column not found, saving without it. Please run migration.");const{data:R,error:D}=await A.from("dreams").insert({user_id:e.id,dream_text:s,status:"pending"}).select().single();if(D)throw D}else throw _;try{await C(s,e.id)}catch(R){console.error("Failed to send to N8N:",R)}c(r.analyze.savedMessage),h("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiMwMDAwMDAiLz48L3N2Zz4="),i(""),n("Dream saved successfully! Analysis will be ready soon.","success")}catch(y){const N=y instanceof Error?y.message:"Failed to save dream";v(N),n(N,"error")}finally{o(!1)}}},m=s.length,f=5e3;return e?a.jsxs("div",{className:"min-h-screen relative pt-20 md:pt-24 pb-12 md:pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-40 left-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-[400px] h-[400px] bg-cyan-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-6xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-8 md:mb-12 animate-fade-in",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight px-2",children:r.analyze.title}),a.jsx("p",{className:"text-slate-400 text-base md:text-lg px-2",children:r.analyze.subtitle})]}),u?a.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[a.jsx("div",{className:"mb-6 flex justify-end",children:a.jsx("button",{onClick:()=>{c(null),h(null)},className:"px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600/20 to-purple-600/20 border border-pink-500/30 text-pink-300 hover:border-pink-400/50 hover:text-pink-200 hover:bg-gradient-to-r hover:from-pink-600/30 hover:to-purple-600/30 transition-all duration-200 text-sm md:text-base",children:r.analyze.analyzeAnother})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-5 md:p-8 hover:border-purple-500/30 transition-all duration-300 shadow-xl shadow-purple-500/5",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-3 md:mb-4",children:r.analyze.analysisTitle}),a.jsx("div",{className:"bg-slate-950/30 rounded-lg p-4",children:a.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed whitespace-pre-wrap",children:u})})]}),d&&a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/20 rounded-2xl p-5 md:p-8 hover:border-cyan-500/30 transition-all duration-300 shadow-xl shadow-cyan-500/5",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-3 md:mb-4",children:r.analyze.visualizationTitle}),a.jsx("div",{className:"w-full aspect-video bg-black rounded-xl shadow-2xl shadow-cyan-500/20 flex items-center justify-center overflow-hidden group",children:a.jsx("img",{src:d,alt:"Dream visualization",className:"w-full h-full object-cover rounded-xl group-hover:scale-105 transition-transform duration-500"})})]})]})]}):a.jsx("form",{onSubmit:g,className:"max-w-4xl mx-auto animate-fade-in-delay",children:a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-pink-500/20 rounded-2xl p-5 md:p-8 relative hover:border-pink-500/30 transition-all duration-300 shadow-xl shadow-pink-500/5",children:[a.jsx("div",{className:"absolute -top-3 right-4 md:right-6",children:a.jsx("span",{className:"px-2 md:px-3 py-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs font-semibold rounded-full shadow-lg animate-pulse",children:r.analyze.trialBadge})}),a.jsxs("div",{className:"mb-5 md:mb-6",children:[a.jsx("label",{className:"block text-white font-semibold mb-2 md:mb-3 text-sm md:text-base",children:r.analyze.privacyLabel}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-5 md:mb-6",children:[a.jsxs("button",{type:"button",onClick:()=>k(!0),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left ${x?"border-pink-500 bg-pink-500/10":"border-purple-500/30 bg-slate-950/30 hover:border-purple-500/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${x?"border-pink-400 bg-pink-400":"border-slate-400"}`,children:x&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),a.jsx("span",{className:`font-semibold ${x?"text-pink-400":"text-slate-300"}`,children:r.analyze.privacyPublic})]}),a.jsx("p",{className:"text-xs text-slate-400",children:r.analyze.privacyPublicDesc})]}),a.jsxs("button",{type:"button",onClick:()=>k(!1),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left ${x?"border-purple-500/30 bg-slate-950/30 hover:border-purple-500/50":"border-pink-500 bg-pink-500/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${x?"border-slate-400":"border-pink-400 bg-pink-400"}`,children:!x&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),a.jsx("span",{className:`font-semibold ${x?"text-slate-300":"text-pink-400"}`,children:r.analyze.privacyPrivate})]}),a.jsx("p",{className:"text-xs text-slate-400",children:r.analyze.privacyPrivateDesc})]})]})]}),a.jsxs("div",{className:"mb-5 md:mb-6",children:[a.jsx("label",{className:"block text-white font-semibold mb-2 md:mb-3 text-sm md:text-base",children:r.analyze.label}),a.jsx("textarea",{value:s,onChange:b=>i(b.target.value.slice(0,f)),placeholder:r.analyze.placeholder,className:"w-full h-48 md:h-64 px-3 md:px-4 py-2 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all resize-none text-sm md:text-base",maxLength:f,required:!0}),a.jsx("div",{className:"flex justify-between items-center mt-2",children:a.jsxs("span",{className:`text-xs md:text-sm ${m>f*.9?"text-pink-400":"text-slate-500"}`,children:[m," / ",f," ",r.analyze.characters]})})]}),p&&a.jsx("div",{className:"mb-5 md:mb-6 p-3 md:p-4 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm md:text-base",children:p}),a.jsx("button",{type:"submit",disabled:l||!s.trim(),className:"w-full px-5 md:px-6 py-3 md:py-4 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm md:text-base",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Se,{className:"animate-spin",size:18}),r.analyze.saving]}):a.jsxs(a.Fragment,{children:[a.jsx(Ht,{size:18}),r.analyze.submit]})})]})})]})]}):null}function ty(){const{user:e}=tt(),t=rt(),{t:r,language:n}=Me(),{showToast:s}=En(),[i,l]=S.useState([]),[o,u]=S.useState(!0),[c,d]=S.useState(null),[h,p]=S.useState(""),[v,x]=S.useState("all"),[k,C]=S.useState(new Set);S.useEffect(()=>{if(!e){t("/signin");return}const y=localStorage.getItem(`favorites_${e.id}`);y&&C(new Set(JSON.parse(y))),g();const N=A.channel("dreams-changes").on("postgres_changes",{event:"*",schema:"public",table:"dreams",filter:`user_id=eq.${e.id}`},_=>{console.log("Dream change received:",_),g()}).subscribe();return()=>{A.removeChannel(N)}},[e,t]);const g=async()=>{if(e)try{const{data:y,error:N}=await A.from("dreams").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(N)throw N;const _=localStorage.getItem(`favorites_${e.id}`),R=_?new Set(JSON.parse(_)):k,D=(y||[]).map(re=>({...re,is_favorite:R.has(re.id)}));l(D),C(R)}catch(y){console.error("Error loading dreams:",y)}finally{u(!1)}},m=y=>{const N=new Date(y),_=n==="tr"?"tr-TR":"en-US";return N.toLocaleDateString(_,{year:"numeric",month:"long",day:"numeric"})},f=async(y,N)=>{if(N.stopPropagation(),!e){s("You must be logged in to delete dreams","error");return}if(confirm("Are you sure you want to delete this dream? This will also delete all likes and comments."))try{try{await A.from("dream_likes").delete().eq("dream_id",y)}catch(D){console.log("Error deleting likes:",D)}try{await A.from("dream_comments").delete().eq("dream_id",y)}catch(D){console.log("Error deleting comments:",D)}const{error:_}=await A.from("dreams").delete().eq("id",y).eq("user_id",e.id);if(_)throw console.error("Delete error:",_),_;l(D=>D.filter(re=>re.id!==y)),(c==null?void 0:c.id)===y&&d(null);const R=new Set(k);R.delete(y),C(R),localStorage.setItem(`favorites_${e.id}`,JSON.stringify(Array.from(R))),s("Dream deleted successfully","success"),setTimeout(async()=>{await g()},100)}catch(_){console.error("Error deleting dream:",_);const R=(_==null?void 0:_.message)||"Failed to delete dream. You can only delete your own dreams.";s(R,"error")}},b=(y,N)=>{N.stopPropagation();const _=new Set(k);_.has(y)?(_.delete(y),s("Removed from favorites","info")):(_.add(y),s("Added to favorites","success")),C(_),e&&localStorage.setItem(`favorites_${e.id}`,JSON.stringify(Array.from(_))),l(R=>R.map(D=>D.id===y?{...D,is_favorite:_.has(y)}:D))},E=i.filter(y=>{const N=h===""||y.dream_text.toLowerCase().includes(h.toLowerCase())||y.analysis_text&&y.analysis_text.toLowerCase().includes(h.toLowerCase()),_=v==="all"||v==="completed"&&y.status==="completed"||v==="pending"&&y.status==="pending"||v==="favorites"&&y.is_favorite;return N&&_});return e?o?a.jsx("div",{className:"min-h-screen relative pt-24 flex items-center justify-center",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:48})}):a.jsxs("div",{className:"min-h-screen relative pt-24 pb-16 px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 left-10 w-96 h-96 bg-cyan-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 right-10 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight",children:r.library.title}),a.jsx("p",{className:"text-slate-400 text-lg mb-6",children:r.library.subtitle}),a.jsxs("div",{className:"max-w-2xl mx-auto mb-8 space-y-4 animate-fade-in-delay",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),a.jsx("input",{type:"text",value:h,onChange:y=>p(y.target.value),placeholder:"Search your dreams...",className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all shadow-lg"})]}),a.jsxs("div",{className:"flex gap-2 justify-center flex-wrap",children:[a.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${v==="all"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-800/50 text-slate-400 hover:text-slate-300"}`,children:"All"}),a.jsxs("button",{onClick:()=>x("favorites"),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-1 ${v==="favorites"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-800/50 text-slate-400 hover:text-slate-300"}`,children:[a.jsx(hr,{size:14,className:v==="favorites"?"fill-current":""}),"Favorites"]}),a.jsx("button",{onClick:()=>x("completed"),className:`px-4 py-2 rounded-lg font-medium transition-all ${v==="completed"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-800/50 text-slate-400 hover:text-slate-300"}`,children:"Completed"}),a.jsx("button",{onClick:()=>x("pending"),className:`px-4 py-2 rounded-lg font-medium transition-all ${v==="pending"?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-800/50 text-slate-400 hover:text-slate-300"}`,children:"Pending"})]})]})]}),i.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx(bs,{className:"mx-auto mb-4 text-slate-600",size:64}),a.jsx("p",{className:"text-slate-400 text-lg mb-6",children:r.library.empty}),a.jsx("button",{onClick:()=>t("/analyze"),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300",children:r.library.analyzeFirst})]}):E.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx(Ui,{className:"mx-auto mb-4 text-slate-600",size:64}),a.jsx("p",{className:"text-slate-400 text-lg mb-6",children:"No dreams found matching your search"})]}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(y=>a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-xl p-6 hover:border-purple-500/40 transition-all duration-300 relative group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/0 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[a.jsx("button",{onClick:N=>b(y.id,N),className:`p-2 rounded-lg border transition-all duration-300 hover:scale-110 ${y.is_favorite?"bg-pink-500/20 border-pink-500/50 text-pink-400":"bg-slate-800/80 border-slate-700/50 text-slate-400 hover:border-pink-500/50 hover:text-pink-400"}`,title:y.is_favorite?"Remove from favorites":"Add to favorites",children:a.jsx(hr,{size:16,className:y.is_favorite?"fill-current":""})}),a.jsx("button",{onClick:N=>f(y.id,N),className:"p-3 bg-red-500/20 hover:bg-red-500/30 border border-red-500/40 rounded-lg text-red-400 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-red-500/30",title:"Delete dream",children:a.jsx(Yl,{size:20})})]}),a.jsxs("div",{onClick:()=>d(y),className:"cursor-pointer relative z-10",children:[y.image_url&&a.jsx("div",{className:"overflow-hidden rounded-lg mb-4",children:a.jsx("img",{src:y.image_url,alt:"Dream visualization",className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"})}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-2",children:[a.jsx(Ii,{size:14}),m(y.created_at)]}),a.jsx("p",{className:"text-slate-300 line-clamp-3 group-hover:text-slate-200 transition-colors",children:y.dream_text}),y.status==="pending"&&a.jsx("span",{className:"inline-block mt-3 px-3 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full animate-pulse",children:r.library.pending})]})]},y.id))})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:()=>d(null),children:a.jsx("div",{className:"bg-slate-900 border border-purple-500/30 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm mb-2",children:[a.jsx(Ii,{size:14}),m(c.created_at)]}),a.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Dream Entry"})]}),a.jsx("button",{onClick:()=>d(null),className:"text-slate-400 hover:text-white transition-colors",children:""})]}),c.image_url&&a.jsx("img",{src:c.image_url,alt:"Dream visualization",className:"w-full h-auto rounded-xl mb-6 shadow-2xl"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-2",children:r.library.yourDream}),a.jsx("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:c.dream_text})]}),c.analysis_text&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-pink-400 mb-2",children:r.library.analysis}),a.jsx("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:c.analysis_text})]}),c.status==="pending"&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-yellow-400",children:r.library.processingMessage})]})})})]}):null}function ry(){const[e,t]=S.useState(!1),[r,n]=S.useState(""),[s,i]=S.useState(""),[l,o]=S.useState(""),[u,c]=S.useState(""),[d,h]=S.useState(null),[p,v]=S.useState(!1),x=S.useRef(null),k=S.useRef(null),C=S.useRef(null),g=S.useRef(null),{signIn:m,signUp:f,user:b}=tt(),E=rt(),{t:y}=Me();if(S.useEffect(()=>{x.current&&(x.current.oninvalid=_=>{_.preventDefault();const R=_.target;R.validity.valueMissing?R.setCustomValidity(y.auth.validationRequired):R.validity.typeMismatch&&R.setCustomValidity(y.auth.validationEmail)},x.current.oninput=_=>{_.target.setCustomValidity("")}),k.current&&(k.current.oninvalid=_=>{_.preventDefault(),_.target.setCustomValidity(y.auth.validationRequired)},k.current.oninput=_=>{_.target.setCustomValidity("")}),C.current&&(C.current.oninvalid=_=>{_.preventDefault(),_.target.setCustomValidity(y.auth.validationRequired)},C.current.oninput=_=>{_.target.setCustomValidity("")})},[y,e]),b)return E("/"),null;const N=async _=>{_.preventDefault(),h(null),v(!0);try{if(e){if(!l.trim())throw new Error("Please enter your full name");if(!u.trim())throw new Error("Please enter a username");if(u.length<3)throw new Error("Username must be at least 3 characters");const{error:R}=await f(r,s,l,u);if(R){console.error("SignUp UI Error:",R);const D=R.message.toLowerCase();D.includes("already registered")||D.includes("already exists")||D.includes("duplicate")?h(y.auth.emailAlreadyExists):D.includes("configuration")?h("Supabase yaplandrmas eksik. .env dosyasn kontrol edin."):h(R.message),v(!1);return}E("/analyze")}else{const{error:R}=await m(r,s);if(R){const D=R.message.toLowerCase();D.includes("invalid")||D.includes("credentials")?h(y.auth.invalidCredentials):h(R.message),v(!1);return}E("/analyze")}}catch(R){h(R instanceof Error?R.message:"An error occurred")}finally{v(!1)}};return a.jsxs("div",{className:"min-h-screen relative pt-20 md:pt-24 pb-12 md:pb-16 px-4 md:px-6 flex items-center",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 left-20 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-md mx-auto w-full z-10",children:[a.jsxs("div",{className:"text-center mb-6 md:mb-8 animate-fade-in",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight px-2",children:e?y.auth.createAccount:y.auth.welcomeBack}),a.jsx("p",{className:"text-slate-400 text-sm md:text-base px-2",children:e?y.auth.startJourney:y.auth.continueExploring})]}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-5 md:p-8 hover:border-purple-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-purple-500/10 animate-fade-in-delay",children:[a.jsxs("div",{className:"flex gap-2 mb-6 md:mb-8",children:[a.jsx("button",{onClick:()=>{t(!1),h(null)},className:`flex-1 py-2.5 md:py-3 rounded-lg font-medium transition-all duration-200 text-sm md:text-base ${e?"bg-slate-800/50 text-slate-400 hover:text-slate-300":"bg-gradient-to-r from-pink-600 to-purple-600 text-white"}`,children:y.auth.signIn}),a.jsx("button",{onClick:()=>{t(!0),h(null)},className:`flex-1 py-2.5 md:py-3 rounded-lg font-medium transition-all duration-200 text-sm md:text-base ${e?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-800/50 text-slate-400 hover:text-slate-300"}`,children:y.auth.signUp})]}),d&&a.jsx("div",{className:"mb-5 md:mb-6 p-3 md:p-4 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-xs md:text-sm",children:d}),a.jsxs("form",{onSubmit:N,className:"space-y-5 md:space-y-6",children:[e&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:y.auth.fullName}),a.jsx("input",{ref:C,type:"text",value:l,onChange:_=>o(_.target.value),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:y.auth.enterFullName,required:e})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:"Username"}),a.jsx("input",{ref:g,type:"text",value:u,onChange:_=>c(_.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:"username",required:e,minLength:3,maxLength:20}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Only lowercase letters, numbers, and underscores"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:y.auth.email}),a.jsx("input",{ref:x,type:"email",value:r,onChange:_=>n(_.target.value),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:y.auth.enterEmail,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm md:text-base",children:y.auth.password}),a.jsx("input",{ref:k,type:"password",value:s,onChange:_=>i(_.target.value),className:"w-full px-3 md:px-4 py-2.5 md:py-3 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 focus:ring-2 focus:ring-purple-500/20 transition-all text-sm md:text-base",placeholder:y.auth.enterPassword,required:!0,minLength:6})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full px-5 md:px-6 py-3 md:py-4 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300 hover:shadow-xl hover:shadow-pink-500/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm md:text-base",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Se,{className:"animate-spin",size:18}),e?y.auth.creatingAccount:y.auth.signingIn]}):a.jsxs(a.Fragment,{children:[e?a.jsx(Xo,{size:18}):a.jsx(Dv,{size:18}),e?y.auth.signUp:y.auth.signIn]})})]})]})]})]})}function ny(){const{user:e}=tt(),t=rt(),{t:r}=Me(),n=()=>{if(!e){t("/signin");return}alert("Payment integration coming soon! This will redirect to Stripe checkout.")};return a.jsxs("div",{className:"min-h-screen relative pt-20 md:pt-24 pb-12 md:pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 left-20 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl animate-float"}),a.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight px-2",children:r.pricing.title}),a.jsx("p",{className:"text-slate-400 text-base md:text-lg max-w-2xl mx-auto px-2",children:r.pricing.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-5 md:p-6 hover:border-purple-500/40 transition-all duration-500 hover:shadow-xl hover:shadow-purple-500/10 hover:-translate-y-1 animate-fade-in-delay",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ht,{className:"text-purple-400",size:18}),a.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:r.pricing.freeTrial.title})]}),a.jsx("div",{className:"mb-3 md:mb-4",children:a.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:r.pricing.freeTrial.price})}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:r.pricing.freeTrial.description}),a.jsxs("ul",{className:"space-y-2 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-purple-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.freeTrial.feature1})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-purple-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.freeTrial.feature2})]}),r.pricing.freeTrial.feature3&&a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-purple-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.freeTrial.feature3})]})]}),a.jsx("button",{onClick:()=>t(e?"/activate-trial":"/signin"),className:"w-full px-4 py-2.5 rounded-lg bg-slate-800 text-white text-sm font-semibold hover:bg-slate-700 transition-all duration-200",children:e?r.pricing.freeTrial.cta:r.pricing.freeTrial.signUp})]}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/20 rounded-2xl p-5 md:p-6 hover:border-cyan-500/40 transition-all duration-500 hover:shadow-xl hover:shadow-cyan-500/10 md:hover:-translate-y-2 animate-fade-in-delay-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(we,{className:"text-cyan-400",size:18}),a.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:r.pricing.standard.title})]}),a.jsxs("div",{className:"mb-3 md:mb-4",children:[a.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:r.pricing.standard.price}),a.jsxs("span",{className:"text-slate-400 text-sm",children:["/",r.pricing.standard.period]})]}),a.jsx("p",{className:"text-slate-300 text-sm mb-6",children:r.pricing.standard.description}),a.jsxs("ul",{className:"space-y-2 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-cyan-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.standard.feature1})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-cyan-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.standard.feature2})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-cyan-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.standard.feature3})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-cyan-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.standard.feature4})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-cyan-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.standard.feature5})]})]}),a.jsx("button",{onClick:n,className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-cyan-600 to-blue-600 text-white text-sm font-semibold hover:from-cyan-500 hover:to-blue-500 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/30",children:r.pricing.standard.cta})]}),a.jsxs("div",{className:"bg-gradient-to-br from-pink-500/10 to-purple-500/10 backdrop-blur-sm border-2 border-pink-500/40 rounded-2xl p-5 md:p-6 hover:border-pink-500/60 transition-all duration-500 hover:shadow-2xl hover:shadow-pink-500/20 relative md:hover:-translate-y-3 animate-fade-in-delay-3",children:[a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"px-2 md:px-3 py-1 bg-gradient-to-r from-pink-600 to-purple-600 text-white text-xs font-semibold rounded-full whitespace-nowrap",children:r.pricing.premium.badge})}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Wv,{className:"text-pink-400",size:18}),a.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:r.pricing.premium.title})]}),a.jsxs("div",{className:"mb-3 md:mb-4",children:[a.jsx("span",{className:"text-2xl md:text-3xl font-bold text-white",children:r.pricing.premium.price}),a.jsxs("span",{className:"text-slate-400 text-sm",children:["/",r.pricing.premium.period]})]}),a.jsx("p",{className:"text-slate-300 text-sm mb-6 font-medium",children:r.pricing.premium.description}),a.jsxs("ul",{className:"space-y-2 mb-6",children:[a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-pink-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{className:"font-medium",children:r.pricing.premium.feature1})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-pink-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{className:"font-medium",children:r.pricing.premium.feature2})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-pink-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{className:"font-medium",children:r.pricing.premium.feature3})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-pink-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.premium.feature4})]}),a.jsxs("li",{className:"flex items-start gap-2 text-slate-300 text-sm",children:[a.jsx(we,{className:"text-pink-400 flex-shrink-0 mt-1",size:16}),a.jsx("span",{children:r.pricing.premium.feature5})]})]}),a.jsx("button",{onClick:n,className:"w-full px-4 py-3 rounded-xl bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300 hover:shadow-2xl hover:shadow-pink-500/40 hover:scale-105",children:r.pricing.premium.cta})]})]}),a.jsxs("div",{className:"mt-16 text-center max-w-3xl mx-auto bg-slate-900/30 backdrop-blur-sm border border-cyan-500/20 rounded-2xl p-8 hover:border-cyan-500/30 transition-all duration-300 hover:shadow-xl hover:shadow-cyan-500/10 animate-fade-in",children:[a.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:r.pricing.whySubmirra.title}),a.jsx("p",{className:"text-slate-300 leading-relaxed",children:r.pricing.whySubmirra.description})]})]})]})}function Pc(){const{user:e}=tt(),t=rt(),r=eu(),{t:n,language:s}=Me(),{showToast:i}=En(),[l,o]=S.useState(null),[u,c]=S.useState(null),[d,h]=S.useState(!0),[p,v]=S.useState(!1),[x,k]=S.useState(""),[C,g]=S.useState(""),[m,f]=S.useState(!1),[b,E]=S.useState(null),[y,N]=S.useState(!1),[_,R]=S.useState(!0),[D,re]=S.useState([]),[Fe,Oe]=S.useState(!1),[nt,ht]=S.useState(!1),[kt,_e]=S.useState(!1),[O,j]=S.useState([]),[T,I]=S.useState([]),[q,ie]=S.useState(!1),X=S.useRef(null);S.useEffect(()=>{const z=window.location.pathname;let w=null;if(z.startsWith("/profile/")&&(w=z.split("/")[2]||null),w)c(w),R(e?w===e.id:!1),Ge(w),Kt(w),_t(w),e&&la(w);else{if(!e){t("/signin");return}c(e.id),R(!0),st(),oa()}},[e,t,r,window.location.pathname]);const st=async()=>{if(e)try{const{data:z,error:w}=await A.from("profiles").select("*").eq("id",e.id).single();if(w)throw w;o({full_name:z.full_name||"",email:z.email||e.email||"",created_at:z.created_at||e.created_at||"",avatar_url:z.avatar_url||null,bio:z.bio||null,username:z.username||null}),k(z.full_name||""),g(z.bio||"")}catch(z){console.error("Error loading profile:",z),i("Failed to load profile","error")}finally{h(!1)}},Ge=async z=>{try{h(!0);const{data:w,error:U}=await A.from("profiles").select("*").eq("id",z).single();if(U)throw U;o({full_name:w.full_name||"",email:"",created_at:w.created_at||"",avatar_url:w.avatar_url||null,bio:w.bio||null,username:w.username||null})}catch(w){console.error("Error loading other user profile:",w),i("Failed to load profile","error")}finally{h(!1)}},Kt=async z=>{try{const{data:w,error:U}=await A.from("user_stats").select("*").eq("user_id",z).single();if(!U&&w)E({public_dreams_count:w.public_dreams_count||0,total_likes_received:w.total_likes_received||0,total_comments_received:w.total_comments_received||0,followers_count:w.followers_count||0,following_count:w.following_count||0});else{const[L,K,M]=await Promise.all([A.from("dreams").select("id",{count:"exact",head:!0}).eq("user_id",z).eq("is_public",!0),A.from("follows").select("id",{count:"exact",head:!0}).eq("following_id",z),A.from("follows").select("id",{count:"exact",head:!0}).eq("follower_id",z)]);E({public_dreams_count:L.count||0,total_likes_received:0,total_comments_received:0,followers_count:K.count||0,following_count:M.count||0})}}catch(w){console.error("Error loading stats:",w)}},_t=async z=>{try{Oe(!0);const{data:w,error:U}=await A.from("dreams").select("*").eq("user_id",z).eq("is_public",!0).in("status",["completed","pending"]).order("created_at",{ascending:!1}).limit(12);if(U)throw U;const L=(w||[]).map(Y=>Y.id);let K=[],M=[];if(L.length>0){try{const{data:Y}=await A.from("dream_likes").select("dream_id").in("dream_id",L);K=Y||[]}catch(Y){console.log("Error loading likes:",Y)}try{const{data:Y}=await A.from("dream_comments").select("dream_id").in("dream_id",L);M=Y||[]}catch(Y){console.log("Error loading comments:",Y)}}const Z=new Map,Ce=new Map;K.forEach(Y=>{Z.set(Y.dream_id,(Z.get(Y.dream_id)||0)+1)}),M.forEach(Y=>{Ce.set(Y.dream_id,(Ce.get(Y.dream_id)||0)+1)});const pe=(w||[]).map(Y=>({...Y,likes_count:Z.get(Y.id)||0,comments_count:Ce.get(Y.id)||0}));re(pe)}catch(w){console.error("Error loading public dreams:",w)}finally{Oe(!1)}},la=async z=>{if(e)try{const{data:w,error:U}=await A.from("follows").select("id").eq("follower_id",e.id).eq("following_id",z).single();N(!!w&&!U)}catch{N(!1)}},oa=async()=>{if(e)try{const{data:z,error:w}=await A.from("user_stats").select("*").eq("user_id",e.id).single();if(!w&&z)E({public_dreams_count:z.public_dreams_count||0,total_likes_received:z.total_likes_received||0,total_comments_received:z.total_comments_received||0,followers_count:z.followers_count||0,following_count:z.following_count||0});else{const[U,L,K,M,Z]=await Promise.all([A.from("dreams").select("id",{count:"exact",head:!0}).eq("user_id",e.id).eq("is_public",!0),A.from("dream_likes").select("dream_id").eq("dreams.user_id",e.id),A.from("dream_comments").select("dream_id").eq("dreams.user_id",e.id),A.from("follows").select("id",{count:"exact",head:!0}).eq("following_id",e.id),A.from("follows").select("id",{count:"exact",head:!0}).eq("follower_id",e.id)]);E({public_dreams_count:U.count||0,total_likes_received:0,total_comments_received:0,followers_count:M.count||0,following_count:Z.count||0})}}catch(z){console.error("Error loading stats:",z)}},ua=async()=>{if(!e){i("You must be logged in to save","error");return}if(!x.trim()){i("Name cannot be empty","error");return}try{const z={full_name:x.trim(),updated_at:new Date().toISOString()};C!==void 0&&(z.bio=C.trim()||null);const{error:w}=await A.from("profiles").update(z).eq("id",e.id);if(w)throw console.error("Update error:",w),w;o(U=>U?{...U,full_name:x.trim(),bio:C.trim()||null}:null),v(!1),i(n.profile.profileSaved,"success")}catch(z){console.error("Error updating profile:",z),i(n.profile.profileSaveFailed,"error")}},zs=()=>{k((l==null?void 0:l.full_name)||""),g((l==null?void 0:l.bio)||""),v(!1)},Cn=async()=>{if(u){ie(!0);try{const{data:z,error:w}=await A.from("follows").select(`
          follower_id,
          follower:follower_id (
            id,
            full_name,
            username,
            avatar_url
          )
        `).eq("following_id",u);if(w)throw w;const U=(z||[]).map(L=>L.follower).filter(Boolean);j(U),ht(!0)}catch(z){console.error("Error loading followers:",z)}finally{ie(!1)}}},Ps=async()=>{if(u){ie(!0);try{const{data:z,error:w}=await A.from("follows").select(`
          following_id,
          following:following_id (
            id,
            full_name,
            username,
            avatar_url
          )
        `).eq("follower_id",u);if(w)throw w;const U=(z||[]).map(L=>L.following).filter(Boolean);I(U),_e(!0)}catch(z){console.error("Error loading following:",z)}finally{ie(!1)}}},ca=async()=>{if(!e){t("/signin");return}if(u)try{if(y){const{error:z}=await A.from("follows").delete().eq("follower_id",e.id).eq("following_id",u);if(z)throw z;N(!1),b&&E({...b,followers_count:Math.max(0,b.followers_count-1)}),i(n.profile.unfollowSuccess,"info")}else{const{error:z}=await A.from("follows").insert({follower_id:e.id,following_id:u});if(z)throw z;N(!0),b&&E({...b,followers_count:b.followers_count+1}),i(n.profile.followSuccess,"success")}}catch(z){console.error("Error toggling follow:",z),i(n.profile.followFailed,"error")}},Tn=async z=>{var U,L,K,M;const w=(U=z.target.files)==null?void 0:U[0];if(!(!w||!e)){if(!w.type.startsWith("image/")){i("Please select an image file","error");return}if(w.size>5*1024*1024){i("Image size must be less than 5MB","error");return}try{f(!0);const{data:Z,error:Ce}=await A.storage.listBuckets();if(Ce)throw console.error("Error checking buckets:",Ce),new Error("Cannot access storage. Please check your Supabase configuration.");const pe=Z==null?void 0:Z.find(le=>le.name==="avatars");if(!pe)throw new Error('Avatars bucket not found. Please create "avatars" bucket in Supabase Storage (make it public).');if(console.log("Avatars bucket found:",pe),l!=null&&l.avatar_url)try{let le="";if(l.avatar_url.includes("/avatars/")){const oe=l.avatar_url.split("/avatars/");le=oe[oe.length-1].split("?")[0]}else{const oe=l.avatar_url.split("/");le=oe[oe.length-1].split("?")[0]}if(le&&le.includes(".")){console.log("Attempting to delete old avatar:",le);const{error:oe}=await A.storage.from("avatars").remove([le]);oe?console.log("Could not delete old avatar (may not exist):",oe):console.log("Old avatar deleted successfully")}}catch(le){console.log("Could not delete old avatar:",le)}const Y=((L=w.name.split(".").pop())==null?void 0:L.toLowerCase())||"jpg",At=`${e.id}-${Date.now()}.${Y}`,Ur=At;console.log("Uploading avatar:",{fileName:At,fileSize:w.size,fileType:w.type});const{data:zn,error:jt}=await A.storage.from("avatars").upload(Ur,w,{cacheControl:"3600",upsert:!0,contentType:w.type});if(jt)throw console.error("Upload error:",jt),(K=jt.message)!=null&&K.includes("new row violates row-level security")?new Error("Permission denied. Please check RLS policies for avatars bucket. Make sure you ran the storage migration."):(M=jt.message)!=null&&M.includes("Bucket not found")?new Error('Avatars bucket not found. Please create "avatars" bucket in Supabase Storage and make it public.'):new Error(jt.message||"Failed to upload avatar. Error: "+JSON.stringify(jt));console.log("Upload successful:",zn);const{data:{publicUrl:J}}=A.storage.from("avatars").getPublicUrl(Ur);if(console.log("Public URL:",J),!J)throw new Error("Failed to get public URL for avatar");const{error:Ot}=await A.from("profiles").update({avatar_url:J}).eq("id",e.id);if(Ot)throw console.error("Update error details:",Ot),new Error(Ot.message||"Failed to update profile with new avatar");if(console.log("Profile updated successfully"),_){const{data:le,error:oe}=await A.from("profiles").select("*").eq("id",e.id).single();oe&&console.error("Error fetching updated profile:",oe),o(le||(G=>G?{...G,avatar_url:J}:null))}else o(le=>le?{...le,avatar_url:J}:null);i(n.profile.avatarUploaded,"success")}catch(Z){console.error("Error uploading avatar:",Z);const Ce=(Z==null?void 0:Z.message)||n.profile.avatarUploadFailed;i(Ce,"error"),console.error("Full error details:",{message:Z==null?void 0:Z.message,error:Z,user:e==null?void 0:e.id,file:w==null?void 0:w.name})}finally{f(!1),X.current&&(X.current.value="")}}};if(!(!_&&!e)){if(_&&!e)return null}return d?a.jsx("div",{className:"min-h-screen relative pt-24 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-400"})}):a.jsxs("div",{className:"min-h-screen relative pt-24 pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 left-10 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 right-10 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-4xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight",children:n.profile.title}),a.jsx("p",{className:"text-slate-400 text-lg",children:_?n.profile.manageAccount:n.profile.userProfile})]}),a.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6 pb-6 border-b border-purple-500/20",children:[a.jsxs("div",{className:"relative group",children:[_?a.jsxs("button",{onClick:()=>{var z;return(z=X.current)==null?void 0:z.click()},disabled:m,className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-pink-500/30 flex items-center justify-center overflow-hidden cursor-pointer disabled:cursor-not-allowed transition-all hover:border-pink-500/50",children:[l!=null&&l.avatar_url?a.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx($e,{className:"text-pink-400",size:40}),a.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-full flex items-center justify-center",children:m?a.jsx(Se,{className:"animate-spin text-white",size:24}):a.jsx(Bv,{className:"text-white",size:24})})]}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-pink-500/30 flex items-center justify-center overflow-hidden",children:l!=null&&l.avatar_url?a.jsx("img",{src:l.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx($e,{className:"text-pink-400",size:40})}),_&&a.jsx("input",{ref:X,type:"file",accept:"image/*",onChange:Tn,className:"hidden"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-semibold text-white",children:p?a.jsx("input",{type:"text",value:x,onChange:z=>k(z.target.value),className:"bg-slate-950/50 border border-purple-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500/60",autoFocus:!0}):(l==null?void 0:l.full_name)||(l==null?void 0:l.username)||"User"}),(l==null?void 0:l.username)&&a.jsxs("span",{className:"text-slate-500 text-sm",children:["@",l.username]})]}),p?a.jsx("textarea",{value:C,onChange:z=>g(z.target.value),placeholder:n.profile.bioPlaceholder,className:"w-full mt-2 bg-slate-950/50 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60 resize-none",rows:3}):(l==null?void 0:l.bio)&&a.jsx("p",{className:"text-slate-300 mb-2",children:l.bio}),_&&a.jsx("button",{onClick:()=>{var z;return(z=X.current)==null?void 0:z.click()},disabled:m,className:"mt-2 text-sm text-purple-400 hover:text-purple-300 transition-colors disabled:opacity-50",children:m?n.profile.uploading:n.profile.changeAvatar})]})]}),b&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6 pb-6 border-b border-purple-500/20",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:a.jsx(bs,{className:"text-purple-400",size:18})}),a.jsx("p",{className:"text-2xl font-bold text-white",children:b.public_dreams_count}),a.jsx("p",{className:"text-slate-400 text-xs",children:n.profile.publicDreams})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:a.jsx(hr,{className:"text-pink-400",size:18})}),a.jsx("p",{className:"text-2xl font-bold text-white",children:b.total_likes_received}),a.jsx("p",{className:"text-slate-400 text-xs",children:n.profile.likesReceived})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:a.jsx(fr,{className:"text-cyan-400",size:18})}),a.jsx("p",{className:"text-2xl font-bold text-white",children:b.total_comments_received}),a.jsx("p",{className:"text-slate-400 text-xs",children:n.profile.comments})]}),a.jsxs("button",{onClick:Cn,className:"text-center hover:bg-slate-950/30 rounded-lg p-2 transition-colors",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:a.jsx(bf,{className:"text-purple-400",size:18})}),a.jsx("p",{className:"text-2xl font-bold text-white",children:b.followers_count}),a.jsx("p",{className:"text-slate-400 text-xs",children:n.profile.followers})]}),a.jsxs("button",{onClick:Ps,className:"text-center hover:bg-slate-950/30 rounded-lg p-2 transition-colors",children:[a.jsx("div",{className:"flex items-center justify-center gap-2 mb-1",children:a.jsx($e,{className:"text-pink-400",size:18})}),a.jsx("p",{className:"text-2xl font-bold text-white",children:b.following_count}),a.jsx("p",{className:"text-slate-400 text-xs",children:n.profile.following})]})]}),_&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-950/30 rounded-lg",children:[a.jsx(xf,{className:"text-purple-400",size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:n.profile.email}),a.jsx("p",{className:"text-white",children:l==null?void 0:l.email})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-950/30 rounded-lg",children:[a.jsx(Ii,{className:"text-pink-400",size:20}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:n.profile.memberSince}),a.jsx("p",{className:"text-white",children:l!=null&&l.created_at?new Date(l.created_at).toLocaleDateString(s==="tr"?"tr-TR":"en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),a.jsx("div",{className:"flex gap-4 pt-6 border-t border-purple-500/20",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:ua,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300",children:[a.jsx(Uv,{size:18}),n.profile.saveChanges]}),a.jsxs("button",{onClick:zs,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-slate-800 text-slate-300 font-semibold hover:bg-slate-700 transition-all duration-300",children:[a.jsx(Pt,{size:18}),n.profile.cancel]})]}):a.jsx(a.Fragment,{children:_?a.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600/20 to-purple-600/20 border border-pink-500/30 text-pink-300 hover:border-pink-400/50 hover:text-pink-200 transition-all duration-300",children:[a.jsx(Iv,{size:18}),n.profile.editProfile]}):a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:ca,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${y?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-gradient-to-r from-pink-600 to-purple-600 text-white hover:from-pink-500 hover:to-purple-500"}`,children:y?a.jsxs(a.Fragment,{children:[a.jsx(qv,{size:18}),n.profile.followingButton]}):a.jsxs(a.Fragment,{children:[a.jsx(Xo,{size:18}),n.profile.follow]})}),a.jsxs("button",{onClick:()=>t(`/messages?user=${u}`),className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-slate-800 text-white hover:bg-slate-700 border border-slate-700 transition-all duration-300",children:[a.jsx(fr,{size:18}),"Message"]})]})})})]})}),!_&&a.jsxs("div",{className:"mt-12",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b border-purple-500/20",children:[a.jsx(zv,{className:"text-purple-400",size:20}),a.jsx("h2",{className:"text-2xl font-semibold text-white",children:n.profile.publicDreamsTitle})]}),Fe?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:32})}):D.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(bs,{className:"mx-auto mb-4 text-slate-600",size:48}),a.jsx("p",{className:"text-slate-400",children:n.profile.noPublicDreams})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:D.map(z=>a.jsxs("div",{onClick:()=>t("/social"),className:"group relative aspect-square bg-slate-900/50 border border-purple-500/20 rounded-xl overflow-hidden cursor-pointer hover:border-purple-500/40 transition-all",children:[z.image_url?a.jsx("img",{src:z.image_url,alt:"Dream",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-900/20 to-pink-900/20",children:a.jsx(Ht,{className:"text-purple-400/50",size:32})}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsxs("div",{className:"flex items-center gap-6 text-white",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hr,{size:20}),a.jsx("span",{className:"font-semibold",children:z.likes_count})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{size:20}),a.jsx("span",{className:"font-semibold",children:z.comments_count})]})]})}),z.status==="pending"&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"px-2 py-1 bg-yellow-500/90 text-yellow-900 text-xs font-semibold rounded backdrop-blur-sm",children:n.social.pending})})]},z.id))})]})]}),nt&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>ht(!1)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-slate-900 border border-purple-500/30 rounded-2xl shadow-2xl z-50 max-h-[70vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-purple-500/20 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:n.profile.followers}),a.jsx("button",{onClick:()=>ht(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Pt,{size:20})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:q?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:32})}):O.length===0?a.jsx("p",{className:"text-slate-400 text-center py-8",children:"No followers yet"}):a.jsx("div",{className:"space-y-3",children:O.map(z=>a.jsxs("button",{onClick:()=>{ht(!1),t(`/profile/${z.id}`)},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-950/50 rounded-lg transition-colors",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center overflow-hidden",children:z.avatar_url?a.jsx("img",{src:z.avatar_url,alt:"",className:"w-full h-full object-cover"}):a.jsx($e,{size:24,className:"text-white"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-white font-medium",children:z.full_name}),z.username&&a.jsxs("p",{className:"text-slate-400 text-sm",children:["@",z.username]})]})]},z.id))})})]})]}),kt&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>_e(!1)}),a.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-slate-900 border border-purple-500/30 rounded-2xl shadow-2xl z-50 max-h-[70vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-purple-500/20 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:n.profile.following}),a.jsx("button",{onClick:()=>_e(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Pt,{size:20})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:q?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:32})}):T.length===0?a.jsx("p",{className:"text-slate-400 text-center py-8",children:"Not following anyone yet"}):a.jsx("div",{className:"space-y-3",children:T.map(z=>a.jsxs("button",{onClick:()=>{_e(!1),t(`/profile/${z.id}`)},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-950/50 rounded-lg transition-colors",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center overflow-hidden",children:z.avatar_url?a.jsx("img",{src:z.avatar_url,alt:"",className:"w-full h-full object-cover"}):a.jsx($e,{size:24,className:"text-white"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-white font-medium",children:z.full_name}),z.username&&a.jsxs("p",{className:"text-slate-400 text-sm",children:["@",z.username]})]})]},z.id))})})]})]})]})}function sy(){const{user:e}=tt(),t=rt(),{t:r,language:n}=Me(),[s,i]=S.useState([]),[l,o]=S.useState(!0),[u,c]=S.useState({total:0,completed:0,pending:0});S.useEffect(()=>{if(!e){t("/signin");return}d()},[e,t]);const d=async()=>{if(e)try{const{data:p,error:v}=await A.from("dreams").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(5);if(v)throw v;const x=p||[];i(x);const k=x.filter(m=>m.status==="completed").length,C=x.filter(m=>m.status==="pending").length,{count:g}=await A.from("dreams").select("*",{count:"exact",head:!0}).eq("user_id",e.id);c({total:g||0,completed:k,pending:C})}catch(p){console.error("Error loading dreams:",p)}finally{o(!1)}},h=p=>{const v=new Date(p),x=n==="tr"?"tr-TR":"en-US";return v.toLocaleDateString(x,{year:"numeric",month:"long",day:"numeric"})};return e?l?a.jsx("div",{className:"min-h-screen relative pt-24 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-400"})}):a.jsxs("div",{className:"min-h-screen relative pt-24 pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 left-10 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto z-10",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:r.dashboard.title}),a.jsx("p",{className:"text-slate-400 text-lg",children:r.dashboard.subtitle})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-xl p-6 hover:border-purple-500/30 transition-all",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-500/20 flex items-center justify-center",children:a.jsx(bs,{className:"text-purple-400",size:24})})}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:u.total}),a.jsx("p",{className:"text-slate-400 text-sm",children:r.dashboard.totalDreams})]}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-pink-500/20 rounded-xl p-6 hover:border-pink-500/30 transition-all",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-lg bg-pink-500/20 flex items-center justify-center",children:a.jsx(Ht,{className:"text-pink-400",size:24})})}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:u.completed}),a.jsx("p",{className:"text-slate-400 text-sm",children:r.dashboard.completedAnalyses})]}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/20 rounded-xl p-6 hover:border-cyan-500/30 transition-all",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:a.jsx(wf,{className:"text-cyan-400",size:24})})}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:u.pending}),a.jsx("p",{className:"text-slate-400 text-sm",children:r.dashboard.pendingAnalyses})]})]}),a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-xl p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-white",children:r.dashboard.recentDreams}),a.jsx("button",{onClick:()=>t("/library"),className:"text-purple-400 hover:text-purple-300 text-sm font-medium transition-colors",children:r.dashboard.viewAll})]}),s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(bs,{className:"mx-auto mb-4 text-slate-600",size:48}),a.jsx("p",{className:"text-slate-400 mb-4",children:r.dashboard.noDreams}),a.jsx("button",{onClick:()=>t("/analyze"),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all",children:r.dashboard.analyzeFirstDream})]}):a.jsx("div",{className:"space-y-4",children:s.map(p=>a.jsx("div",{onClick:()=>t("/library"),className:"bg-slate-950/30 rounded-lg p-4 hover:bg-slate-950/50 transition-all cursor-pointer border border-transparent hover:border-purple-500/20",children:a.jsxs("div",{className:"flex items-start gap-4",children:[p.image_url&&a.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx("img",{src:p.image_url,alt:"Dream visualization",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-xs mb-2",children:[a.jsx(Ii,{size:12}),h(p.created_at)]}),a.jsx("p",{className:"text-slate-300 text-sm line-clamp-2 mb-2",children:p.dream_text}),p.status==="pending"&&a.jsx("span",{className:"inline-block px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full",children:r.social.pending})]})]})},p.id))})]})]})]}):null}function iy(){const{user:e}=tt(),t=rt(),{t:r,language:n}=Me(),{showToast:s}=En(),[i,l]=S.useState([]),[o,u]=S.useState(!0),[c,d]=S.useState(null),[h,p]=S.useState([]),[v,x]=S.useState(""),[k,C]=S.useState(!1),[g,m]=S.useState(!1),[f,b]=S.useState("recent"),[E,y]=S.useState("all"),[N,_]=S.useState(""),[R,D]=S.useState(0),[re,Fe]=S.useState(!0),[Oe,nt]=S.useState(!1),[ht,kt]=S.useState(new Set),[_e,O]=S.useState(!1),[j,T]=S.useState([]),[I,q]=S.useState(!1),[ie,X]=S.useState(""),st=S.useRef(null),Ge=S.useRef(null);S.useEffect(()=>{_t(),e&&Kt()},[e,f,E]),S.useEffect(()=>(st.current&&st.current.disconnect(),st.current=new IntersectionObserver(w=>{w[0].isIntersecting&&re&&!Oe&&!o&&la()},{threshold:.1}),Ge.current&&st.current.observe(Ge.current),()=>{st.current&&st.current.disconnect()}),[re,Oe,o,i]);const Kt=async()=>{if(e)try{const{data:w,error:U}=await A.from("follows").select("following_id").eq("follower_id",e.id);if(U)throw U;kt(new Set((w||[]).map(L=>L.following_id)))}catch(w){console.error("Error loading following users:",w)}},_t=async(w=!0)=>{var U,L,K;try{w?(u(!0),D(0),l([])):nt(!0);const M=w?0:R+1,Z=10,Ce=M*Z;let pe=A.from("dreams").select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url,
            username
          )
        `).eq("is_public",!0).in("status",["completed","pending"]);if(E==="following"&&e){const J=Array.from(ht);if(J.length===0){l([]),Fe(!1),u(!1),nt(!1);return}pe=pe.in("user_id",J)}N.trim()&&(pe=pe.or(`dream_text.ilike.%${N}%,analysis_text.ilike.%${N}%`)),f==="recent"?pe=pe.order("created_at",{ascending:!1}):f==="popular"?pe=pe.order("created_at",{ascending:!1}):f==="trending"&&(pe=pe.order("created_at",{ascending:!1})),pe=pe.range(Ce,Ce+Z-1);let{data:Y,error:At}=await pe;if(At)if((U=At.message)!=null&&U.includes("is_public")||At.code==="42703"||At.code==="PGRST116"){console.warn("is_public column not found. Please run migration to enable public dreams feature.");let J=A.from("dreams").select(`
              *,
              profiles:user_id (
                full_name,
                avatar_url,
                username
              )
            `).in("status",["completed","pending"]);if(E==="following"&&e){const oe=Array.from(ht);if(oe.length===0){l([]),Fe(!1),u(!1),nt(!1);return}J=J.in("user_id",oe)}N.trim()&&(J=J.or(`dream_text.ilike.%${N}%,analysis_text.ilike.%${N}%`)),f==="recent"?J=J.order("created_at",{ascending:!1}):f==="popular"?J=J.order("created_at",{ascending:!1}):f==="trending"&&(J=J.order("created_at",{ascending:!1})),J=J.range(Ce,Ce+Z-1);const{data:Ot,error:le}=await J;if(le)throw console.error("Error loading dreams:",le),le;Y=Ot,Y&&(Y=Y.filter(oe=>oe.is_public===!0||oe.is_public===void 0))}else throw console.error("Error loading dreams:",At),At;const Ur=(Y||[]).map(J=>J.id);let zn=null,jt=null;if(Ur.length>0){try{const{data:G}=await A.from("dream_likes").select("dream_id, user_id").in("dream_id",Ur);zn=G}catch{zn=[]}try{const{data:G}=await A.from("dream_comments").select("dream_id").in("dream_id",Ur);jt=G}catch{jt=[]}const J=new Map,Ot=new Map,le=new Set;(zn||[]).forEach(G=>{J.set(G.dream_id,(J.get(G.dream_id)||0)+1),e&&G.user_id===e.id&&le.add(G.dream_id)}),(jt||[]).forEach(G=>{Ot.set(G.dream_id,(Ot.get(G.dream_id)||0)+1)});const oe=(Y||[]).map(G=>({...G,likes_count:J.get(G.id)||0,comments_count:Ot.get(G.id)||0,is_liked:le.has(G.id),profiles:G.profiles||{full_name:"Anonymous",avatar_url:null,username:null}}));f==="popular"?oe.sort((G,Mr)=>{const da=G.likes_count*2+G.comments_count;return Mr.likes_count*2+Mr.comments_count-da}):f==="trending"&&oe.sort((G,Mr)=>{const da=new Date(G.created_at).getTime(),_f=new Date(Mr.created_at).getTime(),tu=(Date.now()-da)/(1e3*60*60*24),jf=(G.likes_count*2+G.comments_count)/(tu+1);return(Mr.likes_count*2+Mr.comments_count)/(tu+1)-jf}),l(w?oe:G=>[...G,...oe]),Fe(oe.length===Z),D(M)}else w&&l([]),Fe(!1)}catch(M){console.error("Error loading public dreams:",M),(L=M==null?void 0:M.message)!=null&&L.includes("is_public")||(M==null?void 0:M.code)==="42703"||(M==null?void 0:M.code)==="PGRST116"?s("Please run the database migration to enable social features","error"):(K=M==null?void 0:M.message)!=null&&K.includes("permission")||(M==null?void 0:M.code)==="42501"?s("Permission denied. Please check your database permissions.","error"):s("Failed to load dreams. Please try again later.","error")}finally{u(!1),nt(!1)}},la=()=>{!Oe&&re&&_t(!1)},oa=async w=>{if(!w.trim()||w.length<2){T([]);return}try{q(!0);const{data:U,error:L}=await A.from("profiles").select("id, full_name, username, avatar_url, bio").or(`full_name.ilike.%${w}%,username.ilike.%${w}%`).limit(10);if(L)throw L;T(U||[])}catch(U){console.error("Error searching users:",U)}finally{q(!1)}};S.useEffect(()=>{const w=setTimeout(()=>{_e&&oa(ie)},300);return()=>clearTimeout(w)},[ie,_e]);const ua=async w=>{if(!e){t("/signin");return}try{const U=i.find(L=>L.id===w);if(!U)return;if(U.is_liked){const{error:L}=await A.from("dream_likes").delete().eq("dream_id",w).eq("user_id",e.id);if(L)throw L;l(K=>K.map(M=>M.id===w?{...M,is_liked:!1,likes_count:M.likes_count-1}:M))}else{const{error:L}=await A.from("dream_likes").insert({dream_id:w,user_id:e.id});if(L)throw L;l(K=>K.map(M=>M.id===w?{...M,is_liked:!0,likes_count:M.likes_count+1}:M))}}catch(U){console.error("Error toggling like:",U),s("Failed to update like","error")}},zs=async(w,U)=>{if(U.stopPropagation(),!e){t("/signin");return}if(confirm(r.social.deleteConfirm))try{try{await A.from("dream_likes").delete().eq("dream_id",w)}catch(K){console.log("Error deleting likes:",K)}try{await A.from("dream_comments").delete().eq("dream_id",w)}catch(K){console.log("Error deleting comments:",K)}const{error:L}=await A.from("dreams").delete().eq("id",w).eq("user_id",e.id);if(L)throw L;l(K=>K.filter(M=>M.id!==w)),(c==null?void 0:c.id)===w&&d(null),s(r.social.dreamDeleted,"success")}catch(L){console.error("Error deleting dream:",L),s(r.social.deleteFailed,"error")}},Cn=async w=>{try{C(!0);const{data:U,error:L}=await A.from("dream_comments").select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url
          )
        `).eq("dream_id",w).order("created_at",{ascending:!0});if(L)throw L;p((U||[]).map(K=>({...K,profiles:K.profiles||{full_name:"Anonymous",avatar_url:null}})))}catch(U){console.error("Error loading comments:",U),s("Failed to load comments","error")}finally{C(!1)}},Ps=async()=>{if(!e){t("/signin");return}if(!(!c||!v.trim()))try{m(!0);const{error:w}=await A.from("dream_comments").insert({dream_id:c.id,user_id:e.id,comment_text:v.trim()});if(w)throw w;await Cn(c.id),l(U=>U.map(L=>L.id===c.id?{...L,comments_count:L.comments_count+1}:L)),x(""),s(r.social.commentAdded,"success")}catch(w){console.error("Error adding comment:",w),s(r.social.commentFailed,"error")}finally{m(!1)}},ca=async w=>{if(!(!e||!c))try{const{error:U}=await A.from("dream_comments").delete().eq("id",w).eq("user_id",e.id);if(U)throw U;await Cn(c.id),c&&(d({...c,comments_count:Math.max(0,c.comments_count-1)}),l(L=>L.map(K=>K.id===c.id?{...K,comments_count:Math.max(0,K.comments_count-1)}:K))),s(r.social.commentDeleted,"success")}catch(U){console.error("Error deleting comment:",U),s(r.social.commentDeleteFailed,"error")}},Tn=w=>{const U=new Date(w),L=new Date,K=L.getTime()-U.getTime(),M=Math.floor(K/6e4),Z=Math.floor(M/60),Ce=Math.floor(Z/24);if(M<1)return r.social.justNow;if(M<60)return`${M}${r.social.minutesAgo}`;if(Z<24)return`${Z}${r.social.hoursAgo}`;if(Ce<7)return`${Ce}${r.social.daysAgo}`;const pe=n==="tr"?"tr-TR":"en-US";return U.toLocaleDateString(pe,{month:"long",day:"numeric",year:U.getFullYear()!==L.getFullYear()?"numeric":void 0})},z=w=>{d(w),p([]),x(""),Cn(w.id)};return o?a.jsx("div",{className:"min-h-screen relative pt-24 flex items-center justify-center",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:48})}):a.jsxs("div",{className:"min-h-screen relative pt-24 pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 left-10 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"relative max-w-7xl mx-auto z-10",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent py-2 leading-tight",style:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",fontFeatureSettings:'"kern" 1',WebkitTextStroke:"0.5px rgba(236, 72, 153, 0.3)"},children:r.social.title}),a.jsx("p",{className:"text-slate-400 text-lg",children:r.social.subtitle})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex gap-2 border-b border-purple-500/20",children:[a.jsx("button",{onClick:()=>O(!1),className:`px-4 py-2 text-sm font-medium transition-colors ${_e?"text-slate-400 hover:text-slate-300":"text-purple-400 border-b-2 border-purple-400"}`,children:r.social.searchDreams}),a.jsx("button",{onClick:()=>O(!0),className:`px-4 py-2 text-sm font-medium transition-colors ${_e?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-slate-300"}`,children:r.social.searchUsers})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),_e?a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"text",value:ie,onChange:w=>X(w.target.value),placeholder:r.social.searchUsersPlaceholder,className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60"}),ie&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-slate-900 border border-purple-500/30 rounded-lg shadow-2xl max-h-96 overflow-y-auto z-50",children:I?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:24})}):j.length===0?a.jsx("div",{className:"text-center py-8 text-slate-400",children:a.jsx("p",{children:r.social.noUsersFound})}):a.jsx("div",{className:"divide-y divide-purple-500/10",children:j.map(w=>a.jsxs("button",{onClick:()=>{t(`/profile/${w.id}`),O(!1),X("")},className:"w-full p-4 text-left hover:bg-slate-950/50 transition-colors flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-pink-500/30 flex items-center justify-center overflow-hidden flex-shrink-0",children:w.avatar_url?a.jsx("img",{src:w.avatar_url,alt:w.full_name,className:"w-full h-full object-cover"}):a.jsx($e,{className:"text-pink-400",size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white font-semibold truncate",children:w.full_name||w.username||r.social.anonymous}),w.username&&a.jsxs("p",{className:"text-slate-400 text-sm truncate",children:["@",w.username]}),w.bio&&a.jsx("p",{className:"text-slate-500 text-xs truncate mt-1",children:w.bio})]})]},w.id))})})]}):a.jsx("input",{type:"text",value:N,onChange:w=>{_(w.target.value),setTimeout(()=>_t(!0),500)},placeholder:r.social.searchDreamsPlaceholder,className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-lg p-2",children:[a.jsx(Cv,{size:18,className:"text-slate-400"}),a.jsx("button",{onClick:()=>{y("all"),_t(!0)},className:`px-3 py-1 rounded text-sm font-medium transition-all ${E==="all"?"bg-purple-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:r.social.all}),e&&a.jsxs("button",{onClick:()=>{y("following"),_t(!0)},className:`px-3 py-1 rounded text-sm font-medium transition-all flex items-center gap-1 ${E==="following"?"bg-purple-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(bf,{size:14}),r.social.following]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-lg p-2",children:[a.jsxs("button",{onClick:()=>{b("recent"),_t(!0)},className:`px-3 py-1 rounded text-sm font-medium transition-all flex items-center gap-1 ${f==="recent"?"bg-pink-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(Ev,{size:14}),r.social.recent]}),a.jsxs("button",{onClick:()=>{b("popular"),_t(!0)},className:`px-3 py-1 rounded text-sm font-medium transition-all flex items-center gap-1 ${f==="popular"?"bg-pink-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(hr,{size:14}),r.social.popular]}),a.jsxs("button",{onClick:()=>{b("trending"),_t(!0)},className:`px-3 py-1 rounded text-sm font-medium transition-all flex items-center gap-1 ${f==="trending"?"bg-pink-600 text-white":"text-slate-400 hover:text-slate-300"}`,children:[a.jsx(wf,{size:14}),r.social.trending]})]})]})]}),i.length===0?a.jsxs("div",{className:"text-center py-20",children:[a.jsx($e,{className:"mx-auto mb-4 text-slate-600",size:64}),a.jsx("p",{className:"text-slate-400 text-lg mb-6",children:r.social.noDreams}),a.jsx("button",{onClick:()=>t("/analyze"),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300",children:r.social.shareFirst})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map((w,U)=>a.jsxs("div",{ref:U===i.length-1?Ge:null,className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl overflow-hidden hover:border-purple-500/40 transition-all duration-300 group cursor-pointer",onClick:()=>z(w),children:[a.jsxs("div",{className:"relative aspect-square bg-slate-950 overflow-hidden",children:[w.image_url?a.jsx("img",{src:w.image_url,alt:"Dream visualization",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-900/20 to-pink-900/20",children:a.jsx(Ht,{className:"text-purple-400/50",size:48})}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:a.jsxs("div",{className:"flex items-center gap-6 text-white",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hr,{size:24,className:w.is_liked?"fill-current text-pink-400":""}),a.jsx("span",{className:"font-semibold",children:w.likes_count})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fr,{size:24}),a.jsx("span",{className:"font-semibold",children:w.comments_count})]})]})}),w.status==="pending"&&a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"px-3 py-1 bg-yellow-500/90 text-yellow-900 text-xs font-semibold rounded-full backdrop-blur-sm",children:r.social.pending})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:L=>{L.stopPropagation(),t(`/profile/${w.user_id}`)},className:"w-8 h-8 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border-2 border-white/30 flex items-center justify-center overflow-hidden hover:scale-110 transition-transform",children:w.profiles.avatar_url?a.jsx("img",{src:w.profiles.avatar_url,alt:w.profiles.full_name,className:"w-full h-full object-cover"}):a.jsx($e,{className:"text-pink-400",size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("button",{onClick:L=>{L.stopPropagation(),t(`/profile/${w.user_id}`)},className:"text-white font-semibold text-sm hover:text-purple-300 transition-colors truncate",children:w.profiles.full_name||w.profiles.username||r.social.anonymous}),a.jsx("p",{className:"text-white/70 text-xs",children:Tn(w.created_at)})]})]})})]}),a.jsxs("div",{className:"p-4 bg-slate-900/50",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:L=>{L.stopPropagation(),ua(w.id)},className:`transition-all hover:scale-110 ${w.is_liked?"text-pink-400":"text-slate-400 hover:text-pink-400"}`,children:a.jsx(hr,{size:24,className:w.is_liked?"fill-current":""})}),a.jsx("button",{onClick:L=>{L.stopPropagation(),z(w)},className:"text-slate-400 hover:text-purple-400 transition-all hover:scale-110",children:a.jsx(fr,{size:24})}),a.jsx("button",{onClick:L=>{L.stopPropagation(),navigator.share?navigator.share({title:r.social.checkOutDream,text:w.dream_text.substring(0,100),url:window.location.href}):(navigator.clipboard.writeText(window.location.href),s(r.social.linkCopied,"success"))},className:"text-slate-400 hover:text-cyan-400 transition-all hover:scale-110",children:a.jsx(Fv,{size:24})}),e&&w.user_id===e.id&&a.jsx("button",{onClick:L=>{L.stopPropagation(),zs(w.id,L)},className:"text-slate-400 hover:text-red-400 transition-all hover:scale-110 ml-auto",title:r.social.deleteDream,children:a.jsx(Yl,{size:20})})]})}),a.jsx("div",{className:"mb-2",children:w.likes_count>0&&a.jsxs("p",{className:"text-white font-semibold text-sm",children:[w.likes_count," ",w.likes_count===1?r.social.like:r.social.likes]})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("button",{onClick:L=>{L.stopPropagation(),t(`/profile/${w.user_id}`)},className:"text-white font-semibold text-sm hover:text-purple-300 transition-colors mr-2",children:w.profiles.full_name||w.profiles.username||r.social.anonymous}),a.jsx("span",{className:"text-white/80 text-sm line-clamp-2",children:w.dream_text})]}),w.comments_count>0&&a.jsxs("button",{onClick:L=>{L.stopPropagation(),z(w)},className:"text-white/70 hover:text-white text-sm transition-colors",children:[r.social.viewAll," ",w.comments_count," ",w.comments_count===1?r.social.comment:r.social.comments]})]})]},w.id))}),Oe&&a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:32})}),!re&&i.length>0&&a.jsx("div",{className:"text-center py-8 text-slate-400",children:a.jsx("p",{children:r.social.endOfFeed})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 md:p-6",onClick:()=>d(null),children:a.jsx("div",{className:"bg-slate-900 border border-purple-500/30 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-6 border-b border-purple-500/20",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-pink-500/30 flex items-center justify-center overflow-hidden",children:c.profiles.avatar_url?a.jsx("img",{src:c.profiles.avatar_url,alt:c.profiles.full_name,className:"w-full h-full object-cover"}):a.jsx($e,{className:"text-pink-400",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-semibold",children:c.profiles.full_name||r.social.anonymous}),a.jsx("p",{className:"text-slate-400 text-sm",children:Tn(c.created_at)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e&&c.user_id===e.id&&a.jsx("button",{onClick:w=>{w.stopPropagation(),zs(c.id,w)},className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:r.social.deleteDream,children:a.jsx(Yl,{size:20})}),a.jsx("button",{onClick:()=>d(null),className:"text-slate-400 hover:text-white transition-colors text-2xl",children:""})]})]}),c.image_url&&a.jsx("div",{className:"mb-6 rounded-xl overflow-hidden",children:a.jsx("img",{src:c.image_url,alt:"Dream visualization",className:"w-full h-auto object-cover"})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-purple-400 mb-2",children:r.library.yourDream}),a.jsx("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:c.dream_text})]}),c.analysis_text&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-pink-400 mb-2",children:r.library.analysis}),a.jsx("p",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:c.analysis_text})]}),a.jsxs("div",{className:"border-t border-purple-500/20 pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:r.social.comments}),e?a.jsxs("div",{className:"mb-6 flex gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-pink-500/30 flex items-center justify-center overflow-hidden flex-shrink-0",children:a.jsx($e,{className:"text-pink-400",size:16})}),a.jsxs("div",{className:"flex-1 flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:w=>x(w.target.value),onKeyPress:w=>w.key==="Enter"&&!w.shiftKey&&Ps(),placeholder:r.social.writeComment,className:"flex-1 px-4 py-2 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60"}),a.jsx("button",{onClick:Ps,disabled:!v.trim()||g,className:"px-4 py-2 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-lg hover:from-pink-500 hover:to-purple-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g?a.jsx(Se,{className:"animate-spin",size:18}):a.jsx(Jo,{size:18})})]})]}):a.jsxs("div",{className:"mb-6 p-4 bg-slate-950/30 rounded-lg text-center",children:[a.jsx("p",{className:"text-slate-400 mb-2",children:r.social.signInToComment}),a.jsx("button",{onClick:()=>{d(null),t("/signin")},className:"text-purple-400 hover:text-purple-300",children:r.social.signIn})]}),k?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:24})}):h.length===0?a.jsx("p",{className:"text-slate-400 text-center py-8",children:r.social.noComments}):a.jsx("div",{className:"space-y-4",children:h.map(w=>a.jsxs("div",{className:"flex gap-3 group",children:[a.jsx("button",{onClick:()=>t(`/profile/${w.user_id}`),className:"w-8 h-8 rounded-full bg-gradient-to-br from-pink-500/20 to-purple-500/20 border border-pink-500/30 flex items-center justify-center overflow-hidden flex-shrink-0 hover:border-purple-400/50 transition-colors",children:w.profiles.avatar_url?a.jsx("img",{src:w.profiles.avatar_url,alt:w.profiles.full_name,className:"w-full h-full object-cover"}):a.jsx($e,{className:"text-pink-400",size:16})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("button",{onClick:()=>t(`/profile/${w.user_id}`),className:"text-white font-semibold text-sm hover:text-purple-400 transition-colors",children:w.profiles.full_name||r.social.anonymous}),a.jsx("p",{className:"text-slate-500 text-xs",children:Tn(w.created_at)}),e&&w.user_id===e.id&&a.jsx("button",{onClick:()=>ca(w.id),className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity p-1 text-slate-500 hover:text-red-400",title:r.social.deleteComment,children:a.jsx(Pt,{size:14})})]}),a.jsx("p",{className:"text-slate-300 text-sm",children:w.comment_text})]})]},w.id))})]})]})})})]})}function ay(){const{user:e}=tt(),t=rt(),{t:r}=Me(),[n,s]=S.useState(!1),[i,l]=S.useState(!1),[o,u]=S.useState(!1);S.useEffect(()=>{if(!e){t("/signin");return}c()},[e,t]);const c=async()=>{if(e)try{const{data:h,error:p}=await A.from("profiles").select("trial_used, trial_start, trial_end").eq("id",e.id).single();if(p)throw p;h!=null&&h.trial_used&&u(!0)}catch(h){console.error("Error checking trial status:",h)}},d=async()=>{if(!(!e||o)){s(!0);try{const h=new Date,p=new Date(h.getTime()+3*24*60*60*1e3),{error:v}=await A.from("profiles").update({trial_used:!0,trial_start:h.toISOString(),trial_end:p.toISOString()}).eq("id",e.id);if(v)throw v;l(!0)}catch(h){console.error("Error activating trial:",h)}finally{s(!1)}}};return e?a.jsxs("div",{className:"min-h-screen relative pt-24 pb-16 px-4 md:px-6",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 left-10 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"})]}),a.jsx("div",{className:"relative max-w-2xl mx-auto z-10",children:o?a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-yellow-500/20 rounded-2xl p-8 text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-500/20 flex items-center justify-center mx-auto mb-6",children:a.jsx(Ht,{className:"text-yellow-400",size:32})}),a.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:r.trial.alreadyUsed}),a.jsx("p",{className:"text-slate-400 mb-8",children:r.trial.alreadyUsedDesc}),a.jsx("button",{onClick:()=>t("/pricing"),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300",children:r.trial.viewPlans})]}):i?a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-green-500/20 rounded-2xl p-8 text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:a.jsx(we,{className:"text-green-400",size:32})}),a.jsx("h1",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-green-400 to-cyan-400 bg-clip-text text-transparent",children:r.trial.activated}),a.jsx("p",{className:"text-slate-300 text-lg mb-2",children:r.trial.activatedDesc}),a.jsx("p",{className:"text-slate-400 mb-8",children:r.trial.enjoy3Days}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-slate-950/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:r.trial.duration}),a.jsx("p",{className:"text-white font-semibold",children:r.trial.threeDays})]}),a.jsxs("div",{className:"bg-slate-950/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:r.trial.analyses}),a.jsx("p",{className:"text-white font-semibold",children:r.trial.threeAnalyses})]}),a.jsxs("div",{className:"bg-slate-950/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-1",children:r.trial.features}),a.jsx("p",{className:"text-white font-semibold",children:r.trial.fullAccess})]})]}),a.jsxs("button",{onClick:()=>t("/analyze"),className:"px-6 py-3 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300 inline-flex items-center gap-2",children:[r.trial.startAnalyzing,a.jsx(vf,{size:20})]})]}):a.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-8 text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-500/20 flex items-center justify-center mx-auto mb-6",children:a.jsx(Ht,{className:"text-purple-400",size:32})}),a.jsx("h1",{className:"text-3xl font-bold mb-4 bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:r.trial.activateTitle}),a.jsx("p",{className:"text-slate-300 text-lg mb-8",children:r.trial.activateDesc}),a.jsxs("div",{className:"bg-slate-950/50 rounded-lg p-6 mb-8 text-left",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:r.trial.whatsIncluded}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(we,{className:"text-green-400 flex-shrink-0 mt-0.5",size:20}),a.jsx("span",{className:"text-slate-300",children:r.trial.feature1})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(we,{className:"text-green-400 flex-shrink-0 mt-0.5",size:20}),a.jsx("span",{className:"text-slate-300",children:r.trial.feature2})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(we,{className:"text-green-400 flex-shrink-0 mt-0.5",size:20}),a.jsx("span",{className:"text-slate-300",children:r.trial.feature3})]})]})]}),a.jsx("button",{onClick:d,disabled:n,className:"w-full px-6 py-4 rounded-lg bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold hover:from-pink-500 hover:to-purple-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:n?r.trial.activating:r.trial.activateNow})]})})]}):null}function ly(){const{user:e}=tt(),t=rt();Me();const[r,n]=S.useState([]),[s,i]=S.useState(null),[l,o]=S.useState([]),[u,c]=S.useState(""),[d,h]=S.useState(!0),[p,v]=S.useState(!1),[x,k]=S.useState(""),[C,g]=S.useState([]),[m,f]=S.useState(!1),[b,E]=S.useState(!1),y=S.useRef(null);S.useEffect(()=>{if(!e){t("/signin");return}R();const j=A.channel("messages-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${e.id}`},T=>{console.log("New message received:",T),R(),s&&D(s)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${e.id}`},T=>{console.log("Message sent:",T),R(),s&&D(s)}).subscribe();return()=>{A.removeChannel(j)}},[e,t]),S.useEffect(()=>{(async()=>{if(!e)return;const I=new URLSearchParams(window.location.search).get("user");I&&I!==e.id&&await kt(I)})()},[e]),S.useEffect(()=>{s&&D(s)},[s]),S.useEffect(()=>{s&&r.length>0&&(r.find(T=>T.user_id===s)||(console.log("User not found in conversations, loading profile for:",s),_(s)))},[s,r]),S.useEffect(()=>{N()},[l]),S.useEffect(()=>{const j=setTimeout(()=>{x.trim()?ht():g([])},300);return()=>clearTimeout(j)},[x]);const N=()=>{var j;(j=y.current)==null||j.scrollIntoView({behavior:"smooth"})},_=async j=>{if(j)try{const{data:T,error:I}=await A.from("profiles").select("id, full_name, username, avatar_url").eq("id",j).single();if(I){console.error("Error loading user profile:",I);return}T&&(console.log("Loaded user profile:",T),n(q=>q.find(X=>X.user_id===T.id)?q:[{user_id:T.id,full_name:T.full_name,username:T.username,avatar_url:T.avatar_url,last_message:null,last_message_at:new Date().toISOString(),unread_count:0},...q]))}catch(T){console.error("Error loading user profile:",T)}},R=async()=>{if(e)try{const{data:j,error:T}=await A.from("messages").select("sender_id, receiver_id, message_text, created_at").or(`sender_id.eq.${e.id},receiver_id.eq.${e.id}`).order("created_at",{ascending:!1});if(T)throw T;const I=new Map;for(const q of j||[]){const ie=q.sender_id===e.id?q.receiver_id:q.sender_id;if(!I.has(ie)){const{data:X}=await A.from("profiles").select("id, full_name, username, avatar_url").eq("id",ie).single();X&&I.set(ie,{user_id:ie,full_name:X.full_name,username:X.username,avatar_url:X.avatar_url,last_message:q.message_text,last_message_at:q.created_at,unread_count:0})}}for(const[q,ie]of I){const{count:X}=await A.from("messages").select("*",{count:"exact",head:!0}).eq("sender_id",q).eq("receiver_id",e.id).is("read_at",null);ie.unread_count=X||0}n(Array.from(I.values()))}catch(j){console.error("Error loading conversations:",j)}finally{h(!1)}},D=async j=>{if(e)try{const{data:T,error:I}=await A.from("messages").select("*").or(`and(sender_id.eq.${e.id},receiver_id.eq.${j}),and(sender_id.eq.${j},receiver_id.eq.${e.id})`).order("created_at",{ascending:!0});if(I)throw I;o(T||[]),await A.from("messages").update({read_at:new Date().toISOString()}).eq("sender_id",j).eq("receiver_id",e.id).is("read_at",null),R()}catch(T){console.error("Error loading messages:",T)}},re=async()=>{if(!(!e||!s)&&confirm("Are you sure you want to delete this conversation? This cannot be undone."))try{const{error:j}=await A.from("messages").delete().or(`and(sender_id.eq.${e.id},receiver_id.eq.${s}),and(sender_id.eq.${s},receiver_id.eq.${e.id})`);if(j)throw j;i(null),o([]),R(),E(!1)}catch(j){console.error("Error deleting conversation:",j)}},Fe=async j=>{if(e)try{const{error:T}=await A.from("messages").delete().or(`and(sender_id.eq.${e.id},receiver_id.eq.${j}),and(sender_id.eq.${j},receiver_id.eq.${e.id})`);if(T)throw T;s===j&&(i(null),o([])),R()}catch(T){console.error("Error deleting conversation:",T)}},Oe=async()=>{if(!(!e||!s)&&confirm("Are you sure you want to block this user? You will no longer see their messages."))try{const{error:j}=await A.from("user_blocks").insert({blocker_id:e.id,blocked_id:s});if(j)throw j;await re()}catch(j){console.error("Error blocking user:",j)}},nt=async()=>{if(!e||!s||!u.trim())return;v(!0);const j=u.trim();c("");try{const{data:T,error:I}=await A.from("messages").insert({sender_id:e.id,receiver_id:s,message_text:j}).select();if(I){console.error("Error sending message:",I),c(j);return}console.log("Message sent successfully:",T),T&&T[0]&&o(q=>[...q,T[0]]),D(s),R()}catch(T){console.error("Error sending message:",T),c(j)}finally{v(!1)}},ht=async()=>{if(x.trim()){f(!0);try{const{data:j,error:T}=await A.from("profiles").select("id, full_name, username, avatar_url").or(`full_name.ilike.%${x}%,username.ilike.%${x}%`).neq("id",(e==null?void 0:e.id)||"").limit(10);if(T)throw T;g(j||[])}catch(j){console.error("Error searching users:",j)}finally{f(!1)}}},kt=async j=>{if(console.log("Starting conversation with:",j),r.find(I=>I.user_id===j))console.log("User already in conversations"),i(j),k(""),g([]);else try{console.log("User not in conversations, fetching profile...");const{data:I,error:q}=await A.from("profiles").select("id, full_name, username, avatar_url").eq("id",j).single();if(q){console.error("Profile fetch error:",q);return}if(I){console.log("Profile fetched:",I);const ie={user_id:I.id,full_name:I.full_name,username:I.username,avatar_url:I.avatar_url,last_message:null,last_message_at:new Date().toISOString(),unread_count:0};n(X=>[ie,...X]),i(j),setTimeout(()=>{k(""),g([])},200)}}catch(I){console.error("Error loading user profile:",I);return}},_e=j=>new Date(j).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),O=Bf.useMemo(()=>{if(!s)return null;const j=r.find(I=>I.user_id===s);if(j)return console.log("Found user in conversations:",j),j;const T=C.find(I=>I.id===s);return T?(console.log("Found user in search results:",T),T):(console.log("User not found!",{selectedConversation:s,conversationsCount:r.length,searchResultsCount:C.length}),{id:s,full_name:"Loading...",username:null,avatar_url:null})},[s,r,C]);return e?a.jsxs("div",{className:"min-h-screen relative pt-24 pb-16",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-40 right-10 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-40 left-10 w-96 h-96 bg-pink-500/5 rounded-full blur-3xl"})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 md:px-6 z-10",children:a.jsx("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-purple-500/20 rounded-2xl overflow-hidden",style:{height:"calc(100vh - 200px)"},children:a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:`w-full md:w-1/3 border-r border-purple-500/20 flex flex-col ${s?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{className:"p-4 border-b border-purple-500/20",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Messages"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",value:x,onChange:j=>k(j.target.value),placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60"})]}),C.length>0&&x.length>0&&a.jsxs("div",{className:"mt-2 max-h-60 overflow-y-auto space-y-1 border-b border-purple-500/20 pb-2",children:[a.jsx("div",{className:"text-xs text-slate-400 px-3 py-1 font-medium",children:"Search Results"}),C.map(j=>a.jsxs("button",{onClick:()=>kt(j.id),className:"w-full flex items-center gap-3 p-3 hover:bg-slate-800/50 rounded-lg transition-colors",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center flex-shrink-0 overflow-hidden",children:j.avatar_url?a.jsx("img",{src:j.avatar_url,alt:"",className:"w-full h-full object-cover"}):a.jsx($e,{size:20,className:"text-white"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-white font-medium",children:j.full_name}),j.username&&a.jsxs("p",{className:"text-slate-400 text-sm",children:["@",j.username]})]})]},j.id))]}),m&&x.length>0&&a.jsxs("div",{className:"mt-2 flex items-center justify-center p-4",children:[a.jsx(Se,{className:"animate-spin text-purple-400",size:20}),a.jsx("span",{className:"ml-2 text-slate-400",children:"Searching..."})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:d?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Se,{className:"animate-spin text-purple-400",size:32})}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-6",children:[a.jsx(fr,{size:48,className:"mb-4"}),a.jsx("p",{children:"No messages yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Search for users to start chatting"})]}):r.map(j=>a.jsxs("div",{className:`w-full flex items-center gap-3 p-4 border-b border-purple-500/10 hover:bg-slate-800/50 transition-colors group ${s===j.user_id?"bg-slate-800/50":""}`,children:[a.jsxs("button",{onClick:()=>i(j.user_id),className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center flex-shrink-0 overflow-hidden relative",children:[j.avatar_url?a.jsx("img",{src:j.avatar_url,alt:"",className:"w-full h-full object-cover"}):a.jsx($e,{size:24,className:"text-white"}),j.unread_count>0&&a.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-pink-500 rounded-full flex items-center justify-center text-xs font-bold text-white",children:j.unread_count})]}),a.jsxs("div",{className:"flex-1 text-left min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-white font-medium truncate",children:j.full_name}),j.last_message_at&&a.jsx("span",{className:"text-xs text-slate-400",children:_e(j.last_message_at)})]}),j.last_message&&a.jsx("p",{className:"text-slate-400 text-sm truncate",children:j.last_message})]})]}),a.jsx("button",{onClick:T=>{T.stopPropagation(),confirm(`Delete conversation with ${j.full_name}?`)&&Fe(j.user_id)},className:"flex-shrink-0 p-1.5 text-slate-400 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-all",title:"Delete conversation",children:a.jsx(Pt,{size:18})})]},j.user_id))})]}),a.jsx("div",{className:`flex-1 flex flex-col ${s?"flex":"hidden md:flex"}`,children:s&&O?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b border-purple-500/20 flex items-center gap-3",children:[a.jsx("button",{onClick:()=>i(null),className:"md:hidden text-slate-400 hover:text-white",children:a.jsx(jv,{size:24})}),a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center overflow-hidden",children:O.avatar_url?a.jsx("img",{src:O.avatar_url,alt:"",className:"w-full h-full object-cover"}):a.jsx($e,{size:20,className:"text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium",children:O.full_name}),"username"in O&&O.username&&a.jsxs("p",{className:"text-slate-400 text-sm",children:["@",O.username]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>E(!b),className:"p-2 text-slate-400 hover:text-white transition-colors",children:a.jsx(Lv,{size:20})}),b&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>E(!1)}),a.jsx("div",{className:"absolute right-0 top-12 w-48 bg-slate-900 border border-purple-500/30 rounded-lg shadow-2xl z-50 overflow-hidden",children:a.jsxs("button",{onClick:Oe,className:"w-full px-4 py-3 text-left hover:bg-slate-950/50 transition-colors flex items-center gap-3 text-red-400 hover:text-red-300",children:[a.jsx(Sv,{size:18}),a.jsx("span",{children:"Block User"})]})})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map(j=>{const T=j.sender_id===e.id;return a.jsx("div",{className:`flex ${T?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${T?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-800 text-white"}`,children:[a.jsx("p",{className:"break-words",children:j.message_text}),a.jsx("p",{className:`text-xs mt-1 ${T?"text-white/70":"text-slate-400"}`,children:_e(j.created_at)})]})},j.id)}),a.jsx("div",{ref:y})]}),a.jsx("div",{className:"p-4 border-t border-purple-500/20",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:u,onChange:j=>c(j.target.value),onKeyPress:j=>j.key==="Enter"&&!p&&nt(),placeholder:"Type a message...",className:"flex-1 px-4 py-2 bg-slate-950/50 border border-purple-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/60",disabled:p}),a.jsx("button",{onClick:nt,disabled:p||!u.trim(),className:"px-4 py-2 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-lg hover:from-pink-500 hover:to-purple-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p?a.jsx(Se,{className:"animate-spin",size:20}):a.jsx(Jo,{size:20})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fr,{size:64,className:"mx-auto mb-4"}),a.jsx("p",{children:"Select a conversation to start messaging"})]})})})]})})})]}):null}function oy(){const e=eu(),t=()=>{if(window.location.pathname.startsWith("/profile/"))return a.jsx(Pc,{});switch(e){case"/":return a.jsx(zc,{});case"/about":return a.jsx(Xv,{});case"/contact":return a.jsx(Zv,{});case"/analyze":return a.jsx(ey,{});case"/library":return a.jsx(ty,{});case"/pricing":return a.jsx(ny,{});case"/profile":return a.jsx(Pc,{});case"/dashboard":return a.jsx(sy,{});case"/social":return a.jsx(iy,{});case"/activate-trial":return a.jsx(ay,{});case"/messages":return a.jsx(ly,{});case"/signin":case"/signup":return a.jsx(ry,{});default:return a.jsx(zc,{})}};return a.jsxs("div",{className:"min-h-screen bg-slate-950",children:[a.jsx(Jv,{}),a.jsx(Yv,{}),t()]})}function uy(){return a.jsx(xv,{children:a.jsx(vv,{children:a.jsx(Hv,{children:a.jsx(Vv,{children:a.jsx(oy,{})})})})})}Wh(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(uy,{})}));
